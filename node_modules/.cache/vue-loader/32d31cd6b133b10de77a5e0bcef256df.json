{"remainingRequest":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiushunqun/Desktop/_/VV6/17soV/src/components/bkadd5_Mdf.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/src/components/bkadd5_Mdf.vue","mtime":1654879730760},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lZGl0LWZvcm0gewogICAgLyogbWF4LXdpZHRoOiAzMDBweDsKICBtYXJnaW46IGF1dG87ICovCn0K"},{"version":3,"sources":["bkadd5_Mdf.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgmCA;AACA;AACA;AACA","file":"bkadd5_Mdf.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div v-if=\"currentTutorial\" class=\"edit-form \">\n        <div class=\"flex justify-center w-full\">\n            <div class=\"w-1/3 text-xs align-text-bottom\"></div> \n\n              <v-btn-toggle\n                class=\"my-2\"\n                v-model=\"toggle_Devtool\"\n                tile\n                color=\"#16a34a\"\n                group \n              >\n                <v-btn value=\"left\">\n                  詳細資料\n                </v-btn>\n              </v-btn-toggle>\n              <v-spacer></v-spacer>\n\n              <span v-show=\"toggle_Devtool == left\" class=\"my-3 w-4/5 text-xs font-light \">\n                {{ pmt }} || {{ TmpAry_randomId }} \n              </span>\n\n            <div class=\"form-group w-2/3 flex py-3\">\n                <!-- <button class=\"border-2 border-solid px-2 mr-2\"  >\n              清除資料\n            </button> -->\n    \n                <v-chip color=\"red\" text-color=\"white\" class=\"mt-1 px-3 py-3 text-s font-bold\">\n                    {{ message }}\n                </v-chip>\n    \n                <v-spacer></v-spacer>\n    \n                <div class=\"text-center rounded py-2 px-10 text-s font-bold bg-green-500 text-white \">\n                    {{ currentTutorial.pos }} _ {{ currentTutorial.sno }} _ {{ currentTutorial.sno_idx }}\n                </div>\n    \n                <v-btn class=\"1/5 border-2 border-solid px-2 mx-2\" @click=\"updateTutorial\">\n                    上傳更新\n                </v-btn>\n\n                {{ fileName }}\n    \n                <v-btn class=\"1/5 border-2 border-solid px-2 mx-2\" @click=\"resetTutorial\">\n                    重新設定\n                </v-btn>\n    \n                <!-- <v-btn  class=\"1/5 border-2 border-solid px-2 mx-2\" @click=\"deleteTutorial\">\n              清除資料\n            </v-btn>  -->\n    \n                <!-- <v-btn  class=\"border-2 border-solid px-2\" @click=\"removeAllTutorials\">\n              刪除全部\n            </v-btn>  -->\n    \n                <!-- <v-alert   type=\"info\" > </v-alert> -->\n            </div>\n        </div>\n    \n        <form>\n          <div class=\"flex justify-center w-full mt-10 my-3\">\n            <v-row>\n                <div class=\"flex\"></div>\n                <div class=\"grid grid-cols-3 gap-0.5\">\n                    <!-- <span class=\"my-3 text-s font-black flex justify-end\" >  {{  this.dayjs(cT).format(\"MM/DD HH:mm:ss\") }}</span> -->\n                   \n        <div class=\"col-span-3 \">\n\n           <v-card color=\"#F5F5F5\">\n                                  <div class=\"grid grid-cols-3 gap-0.5\">\n                                    <div class=\"col-span-3 flex justify-between\">\n                                      <v-text-field\n                                        dense\n                                        clearable\n                                        v-model=\"currentTutorial.name\"\n                                        class=\"text-xs w-2/12 px-1\"\n                                        hint=\"姓名\"\n                                        placeholder=\"姓名\"\n                                      ></v-text-field>\n                                      <v-text-field\n                                        dense\n                                        clearable\n                                        v-model=\"currentTutorial.phone\"\n                                        class=\"text-xs w-3/12 px-1\"\n                                        hint=\"電話\"\n                                        placeholder=\"電話\"\n                                      ></v-text-field>\n                                      <v-text-field\n                                        dense\n                                        clearable\n                                        v-model=\"currentTutorial.ply_type\"\n                                        class=\"text-xs w-2/12 px-1\"\n                                        hint=\"客人類型\"\n                                        placeholder=\"客人類型\"\n                                      ></v-text-field>\n                                      <v-text-field\n                                        dense\n                                        clearable\n                                        v-model=\"currentTutorial.ply_statu\"\n                                        class=\"text-xs w-2/12 px-1\"\n                                        hint=\"消費階段\"\n                                        placeholder=\"消費階段\"\n                                      ></v-text-field>\n                                      <v-text-field\n                                        dense\n                                        clearable\n                                        v-model=\"currentTutorial.tmp_idx\"\n                                        class=\"text-xs w-1/12 px-1\"\n                                        hint=\"牌號\"\n                                        placeholder=\"牌號\"\n                                        v-on:change=\"updateTutorial\"\n                                      ></v-text-field>\n                                      <v-text-field\n                                        dense\n                                        clearable\n                                        v-model=\"currentTutorial.left_time\"\n                                        class=\"text-xs w-2/12 px-2\"\n                                        hint=\"離場時間\"\n                                        placeholder=\"離場時間\"\n                                        v-on:change=\"updateTutorial\"\n                                      ></v-text-field>\n                                    </div>\n\n                                    <div class=\"col-span-3 flex justify-between\">\n                                      <v-text-field\n                                        filled\n                                        clearable\n                                        v-model=\"currentTutorial.memo\"\n                                        class=\"text-xs w-4/12 px-1\"\n                                        hint=\"備註\"\n                                        placeholder=\"備註\"\n                                      ></v-text-field>\n                                      <v-text-field\n                                        filled\n                                        clearable\n                                        v-model=\"currentTutorial.player_group\"\n                                        class=\"text-xs w-2/12  px-1\"\n                                        hint=\"客人群組\"\n                                        placeholder=\"客人群組\"\n                                      ></v-text-field>\n                                    </div>\n\n                                    <div class=\"col-span-2 flex-row\">\n                                      <div class=\"m-2 rounded-2xl\">\n                                        <span class=\" text-xs \">消費階段</span>\n                                        <v-chip-group\n                                          v-model=\"currentTutorial.ply_statu\"\n                                          v-on:change=\"updateTutorial\"\n                                          column\n                                          class=\" \"\n                                        >\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"首次\"\n                                          >\n                                            首次\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-red-500     text-white text-x\"\n                                            value=\"免講習\"\n                                          >\n                                            免講習\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-yellow-500 text-white text-x\"\n                                            value=\"保留席\" \n                                          >\n                                            保留席\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-blue-500 text-white text-x\"\n                                            value=\"續未繳\"\n                                          >\n                                            續.未繳費\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500    text-white text-x\"\n                                            value=\"續時0.5 \"\n                                            @click=\"left_Mdf(1)\"\n                                          >\n                                            續0.5\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500    text-white text-x\"\n                                            value=\"續時1.0 \"\n                                            @click=\"left_Mdf(2)\"\n                                          >\n                                            續1.0\n                                          </v-chip>\n                                        </v-chip-group>\n                                      </div>\n\n                                      <div class=\"m-2 rounded-2xl\">\n                                        <span class=\" text-xs \">客人類型</span>\n                                        <v-chip-group\n                                          v-model=\"currentTutorial.ply_type\"\n                                          active-class=\"bg-yellow-600 text-white text-xs  \"\n                                          column\n                                          class=\" \"\n                                        >\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"散客\"\n                                          >\n                                            散客\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"自備弓\"\n                                          >\n                                            自備弓\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"學員\"\n                                          >\n                                            學員\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"明星\"\n                                          >\n                                            明星\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"月卡\"\n                                          >\n                                            月卡\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"選手\"\n                                          >\n                                            選手\n                                          </v-chip>\n                                        </v-chip-group>\n                                      </div>\n\n                                      <div class=\"flex justify-center\">\n                                        <div class=\"m-2 rounded-2xl\">\n                                          <span class=\" text-xs \">距離 （公尺）</span>\n                                          <v-chip-group\n                                            v-model=\"currentTutorial.memo\"\n                                            active-class=\"bg-yellow-600 text-white text-xs  \"\n                                            class=\" \"\n                                            multiple\n                                          >\n                                            <v-chip\n                                              active-class=\"bg-green-500   text-white text-x\"\n                                              value=\"體驗\"\n                                            >\n                                              體驗\n                                            </v-chip>\n                                            <v-chip\n                                              active-class=\"bg-green-500   text-white text-x\"\n                                              value=\"長距離\"\n                                            >\n                                              長距離\n                                            </v-chip>\n                                          </v-chip-group>\n                                        </div>\n\n                                        <div class=\" m-2 rounded-2xl\">\n                                          <span class=\" text-xs \">接駁需求</span>\n                                          <v-chip-group\n                                            v-model=\"currentTutorial.memo\"\n                                            active-class=\"bg-yellow-600 text-white text-xs  \"\n                                            class=\" \"\n                                            multiple\n                                          >\n                                            <v-chip\n                                              active-class=\"bg-red-500   text-white text-x\"\n                                              value=\"接駁.上下\"\n                                            >\n                                              接駁.上下\n                                            </v-chip>\n                                            <v-chip\n                                              active-class=\"bg-red-500   text-white text-x\"\n                                              value=\"接駁.下山\"\n                                            >\n                                              接駁.下山\n                                            </v-chip>\n                                            <v-chip\n                                              active-class=\"bg-red-500   text-white text-x\"\n                                              value=\"接駁.上山\"\n                                            >\n                                              接駁.上山\n                                            </v-chip>\n                                          </v-chip-group>\n                                        </div>\n                                      </div>\n                                      \n                                    </div>\n\n                                    <div class=\"col-span-1 flex-row\">\n                                      <div class=\"m-2  \" v-show=\"chk_leftTime() === 1\">\n                                        <span class=\" text-xs \">離場時間(上午)</span>\n                                        <v-chip-group\n                                          column\n                                          v-model=\"currentTutorial.left_time\"\n                                          class=\" \"\n                                        >\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"09:00\"\n                                          >\n                                            09:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-red-500     text-white text-x\"\n                                            value=\"10:00\"\n                                          >\n                                            10:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-blue-500    text-white text-x\"\n                                            value=\"11:00\"\n                                          >\n                                            11:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-pink-500    text-white text-x\"\n                                            value=\"12:00\"\n                                          >\n                                            12:00\n                                          </v-chip>\n                                        </v-chip-group>\n                                      </div>\n\n                                      <div class=\"m-2 \" v-show=\"chk_leftTime() === 2\">\n                                        <span class=\" text-xs \">離場時間(下午)</span>\n                                        <v-chip-group\n                                          column\n                                          v-model=\"currentTutorial.left_time\"\n                                          class=\" \"\n                                        >\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"13:00\"\n                                          >\n                                            13:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-red-500     text-white text-x\"\n                                            value=\"14:00\"\n                                          >\n                                            14:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-blue-500    text-white text-x\"\n                                            value=\"15:00\"\n                                          >\n                                            15:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-pink-500    text-white text-x\"\n                                            value=\"16:00\"\n                                          >\n                                            16:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-yellow-500 text-white text-x\"\n                                            value=\"17:00\"\n                                          >\n                                            17:00\n                                          </v-chip>\n                                        </v-chip-group>\n                                      </div>\n\n                                      <div class=\"m-2 \" v-show=\"chk_leftTime() === 3\">\n                                          <span class=\" text-xs \">離場時間(晚上)</span>\n                                        <v-chip-group\n                                          column\n                                          v-model=\"currentTutorial.left_time\"\n                                          v-show=\"chk_leftTime() == 3\"\n                                          class=\" \"\n                                        >\n                                          <v-chip\n                                            active-class=\"bg-green-500   text-white text-x\"\n                                            value=\"18:00\"\n                                          >\n                                            18:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-red-500     text-white text-x\"\n                                            value=\"19:00\"\n                                          >\n                                            19:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-blue-500    text-white text-x\"\n                                            value=\"20:00\"\n                                          >\n                                            20:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-pink-500    text-white text-x\"\n                                            value=\"21:00\"\n                                          >\n                                            21:00\n                                          </v-chip>\n                                          <v-chip\n                                            active-class=\"bg-yellow-500 text-white text-x\"\n                                            value=\"22:00\"\n                                          >\n                                            22:00\n                                          </v-chip>\n                                        </v-chip-group>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </v-card>\n        </div>\n        <div class=\"col-span-3 \"></div>\n                </div>\n            </v-row>\n          </div>\n        </form>\n  </div>\n\n  <div v-else>\n    <br />\n    <p>請 確認 靶位資訊...</p>\n  </div>\n</template>\n\n<script>\nimport TutorialDataService from \"../services/SeatPrepareService\";\nimport PmtDataService from \"../services/PmtService\";\n\nimport Vue from 'vue' \nimport JsonCSV from 'vue-json-csv'\nimport PmtService from '../services/PmtService';\nVue.component('downloadCsv', JsonCSV)\n\nexport default {\n    name: \"tutorial\",\n    props: [\"tutorial\"], \n    data() {\n        return {\n            tmp: {\n                memo: \"\",\n            },\n            toggle_Devtool:\"\", \n             dialog:false, \n             dg2:false, \n \n             // - - - - selector 選擇器 - - -\n            icc: ['Foo', 'Bar', 'Fizz', 'Buzz'],\n            steps_name: [ \"預先填寫\", \"報到繳費\", \"安排靶位\",'確認號碼牌', \"追問續時\", \"入帳登記\", \"快速入場\"],\n            ply_statu: [\"首次\", \"續時\", \"免安\", \"練習\", \"上課\"],\n            ply_type: [\"散客\", \"自備弓\", \"學員\", \"明星\", \"選手\", \"月卡\"],\n            ply_amt: [ \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\",\"11\", \"12\", \"13\", \"14\", \"15\", \"16\", \"17\", \"18\", \"19\",\"20\", \"21\", \"22\" ],\n            \n            left_time_idx: [\"18:00\", \"19:00\", \"20:00\", \"21:00\", \"22:00\"],\n\n            pmt_statu: [\"已建立\", \"已審核\", \"已入帳\", \"作廢\"],\n            pmt_type: [ \"現金\", \"LniePay\", \"信用卡\", \"網銀轉帳\", \"動茲券\", \"練習券\", ],\n\n            tabs_idx_mid: [\"00射箭場\", \"01應用射箭\", \"15投影互動\", \"全部\"],\n            tabs_idx_dtl: [ \"預設\", \"常用\", \"0001場地\", \"0002租弓\", \"0003活動\", \"0004課程\", \"0005運動卷\", \"0099其它\", \"食品\",\"工具\"],\n            tabs_idx_cnt: [ \"0001場地\", \"0002租弓\", \"0003活動\", \"0004課程\", \"0005運動卷\", \"0099其它\", \"食品\", \"工具\" ],\n             \n            hds_Left: [ \n              { text: '名稱', value: 'name' },\n              { text: '消費進度', value: 'ply_statu' }, \n              { text: '消費單號', value: 'pmt_sno' },\n              { text: '收入', value: 'memo' },\n              { text: '現金', value: 'memo' },\n              { text: '網銀轉帳', value: 'memo' },\n              { text: '信用卡', value: 'memo' },\n              { text: 'LinePay', value: 'memo' },\n              { text: '動茲券', value: 'memo' },\n            ],\n\n            // 修改內容\n            headers: [ \n            { text: '名稱', value: 'name' },\n            \n            { text: '牌號', value: 'ply_amt' }, \n            { text: '手機', value: 'phone' },\n            { text: '流水號', value: 'key' },\n            { text: '編輯', value: 'edit' },\n            { text: '產品名稱', value: 'pd_name' },\n            { text: '備註', value: 'memo' },\n            ],\n\n            head_st: [ \n            { text: '名稱', value: 'name' }, \n            { text: '流水號', value: 'key' }, \n\n            { text: '續時排位', value: 'pre_seat' },\n            { text: '消費單號', value: 'memo' },\n            // { text: '選取', value: 'glutenfree' },\n            \n            // { text: '離場時間', value: 'left_time' },\n            ],\n            \n            // - - - 暫時容器 - - - \n            STLists: {\n              key:\"\",\n              nema:\"\",\n              nk_N:\"\",\n            }, \n\n            PmtLists: [], \n            tutorials: [],  \n            search: \"\",\n            paynote_sno: \"\", \n            \n            autoCNT: false,\n            Bking_shootPos: false,\n            Bking_Tmp_idx: false,\n            \n            // - - - - UI 介面判斷容器 - - -\n            show: true,\n            showw: false,\n            showww: false,\n            showwww: false,\n            message: \"請選擇一筆資料\",\n            step_idx_now: 6, \n            \n            // - - - - 暫時性容器 - - -\n            json: \"\", // Ragic PdList\n            tabs_Now: null,\n            TmpAry_randomId: [],\n            TmpAry_tmp_idx: [],\n            TmpAry_ply_statu: [],\n            TmpAry_ply_type: [],\n\n            TmpAry_WillPut_tmp_idx: [],\n\n            tmp_idx_fst:0,  \n            tmp_idx_ary:[],      \n            \n            selected:[],   \n            bch_A:\"\",\n            bch_B:\"\",\n            // shootPos_dtl this.pmt.dtl_1.ply_amt ,TmpAry_WillPut_tmp_idx\n            // - - - 暫時容器 - - - \n             \n            pmt: { \n                name: \"\", // 顧客姓名 \n                phone:\"\", \n                ply_amt: \"\",// 入場人數 \n                plySTATU: \"首次\",// 消費歷程\n                left_time:\"\",\n\n                // 現金收入\n\n                pmt_amt: {\n                    need_get: 0,\n                    real_get: 0,\n                    blscfg: \"\",\n\n                    payCash: 0,\n                    payLinPay: 0,\n                    payCTCard: 0,\n                    payNetBank: 0,\n                    payGovTik: 0,\n                },\n                // 登入日期\n                creatDate: \"\",\n                // 登入時間\n                // creatTime:new Date(),\n                // 位置\n                shootPos_dtl: [],\n\n                // 第1次登入位置\n                dtl_1: {\n                    pd_sno: \"\",\n                    pd_name: \"\",\n                    ply_type: \"\",\n                    ply_amt: 0,\n                },\n                // 第2次登入\n                dtl_2: {\n                    pd_sno: \"\",\n                    pd_name: \"\",\n                    ply_type: \"\",\n                    ply_amt: 0,\n                },\n            },\n            currentTutorial: {\n                sno_id: \"\",\n\n                pos: \"\",\n                sno: \"\",\n                sno_idx: \"\",\n                left_time: \"\",\n                tmp_idx: \"\",\n                memo: \"\",\n\n                ply_type: \"\",\n                ply_statu: \"\",\n\n                paymtTyp: \"\",\n\n                pd_sno: \"\",\n\n                amt: \"\",\n                paymt: \"\",\n                slted: [], \n                // player_group:\"\",\n            },\n        };\n    },\n    watch: {\n        tutorial: function(tutorial) {\n            this.currentTutorial = { ...tutorial };\n            this.message = \"\";\n        },\n\n        ctr_leftTime() {\n            var d = new Date();\n            let r = d.getHours();\n            if (r < 12) {\n                this.fb_time = 0;\n            } else if (r >= 12 && r <= 18) {\n                this.fb_time = 1;\n            } else if (r >= 18 && r <= 23) {\n                this.fb_time = 2;\n            }\n            this.currentTutorial.memo = this.fb_time + \"||||\" + r;\n        },\n\n        steps(val) {\n            if (this.step_idx_now > val) {\n                this.step_idx_now = val;\n            }\n        },\n\n        \n\n        // ch_tmp_idx(val)\n        // {\n        //   let r = 0\n        //   if(val > 0){ r = val }\n        //   return r\n        // }\n    },\n\n    created: function() {\n        fetch(\n                \"https://www.ragic.com/xihu/forms/137?api&APIKey=cHB2WURReGNHLzNaU1JyZ2h0YlVwbW5DM1JmN2VzRDV5ZUtQNVlrcXJtZWVhYjZoUHl6UmVWbmkvRkI5Zi82cw==&listing\"\n            )\n            .then((r) => r.json())\n            .then((json) => {\n                this.json = json;  \n            });\n    },\n\n    methods: {\n        getPrice(idxinput) {\n            let r = 0;\n            let cfg = 0;\n            for (var i = 0; i < this.json.length; i++) {\n                if (idxinput == this.json[i].商品代號) {\n                    cfg = i;\n                }\n            }\n            r = this.json[cfg].商品價格;\n            // if(idxinput == 10011){ r = 100 }\n            // else if(idxinput == 50005){ r = 500 }\n\n            return r;\n        },\n\n        tmp_idx_fst:0,  \n                 \n// 寫到這邊...  \n\n        CNT_tmp_idx() {\n            let r = this.tmp_idx_fst;  \n            let Max = parseInt(this.tmp_idx_fst) + parseInt(this.pmt.shootPos_dtl.length) ; \n            for (var i = r; i < Max; i++) \n            { \n              this.TmpAry_tmp_idx.push(i)\n              this.TmpAry_ply_statu.push('首次') \n              this.TmpAry_ply_type.push('散客')  \n            }  \n        },\n        CNTneed_pmt() {\n            let r = 0;\n            let idxinput = this.pmt.dtl_1.pd_sno;\n            if (idxinput == 10011) {\n                r = 100;\n            } else if (idxinput == 50005) {\n                r = 500;\n            }\n            this.pmt.pmt_amt.need_get = r * parseInt(this.pmt.dtl_1.ply_amt);\n\n            this.BLS_pmt();\n            this.CNTply_amt();\n        },\n        BLS_pmt() {\n            let r =\n                parseInt(this.pmt.pmt_amt.payCash) +\n                parseInt(this.pmt.pmt_amt.payLinPay) +\n                parseInt(this.pmt.pmt_amt.payNetBank) +\n                parseInt(this.pmt.pmt_amt.payCTCard) +\n                parseInt(this.pmt.pmt_amt.payGovTik);\n\n            let feedback = this.pmt.pmt_amt.need_get - r;\n            if (r == 0) {\n                this.pmt.pmt_amt.blscfg = \"尚未繳費\";\n            } else if (feedback == 0) {\n                this.pmt.pmt_amt.blscfg = \"剛剛好，沒問題\";\n            } else if (feedback > 0) {\n                this.pmt.pmt_amt.blscfg = \"少了\" + feedback + \"元\";\n            } else if (feedback < 0) {\n                this.pmt.pmt_amt.blscfg = \"多\" + feedback * -1 + \"元\";\n            }\n        },\n        CNTpmt_Amt() {\n            let r =\n                parseInt(this.pmt.pmt_amt.payCash) +\n                parseInt(this.pmt.pmt_amt.payLinPay) +\n                parseInt(this.pmt.pmt_amt.payNetBank) +\n                parseInt(this.pmt.pmt_amt.payCTCard) +\n                parseInt(this.pmt.pmt_amt.payGovTik);\n\n            this.pmt.pmt_amt.real_get = r;\n\n            this.CNTneed_pmt();\n        },\n\n        CNTply_amt() {\n            let n1 = 0;\n            let n2 = 0;\n            if (\n                (parseInt(this.pmt.dtl_1.ply_amt) !== null) |\n                (parseInt(this.pmt.dtl_1.ply_amt) !== NaN)\n            ) {\n                n1 = parseInt(this.pmt.dtl_1.ply_amt);\n            }\n            if (\n                (parseInt(this.pmt.dtl_2.ply_amt) !== null) |\n                (parseInt(this.pmt.dtl_2.ply_amt) !== NaN)\n            ) {\n                n2 = parseInt(this.pmt.dtl_2.ply_amt);\n            }\n\n            this.pmt.ply_amt = n1 + n2;\n        },\n\n        mdf_shootPos(idx) {},\n\n        savePmt2() {\n            let randomId = Math.floor(Math.random() * 1000) + \"A\" + Date.now();\n            var data = {\n                name: this.pmt.name,\n                phone: this.pmt.phone,\n                // real_get      : parseInt(this.pmt.real_get),\n                // need_get      : parseInt(this.pmt.need_get),\n                // payCTCard     : parseInt(this.pmt.payCTCard),\n                // payCash       : parseInt(this.pmt.payCash),\n                // payLinPay     : parseInt(this.pmt.payLinPay),\n                // payGovTik     : parseInt(this.pmt.payGovTik),\n\n                pd_name: this.pmt.dtl_1.pd_name,\n                ply_amt: this.pmt.dtl_1.ply_amt,\n\n                // shootPos_dtl   :this.pmt.shootPos_dtl,\n            };\n\n            PmtDataService.setuuID(randomId.toString(), data)\n                .then(() => {\n                    this.message = \"成功紀錄，收費資料\";\n                    this.TmpAry_randomId.push(randomId.toString());\n                    this.step_idx_now =2;\n                })\n                .catch((e) => {\n                    console.log(e);\n                    this.message = \"收費未成功..請再試一次\";\n                });\n        },\n\n        editItem (item) {\n                this.editedIndex = this.tutorials.indexOf(item)\n                this.editedItem = Object.assign({}, item) \n                this.dialog = true \n\n                this.t.key = item.key \n\n                },\n\n        // - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n        updateTutorial() {\n            const data = {\n                sno_id: this.currentTutorial.sno_idx,\n                pos: this.currentTutorial.pos,\n                sno: this.currentTutorial.sno,\n                sno_idx: this.currentTutorial.sno_idx,\n\n                tmp_idx: this.currentTutorial.tmp_idx,\n                left_time: this.currentTutorial.left_time,\n                memo: this.currentTutorial.memo,\n\n                amt: this.currentTutorial.amt,\n                paymt: this.currentTutorial.paymt,\n                ply_statu: this.currentTutorial.ply_statu,\n\n                ply_type: this.currentTutorial.ply_type,\n            };\n\n            TutorialDataService.update(this.currentTutorial.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        upT(idx) { \n\n            PmtService.update(idx.key, idx)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n            alert(idx);\n        },\n\n        upT_Mdf(idx) { \n\n            PmtService.update(idx.key, idx)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n            alert(idx);\n        },\n\n        upT_byChk() { \n\n          \n          for (var T = 0; T <= this.selected.length; T++) { \n            \n              const data={ \n\n                key:this.selected[T].key,\n                name:this.selected[T].name,\n                ply_amt:this.bch_A, \n              }\n              \n              \n              \n              PmtService.update(data.key, data)\n              .then(() => {\n                  this.message = \"更新資料，上傳成功!\";\n              })\n              .catch((e) => {\n                  console.log(e);\n              });\n              \n           }\n            alert('更新完成');   \n        },\n        \n        \n\n        pass_payclass_byragic(pd_id_rgc, pd_acnt, pd_name) {},\n\n        trans_payclass_byragic(ctx) {\n            this.paynote_sno = ctx;\n        },\n        trans_pmtkey_2ary(ctx){\n            this.TmpAry_randomId.push(ctx)\n        },\n\n        left_Mdf(detal) {\n            var strAry = this.currentTutorial.left_time.split(\":\");\n            if (detal == 1) {\n                if (parseInt(strAry[1]) >= 30) {\n                    this.currentTutorial.left_time =\n                        parseInt(strAry[0]) + 1 + \":\" + (parseInt(strAry[1]) - 30);\n                } else if (parseInt(strAry[1]) < 30) {\n                    this.currentTutorial.left_time =\n                        strAry[0] + \":\" + (parseInt(strAry[1]) + 30);\n                }\n            } else if (detal == 2) {\n                this.currentTutorial.left_time =\n                    parseInt(strAry[0]) + 1 + \":\" + strAry[1];\n            }\n        },\n\n        numMdf(idx) {\n            if (idx == 1) {\n                this.currentTutorial.tmp_idx++;\n            } else if (idx == 2) {\n                this.currentTutorial.tmp_idx--;\n            }\n        },\n\n        resetTutorial() {\n            this.currentTutorial.tmp_idx = \"\";\n            this.currentTutorial.left_time = \"\";\n            this.currentTutorial.memo = \"\";\n\n            this.currentTutorial.ply_statu = \"\";\n            // this.currentTutorial.ply_type = \"\";\n            // this.currentTutorial.ply_type = \"\";\n\n            this.currentTutorial.paymt = \"\";\n            this.currentTutorial.amt = \"\";\n\n            const data = {\n                tmp_idx: \"\",\n                left_time: \"\",\n                memo: \"\",\n\n                ply_statu: \"\",\n                ply_type:\"\",\n                \n                amt: \"\",\n                paymt: \"\",\n            };\n\n            TutorialDataService.update(this.currentTutorial.key, data)\n                .then(() => {\n                    this.message = \"資料，清除成功 !\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        updateShoootPos(statu) { \n          \n          var ary = this.pmt.shootPos_dtl;\n          var data = []\n            if(statu == 1 )\n            {\n                  // 靶位,填入單號\n                  for (var n = 0; n < ary.length; n++) {  \n                  data = { \n                        memo: this.TmpAry_randomId[this.TmpAry_randomId.length - 1],   \n                    }; \n                    TutorialDataService.update(ary[n], data)\n                        .then(() => {\n                            this.message = \"更新資料，上傳成功!\";\n                        })\n                        .catch((e) => {\n                            console.log(e);\n                        });\n                }\n                this.step_idx_now =3;\n                this.Bking_shootPos = false; /// 關閉 已儲存內容\n            }\n            else if (statu == 2)\n            {\n                  // 靶位,填入流水號\n                  for (var M = 0; M < ary.length; M++) {  \n                  data = { \n\n                        memo: this.TmpAry_randomId[this.TmpAry_randomId.length - 1], \n                        tmp_idx: this.TmpAry_tmp_idx[M],  \n                        ply_type: this.TmpAry_ply_type[M], \n                        ply_statu: this.TmpAry_ply_statu[M],  \n                    };  \n                    TutorialDataService.update(ary[M], data)\n                        .then(() => {\n                            this.message = \"更新資料，上傳成功!\";\n                        })\n                        .catch((e) => {\n                            console.log(e);\n                        });\n                }\n                this.step_idx_now =4;\n                this.Bking_Tmp_idx=false; \n            } \n\n            // for (var n = 0; n < ary.length; n++) { \n\n            //   data = { \n            //         tmp_idx: this.TmpAry_tmp_idx[this.TmpAry_tmp_idx.length - 1],  \n            //         ply_type: this.TmpAry_ply_type[this.TmpAry_tmp_type.length - 1], \n            //         ply_statu: this.TmpAry_ply_statu[this.TmpAry_tmp_statu.length - 1],  \n            //     }; \n\n            //     TutorialDataService.update(ary[n], data)\n            //         .then(() => {\n            //             this.message = \"更新資料，上傳成功!\";\n            //         })\n            //         .catch((e) => {\n            //             console.log(e);\n            //         });\n            // }\n        },\n        deleteTutorial() {\n            TutorialDataService.delete(this.currentTutorial.key)\n                .then(() => {\n                    this.$emit(\"refreshList\");\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        removeAllTutorials() {\n            TutorialDataService.deleteAll()\n                .then(() => {\n                    this.refreshList();\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        chk_leftTime() {\n            var r = 0;\n            let k = this.dayjs(Date.now()).format(\"HH\");\n            if (k <= 12) {\n                r = 1;\n            } else if (k > 10 && k <= 18) {\n                r = 2;\n            } else if (k > 16 && k <= 25) {\n                r = 3;\n            }\n            return r;\n        }, \n        // - - - - - - - - - - - - - - - - - - - - -\n        updateCurrentTime() {\n            this.cT = Date.now();\n        },\n\n        load_STLists() {\n            // let r = this.tmp_idx_fst;  \n            // let Max = parseInt(this.tmp_idx_fst) + parseInt(this.pmt.shootPos_dtl.length) ; \n            for (var i = r; i < Max; i++) \n            { \n              \n              \n              this.STLists.push(i) \n            }  \n        },\n\n        onDataChange(items) {\n            let _tutorials = [];\n            items.forEach((item) => {\n                let key = item.key;\n                let data = item.val();\n                _tutorials.push({\n                    key: key,\n                    pos: data.pos,\n                    sno: data.sno,\n                    sno_idx: data.sno_idx,\n                    sno_id: data.sno_id,\n\n                    tmp_idx: data.tmp_idx,\n                    left_time: data.left_time,\n                    memo: data.memo,\n\n                    player_group: data.player_group,\n                    amt: data.amt,\n                    paymt: data.paymt,\n\n                    ply_slted: data.ply_slted,\n                    ply_type: data.ply_type, \n                });\n            });\n\n            this.tutorials = _tutorials;\n\n            let _STLists = [];\n            items.forEach((item) => {\n                let key = item.key;\n                let data = item.val();\n                _STLists.push({\n                    key: key, \n                    pos: data.pos,\n                    sno: data.sno,\n                    sno_idx: data.sno_idx,\n                    nk_N: data.pos+\"_\"+data.sno+\"_\"+data.sno_idx,\n                });\n            });\n\n            this.STLists = _STLists;\n        },\n\n        pmt_onDataChange(items) {\n\n            let _tansCATM = [];\n            items.forEach((item) => {\n                let key = item.key;\n                let data = item.val();\n                _tansCATM.push({\n\n                    key: key,\n                    name: data.name, \n                    phone:data.phone,\n                    ply_amt: data.ply_amt,\n                    memo: data.memo,\n                    pd_name: data.pd_name,\n                });\n            });\n\n            this.pmtLists = _tansCATM;\n        },\n\n       \n    },\n    mounted() {\n        TutorialDataService.getAll().on(\"value\", this.onDataChange);\n\n        PmtDataService.getAll().on(\"value\", this.pmt_onDataChange);\n\n        this.message = \"\";\n        this.currentTutorial = { ...this.tutorial };\n        // this.getFile_name();\n    },\n};\n</script>\n\n<style>\n.edit-form {\n    /* max-width: 300px;\n  margin: auto; */\n}\n</style>\n"]}]}