{"remainingRequest":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiushunqun/Desktop/_/VV6/17soV/src/components/bdadd7_List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/src/components/bdadd7_List.vue","mtime":1657434777639},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/_/VV6/17soV/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUdXRvcmlhbERldGFpbHMgZnJvbSAiLi9ia2FkZDVfTWRmIjsKaW1wb3J0IFR1dG9yaWFsRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvU2VhdFByZXBhcmVTZXJ2aWNlIjsKCgoKaW1wb3J0IEJraW5nTm90ZURhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0JraW5nTm90ZURhdGFTZXJ2aWNlIjsKCmltcG9ydCBTZWF0RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvU2VhdFByZXBhcmVTZXJ2aWNlIjsKCmltcG9ydCBIaXN0b3J5RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvSGlzdG9yeURhdGFTZXJ2aWNlIjsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKCgppbXBvcnQgUG10RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvUG10U2VydmljZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgSnNvbkNTViBmcm9tICd2dWUtanNvbi1jc3YnClZ1ZS5jb21wb25lbnQoJ2Rvd25sb2FkQ3N2JywgSnNvbkNTVikKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJ0dXRvcmlhbHMtbGlzdCIsCiAgICBjb21wb25lbnRzOiB7IFR1dG9yaWFsRGV0YWlscyB9LAoKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIC0gLSAtIC0gLSAKICAgICAgICAgICAgY3VycmVudFRpbWU6IERhdGUubm93KCksCiAgICAgICAgICAgIGNUOiAiIiwKICAgICAgICAgICAgY3VUOiAiIiwKICAgICAgICAgICAgcGx5U1RBVFU6ICIiLAogICAgICAgICAgICBhbWVuaXRpZXM6IFtdLAogICAgICAgICAgICBleGlzdHNfTm93OiBbMCwgMCwgMCwgMCwgMCwgMF0sCiAgICAgICAgICAgIC8vIC0gLSAtIC0gLSAKICAgICAgICAgICAg6aCQ5o6S6Z225L2NdGNoMTogdHJ1ZSwKICAgICAgICAgICAg6aCQ5o6S6Z225L2NdGNoMjogZmFsc2UsCiAgICAgICAgICAgIG9wYzogMC44LAogICAgICAgICAgICBjb2xvcjogWydyZWQnLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2dyZWVuJywgJ2dyZWVuJywgJ2dyYXknLCAnZ3JheScsICdibHVlJywgJ2JsdWUnLCAncmVkJywgJ3JlZCcsICdibHVlJywgJ2JsdWUnLAogICAgICAgICAgICAgICAgJ2dyZWVuJywgJ2dyZWVuJywgJ3JlZCcsICdyZWQnLCAnZ3JlZW4nLCAnZ3JlZW4nLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2JsdWUnLCAnYmx1ZScsICdncmVlbicsICdncmVlbicsCiAgICAgICAgICAgICAgICAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2dyZWVuJywgJ2dyZWVuJywgJ3JlZCcsICdyZWQnLCAneWVsbG93JywgJ3llbGxvdycKICAgICAgICAgICAgXSwKCiAgICAgICAgICAgIGNvbG9yMjogWydyZWQnLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2dyZWVuJywgJ2dyZWVuJywgJ2dyYXknLCAnZ3JheScsICdibHVlJywgJ2JsdWUnLCAneWVsbG93JywgJ3llbGxvdycsICd5ZWxsb3cnLCAnYmx1ZScsICdibHVlJywKICAgICAgICAgICAgICAgICdncmVlbicsICdncmVlbicsICdyZWQnLCAncmVkJywgJ2dyYXknLCAnZ3JheScsICdyZWQnLCAncmVkJywgJ3llbGxvdycsICd5ZWxsb3cnLCAnYmx1ZScsICdibHVlJywgJ2dyZWVuJywgJ2dyZWVuJywKICAgICAgICAgICAgICAgICdyZWQnLCAncmVkJywgJ3llbGxvdycsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnZ3JlZW4nLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JwogICAgICAgICAgICBdLAoKCiAgICAgICAgICAgIGV4MTE6IFsncmVkJ10sCiAgICAgICAgICAgIGV4OiBmYWxzZSwKICAgICAgICAgICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0KICAgICAgICAgICAgRXhUbmRwYW5lbDogW10sCiAgICAgICAgICAgIHNoZWV0OiBmYWxzZSwKICAgICAgICAgICAgcHJlX2lkeDogIiIsCiAgICAgICAgICAgIExzdFg6IFswXSwKICAgICAgICAgICAgc2hvdWxkUHV0OiBmYWxzZSwKCiAgICAgICAgICAgIEJrTHN0X05vdzogewogICAgICAgICAgICAgICAgcHJlX3RtcF9pZHg6ICcnLAogICAgICAgICAgICAgICAgcHJlX21iX3Bob25lOiAnJywKICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6ICcnLAoKICAgICAgICAgICAgICAgIHBseV9hbXQ6ICcnLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiAn6aCQ57SEJywKICAgICAgICAgICAgICAgIHByZV9TZWF0OiBbJzAnXSwKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIEJrTGlzdHNfRHJhZnQ6IFt7CiAgICAgICAgICAgICAgICAgICAgcHJlX3RtcF9pZHg6ICflionmsLTluK0nLAogICAgICAgICAgICAgICAgICAgIHByZV9tYl9waG9uZTogJzA5MjM0NDQ1NTUnLAogICAgICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6ICcxMzowMCcsCiAgICAgICAgICAgICAgICAgICAgcGx5X2FtdDogMSwKICAgICAgICAgICAgICAgICAgICBwcmVfU2VhdDogW10sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiAn5ZCz5bCP5aqaKDLlpKcx5bCPKScsCiAgICAgICAgICAgICAgICAgICAgcHJlX21iX3Bob25lOiAnMDkyMzQ0NDU1NScsCiAgICAgICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTogJzEzOjAwJywKCiAgICAgICAgICAgICAgICAgICAgcGx5X2FtdDogMywKICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICfpoJDntIQnLAogICAgICAgICAgICAgICAgICAgIHByZV9TZWF0OiBbXSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcHJlX3RtcF9pZHg6ICflu5blpKfnoLInLAogICAgICAgICAgICAgICAgICAgIHByZV9tYl9waG9uZTogJzA5MjM0NDQzNDUnLAogICAgICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6ICcxMjowMCcsCiAgICAgICAgICAgICAgICAgICAgcGx5X2FtdDogMiwKICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICfpoJDntIQnLAogICAgICAgICAgICAgICAgICAgIHByZV9TZWF0OiBbXSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcHJlX3RtcF9pZHg6ICfokaPlk6HlpJYo5YWo5piO5pif6Jed5Lq6KScsCiAgICAgICAgICAgICAgICAgICAgcHJlX21iX3Bob25lOiAnMDkyOTk0NDU1NScsCiAgICAgICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTogJzE0OjAwJywKICAgICAgICAgICAgICAgICAgICBwbHlfYW10OiA0LAogICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+mgkOe0hCcsCiAgICAgICAgICAgICAgICAgICAgcHJlX1NlYXQ6IFtdLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogJ+iogOaJv+aXrScsCiAgICAgICAgICAgICAgICAgICAgcHJlX21iX3Bob25lOiAnMDkyODc2NDQ1NTUnLAogICAgICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6ICcxNjowMCcsCiAgICAgICAgICAgICAgICAgICAgcGx5X2FtdDogNiwKICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICfpoJDntIQnLAogICAgICAgICAgICAgICAgICAgIHByZV9TZWF0OiBbXSwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCgogICAgICAgICAgICBsb2NhdGlvbnM6IFsnQXVzdHJhbGlhJywgJ0JhcmJhZG9zJywgJ0NoaWxlJywgJ0Rlbm1hcmsnLCAnRWN1YWRvcicsICdGcmFuY2UnXSwKCiAgICAgICAgICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCgogICAgICAgICAgICBkaWFsb2c6IGZhbHNlLAogICAgICAgICAgICB0YWI6ICIiLAogICAgICAgICAgICB0YWJwOiAiIiwKICAgICAgICAgICAgY2tieDogIiIsCiAgICAgICAgICAgIGNvcHlSaWdodF9OOiBmYWxzZSwKICAgICAgICAgICAgY29weVJpZ2h0X1Q6IGZhbHNlLAogICAgICAgICAgICBjb3B5UmlnaHRfTTogZmFsc2UsCiAgICAgICAgICAgIGNvcHlSaWdodF9OX2F1dG86IGZhbHNlLAoKICAgICAgICAgICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gCiAgICAgICAgICAgIGRldl9Ub29MX3Nob3c6IGZhbHNlLAogICAgICAgICAgICBEZXZfVG9vbF8wOiBmYWxzZSwKICAgICAgICAgICAgRGV2X1Rvb2xfMTogZmFsc2UsCiAgICAgICAgICAgIERldl9Ub29sXzI6IGZhbHNlLAogICAgICAgICAgICBEZXZfVG9vbF8zOiBmYWxzZSwKCiAgICAgICAgICAgIGJjaF9sZWZ0X3RpbWU6ICIiLAogICAgICAgICAgICBiY2hfdG1wX2lkeDogIiIsCiAgICAgICAgICAgIGJjaF9tZW1vOiAiIiwKICAgICAgICAgICAgYXV0b190bXBfaWR4OiAiIiwKCiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICB0dXRvcmlhbHM6IFtdLAogICAgICAgICAgICBjdXJyZW50VHV0b3JpYWw6IG51bGwsCiAgICAgICAgICAgIGN1cnJlbnRJbmRleDogLTEsCgogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtCiAgICAgICAgICAgIHVzZV9CS2luZ0dwOiBmYWxzZSwKCiAgICAgICAgICAgIC8vIHBseV9zdGF0dV9MaXN0Olsn6aaW5qyhJywn5YWN6Kyb57+SJywn5L+d55WZ5bitJywn57qMLuacque5s+iyuycsJ+e6jDAuNScsJ+e6jDEuMCddLAogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAKICAgICAgICAgICAgUG10TGlzdHM6IFtdLAoKICAgICAgICAgICAgcDogWydrZXknLCAnbmFtZScsICdwaG9uZScsICdwbHlfYW10JywgJ3BseWQnXSwKCiAgICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgICAga2V5OiAn5rWB5rC057eo6JmfJywKICAgICAgICAgICAgICAgIHBob25lOiAn5omL5qmfJywKCiAgICAgICAgICAgICAgICBidWlsZF9kYXRlOiAn5pel5pyfJywKICAgICAgICAgICAgICAgIHBseV9hbXQ6ICfmlLblhaXph5HpoY3vvIjvvIvvvIknLAogICAgICAgICAgICAgICAgbWJfaWQ6ICfmnIPlk6Hnt6jomZ8nLAogICAgICAgICAgICAgICAgbWJfbmFtZTogJ+WuouaIticsCiAgICAgICAgICAgICAgICBwZF9JRDogJ+WVhuWTgee3qOiZnycsCiAgICAgICAgICAgICAgICBwZF9uYW1lOiAn55Si5ZOB5ZCN56ixJywKCiAgICAgICAgICAgICAgICBwYXlDYXNoOiAn54++6YeRJywKICAgICAgICAgICAgICAgIHBheUxpblBheTogJ0xpbmVwYXknLAogICAgICAgICAgICAgICAgcGF5Q1RDYXJkOiAn5Yi35Y2h5qmfJywKICAgICAgICAgICAgICAgIHBheU5ldEJhbms6ICfntrLot68o57ea5LiKKScsCiAgICAgICAgICAgICAgICBwYXlHb3ZUaWs6ICfli5Xmu4vljbcnLAoKICAgICAgICAgICAgICAgIG1lbW86ICflgpnoqLsnLAogICAgICAgICAgICAgICAgYmxzX0NOVDogJ+W3rumhjScsCiAgICAgICAgICAgICAgICBibHNfQ05UX3Jlc29uOiAn5beu6aGN5Y6f5ZugJywKCiAgICAgICAgICAgICAgICBhQ05UX3NDOiAn5bCP5YiG6aGeJywKICAgICAgICAgICAgICAgIHBjc19wcmljZTogJ+WWruWDuScsCiAgICAgICAgICAgICAgICBhQ05UX25hbWU6ICfmnIPoqIjnp5Hnm67lkI3nqLEnLAogICAgICAgICAgICAgICAgYUNOVF9jX0lEOiAn5pyD6KiI56eR55uu5Luj6JmfJywKICAgICAgICAgICAgICAgIGFDTlRfY19uYW1lOiAn56eR55uu5ZCN56ixJywKCiAgICAgICAgICAgICAgICBibGRfbmFtZTogJ+W7uueri+iAhScsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIGZpZWxkczogWyAnbmFtZScsJ3BseV9hbXQnLCdrZXknLCdwaG9uZScsJ3BseWQnXSwKICAgICAgICAgICAgZmllbGRzOiBbJ25hbWUnLCAncGhvbmUnLCAncGx5X2FtdCcsICdrZXknLCAnYnVpbGRfZGF0ZScsICdwYXlDYXNoJywgJ3BheU5ldEJhbmsnLCAncGF5Q1RDYXJkJywgJ3BheUdvdlRpaycsICdwYXlMaW5QYXknLCAnbWVtbycsICdibHNfQ05UJywgJ2Jsc19DTlRfcmVzb24nLCAnYUNOVF9zQycsICdwY3NfcHJpY2UnLCAnYUNOVF9uYW1lJywgJ2FDTlRfY19JRCcsICdhQ05UX2NfbmFtZSddLAogICAgICAgICAgICAvLyDkv67mlLlf57Ch5YyW54mI5pysICAKICAgICAgICAgICAgLy8g5pel5pyfJywn5Y6f5ZugJywn5pS25YWl6YeR6aGN77yI77yL77yJJywn5pyD5ZOh57eo6JmfJywn5a6i5oi2Jywn5ZWG5ZOB57eo6JmfJywn55Si5ZOB5ZCN56ixJywn6Yq35ZSu5pW46YePJywn5bCP6KiIJywn54++6YeRJywn57ay6LevKOe3muS4iiknLCfliLfljaHmqZ8nLCfljK/mrL4nLCfli5Xmu4vljbcnLCdMaW5lcGF5Jywn5YKZ6Ki7Jywn5beu6aGNJywn5beu6aGN5Y6f5ZugJywn5LuY5qy+5pa55byPJywn5bCP5YiG6aGeJywn5Zau5YO5Jywn5pyD6KiI56eR55uu5ZCN56ixJywn5pyD6KiI56eR55uu5Luj6JmfJywn56eR55uu5ZCN56ixJywn5bu656uL6ICFJywn5L+u5pS55pmC6ZaTJywgCiAgICAgICAgICAgIC8vIOWOn+eJiOacrAogICAgICAgICAgICAvLyDml6XmnJ8nLCfljp/lm6AnLCfml6XmnJ/nj63liKUnLCfmlLblhaXph5HpoY3vvIjvvIvvvIknLCfmnIPlk6Hnt6jomZ8nLCflrqLmiLYnLCfllYblk4Hnt6jomZ8nLCfnlKLlk4HlkI3nqLEnLCfpirfllK7mlbjph48nLCflsI/oqIgnLCfnj77ph5EnLCfntrLot68o57ea5LiKKScsJ+WIt+WNoeapnycsJ+WMr+asvicsJ+WLlea7i+WNtycsJ0xpbmVwYXknLCfpgYvli5XljbcnLCfnhorlpb3ljbcnLCfov6rljaHlhILljbcnLCflj7DngaNwYXknLCfnmbznpajomZ/norwnLCflgpnoqLsnLCflt67poY0nLCflt67poY3ljp/lm6AnLCfku5jmrL7mlrnlvI8nLCflsI/liIbpoZ4nLCfllq7lg7knLCfmlLblhaXnmbvpjIQnLCfmnIPoqIjnp5Hnm67lkI3nqLEnLCfmnIPoqIjnp5Hnm67ku6PomZ8nLCfnp5Hnm67lkI3nqLEnLCflrbjlk6HloLHlkI3oqrLnqIvku6PomZ8nLCflu7rnq4vogIUnLCfkv67mlLnmmYLplpMnLCc15YCN5Y23JwogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtIAogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtIAogICAgICAgICAgICBmaWxlTmFtZTogJ1VVVScsCiAgICAgICAgICAgIGFic29sdXRlOiB0cnVlLAogICAgICAgICAgICBvdmVybGF5OiBmYWxzZSwKICAgICAgICAgICAgb3ZlcmxheTI6IGZhbHNlLAogICAgICAgICAgICBjb3B5TW9yZTogZmFsc2UsCiAgICAgICAgICAgIHByZUNDOiBmYWxzZSwKICAgICAgICAgICAgdG9IZXJlOiAiIiwKICAgICAgICAgICAgdG9IZXJlX21vcmU6IFtdLAogICAgICAgICAgICBiZUNsZWFyOiBbXSwKCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzEyOiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMzQ6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF81NjogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzc4OiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfOTEwOiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMTE6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF8xMjEzOiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMTQxNTogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzE2MTc6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF8xODE5OiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMjAyMTogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzIyMjM6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF8yNDI1OiBbXSwKCiAgICAgICAgICAgIHN0YXJ0X2NvcHk6IDAsCgogICAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICB0b0hlcmVfbW9yZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSGVyZV9tb3JlLmZpbHRlcihjID0+IGMuc2VudFRpbWUuaW5kZXhPZih0aGlzLnNlYXJjaHMpICE9PSAtMSkKICAgICAgICB9LAoKICAgICAgICBjZmdfUG9zXzE6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50dXRvcmlhbHMuZmlsdGVyKGMgPT4gYy50bXBfaWR4ICE9ICcnICYmIGMucG9zID09ICfljJcnKS5sZW5ndGgKICAgICAgICB9LAoKICAgICAgICBjZmdfUG9zXzI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50dXRvcmlhbHMuZmlsdGVyKGMgPT4gYy50bXBfaWR4ICE9ICcnICYmIGMucG9zID09ICfljZcnKS5sZW5ndGgKICAgICAgICB9LAoKICAgICAgICBjZmdfUG9zXzM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50dXRvcmlhbHMuZmlsdGVyKGMgPT4gYy50bXBfaWR4ICE9ICcnICYmIGMucG9zID09ICfljJcnICYmIHRoaXMuQ2hrVGltZTJnZXRDb2xvcl9tZGYoYy5sZWZ0X3RpbWUsYy50bXBfaWR4KSA9PSAnI0U5MUU2MycpLmxlbmd0aAogICAgICAgIH0sCgogICAgICAgIGNmZ19Qb3NfNDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnR1dG9yaWFscy5maWx0ZXIoYyA9PiBjLnRtcF9pZHggIT0gJycgJiYgYy5wb3MgPT0gJ+WNlycgJiYgdGhpcy5DaGtUaW1lMmdldENvbG9yX21kZihjLmxlZnRfdGltZSxjLnRtcF9pZHgpID09ICcjRTkxRTYzJykubGVuZ3RoCiAgICAgICAgfSwKCiAgICAgICAgc3RDTlRfMTogZnVuY3Rpb24oZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50dXRvcmlhbHMuZmlsdGVyKGMgPT4gYy5tZW1vID09IGUpLmxlbmd0aAogICAgICAgIH0sCgogICAgICAgIC8vIGJrTGlzdF9ydnM6IGZ1bmN0aW9uKCkgewogICAgICAgIC8vICAgICByZXR1cm4gdGhpcy5Ca0xpc3RzLnJldmVyc2UoKQogICAgICAgIC8vIH0sCgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBjbGVhcl9jaGdQb3MoKSB7CiAgICAgICAgICAgIHRoaXMudG9IZXJlID0gIiI7CiAgICAgICAgICAgIHRoaXMudG9IZXJlX21vcmUgPSBbXTsKCiAgICAgICAgICAgIHRoaXMudG9IZXJlX21vcmUxMiA9IFtdOwogICAgICAgICAgICB0aGlzLnRvSGVyZV9tb3JlMzQgPSBbXTsKICAgICAgICAgICAgdGhpcy50b0hlcmVfbW9yZTU2ID0gW107CiAgICAgICAgICAgIHRoaXMudG9IZXJlX21vcmU3OCA9IFtdOwoKCiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNvcHlNb3JlID0gZmFsc2U7CgoKICAgICAgICB9LAogICAgICAgIGNoZ1BvcyhlKSB7CiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9ICF0aGlzLm92ZXJsYXkKCiAgICAgICAgICAgIC8vIGFsZXJ0KGUua2V5KTsKICAgICAgICB9LAoKICAgICAgICBjaGFuZ1BvcyhrZXkpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRtcF9pZHg6IHRoaXMuY3VycmVudFR1dG9yaWFsLnRtcF9pZHgsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IHRoaXMuY3VycmVudFR1dG9yaWFsLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIC8vIG1lbW86IHRoaXMuY3VycmVudFR1dG9yaWFsLm1lbW8sCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6IHRoaXMuY3VycmVudFR1dG9yaWFsLnBseV9zdGF0dSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3QgT0xEID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogIiIsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6ICIiLAogICAgICAgICAgICAgICAgLy8gbWVtbzoiIiwKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogIiIsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShrZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7fSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZSh0aGlzLmN1cnJlbnRUdXRvcmlhbC5rZXksIE9MRCkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5L+u5pS55a6M55WiIScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfpnbbkvY3lt7LpgLLooYwg6Kq/5pW0JywKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTIwMAogICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBsZF9IaXN0b3J5X21kZih0aGlzLmN1cnJlbnRUdXRvcmlhbCk7CiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2hhbmdQb3NfbWRmKGFyeSkgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBhcnkubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nUG9zKGFyeVtpXS5rZXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUzNC5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTM0W2ldLmtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTU2Lmxlbmd0aCAtIDE7IGkrKykgewogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlNTZbaV0ua2V5KTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNsZWFyX2NoZ1BvcygpOwogICAgICAgIH0sCiAgICAgICAgcHJlX0JlQ2xlYXIoKSB7CiAgICAgICAgICAgIC8vICB0aGlzLmNoYW5nUG9zX21vcmUoKTsKICAgICAgICAgICAgdGhpcy5wcmVDQyA9IHRydWU7CgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLmJlQ2xlYXIubGVuZ3RoOyBpKyspIHsgdGhpcy5jaGFuZ1Bvc19CZUNsZWFyKHRoaXMuYmVDbGVhcltpXS5rZXkpIH0KCgogICAgICAgIH0sCiAgICAgICAgY2hrX3ByZVN0KCkgewogICAgICAgICAgICBpZiAodGhpcy5zaG91bGRQdXQgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfTSA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmNvcHlSaWdodF9NID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKCgogICAgICAgIGNoYW5nUG9zX0JlQ2xlYXIoaCkgewoKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRtcF9pZHg6ICIiLAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiAiIiwKICAgICAgICAgICAgICAgIC8vIG1lbW86IiIsCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICIiLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoaCwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHt9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgfSwKCiAgICAgICAgY2hhbmdQb3NfbW9yZSgpIHsKCiAgICAgICAgICAgIHRoaXMucHJlQ0MgPSBmYWxzZTsKCiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMTIubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTEyLmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUxMltpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUzNC5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMzQubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTM0W2ldLmtleSk7IH0gfQogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTU2Lmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmU1Ni5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlNTZbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlNzgubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTc4Lmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmU3OFtpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmU5MTAubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTkxMC5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlOTEwW2ldLmtleSk7IH0gfQoKICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUxMS5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMTEubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTExW2ldLmtleSk7IH0gfQogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTEyMTMubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTEyMTMubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTEyMTNbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMTQxNS5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMTQxNS5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlMTQxNVtpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUxNjE3Lmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUxNjE3Lmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUxNjE3W2ldLmtleSk7IH0gfQoKICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUxODE5Lmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUxODE5Lmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUxODE5W2ldLmtleSk7IH0gfQogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTIwMjEubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTIwMjEubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTIwMjFbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMjIyMy5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMjIyMy5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlMjIyM1tpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUyNDI1Lmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUyNDI1Lmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUyNDI1W2ldLmtleSk7IH0gfQoKICAgICAgICAgICAgdGhpcy5vdmVybGF5ID0gZmFsc2U7CiAgICAgICAgICAgIC8vIHRoaXMucHJlX0JlQ2xlYXIoKTsKCiAgICAgICAgICAgIC8vIGZvcihsZXQgaSA9IDA7IGkgPD0gdGhpcy5iZUNsZWFyLmxlbmd0aDsgaSsrKSB7IHRoaXMuY2hhbmdQb3NfQmVDbGVhcih0aGlzLmJlQ2xlYXJbaV0ua2V5KSAgfQoKCgogICAgICAgICAgICB0aGlzLmNsZWFyX2NoZ1BvcygpOwoKICAgICAgICB9LAoKICAgICAgICByZW1vdmVTVCgpIHsKICAgICAgICAgICAgdGhpcy5iY2hfbWVtbyA9ICIiOwogICAgICAgICAgICB0aGlzLmJjaF9sZWZ0X3RpbWUgPSAiIjsKICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfTSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNvcHlSaWdodF9UID0gZmFsc2U7CiAgICAgICAgfSwKCiAgICAgICAgbGVmdF9NZGYoZGV0YWwsIGUpIHsKICAgICAgICAgICAgdmFyIHN0ckFyeSA9IGUubGVmdF90aW1lLnNwbGl0KCI6Iik7CgogICAgICAgICAgICBpZiAoZGV0YWwgPT0gMSkgewoKICAgICAgICAgICAgICAgIGlmIChkZXRhbCA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHN0ckFyeVsxXSkgPT0gMzApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5sZWZ0X3RpbWUgPSBwYXJzZUludChzdHJBcnlbMF0pICsgMSArICI6MDAiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoc3RyQXJ5WzFdKSA+PSAzMCkgewogICAgICAgICAgICAgICAgICAgICAgICBlLmxlZnRfdGltZSA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludChzdHJBcnlbMF0pICsgMSArICI6IiArIChwYXJzZUludChzdHJBcnlbMV0pIC0gMzApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VJbnQoc3RyQXJ5WzFdKSA8IDMwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUubGVmdF90aW1lID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ckFyeVswXSArICI6IiArIChwYXJzZUludChzdHJBcnlbMV0pICsgMzApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIGxlZnRfdGltZTogZS5sZWZ0X3RpbWUsCiAgICAgICAgICAgICAgICAgICAgcGx5X3N0YXR1OiAn57qMLuW3sue5sycsCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkv67mlLnlroznlaIhJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn6KuL6KiY5b6XLueiuuiqjeaUtuiyuycsCiAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMjAwCiAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgfSBlbHNlIGlmIChkZXRhbCA9PSAyKSB7CiAgICAgICAgICAgICAgICBpZiAoZGV0YWwgPT0gMikgewogICAgICAgICAgICAgICAgICAgIGUubGVmdF90aW1lID0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoc3RyQXJ5WzBdKSArIDEgKyAiOiIgKyBzdHJBcnlbMV07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IGUubGVmdF90aW1lLAogICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+e6jC7lt7LnubMnLAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDos4fmlpnvvIzkuIrlgrPmiJDlip8hIjsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5L+u5pS55a6M55WiIScsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+iri+iomOW+ly7norroqo3mlLbosrsnLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTIwMAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGx0X3ByZVN0KGUpIHsKICAgICAgICAgICAgLy8gU3dhbC5maXJlKHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWNvbjogJ2Vycm9ycycsCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRpdGxlOiAn5Yiq6Zmk5oiQ5YqfJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgdGV4dDogJ+iriyDlnKjpgLLooYwg56K66KqN5LiA5LiL5Zay772eJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAvLyAgICAgICAgIH0pCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CgogICAgICAgICAgICAgICAgbWVtbzogIiIsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ino+mZpC7poJDmjpLkvY3nva4nLAogICAgICAgICAgICAgICAgICAgICAgICAvLyB0ZXh0OiAn6KuLIOWcqOmAsuihjCDnorroqo3kuIDkuIvllrLvvZ4nLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMjAwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlVHV0b3JpYWwoZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogZS50bXBfaWR4LAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIG1lbW86IGUubWVtbywKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogZS5wbHlfc3RhdHUsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICB1cGxkX0J5Q0hLaW4oZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogZS50bXBfaWR4LAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIG1lbW86IGUubWVtbywKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+mmluasoScsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICB1cGxkdG1wX2lkeChlKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0bXBfaWR4OiBlLnRtcF9pZHgsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGxkX0hpc3RvcnkoZSk7CiAgICAgICAgfSwKCiAgICAgICAgdXBsZGxlZnRfdGltZShlKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IGUubGVmdF90aW1lLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBsZF9IaXN0b3J5KGUpOwogICAgICAgIH0sCgogICAgICAgIHVwbGRwbGF5R3AoZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgLy8gbWVtbzogZS5tZW1vLAogICAgICAgICAgICAgICAgbWVtbzogdGhpcy5Ca0xpc3RzW3RoaXMuTHN0WF0ucHJlX3RtcF9pZHggKyAnOycgKyB0aGlzLkJrTGlzdHNbdGhpcy5Mc3RYXS5wcmVfbGVmdF90aW1lCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ+S4i+aZguautS7mlrDlop4u5oiQ5YqfIScsIAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLCAKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRpbWVyOiA4MDAKICAgICAgICAgICAgICAgICAgICAvLyB9KQoKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyB0aGlzLnVwbGRfcHJlX1NlYXR0aGlzKHRoaXMuQmtMaXN0c1t0aGlzLkxzdFhdLmtleSkgOyAgIAoKICAgICAgICB9LAogICAgICAgIHVwbGRTdGF0dShlKSB7CgogICAgICAgICAgICBpZiAoZS5wbHlfc3RhdHUgPT0gIiIgfCBlLnBseV9zdGF0dSA9PSBudWxsIHwgZS5wbHlfc3RhdHUgPT0gJycpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdCA9IHsKICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICIiLAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0KQogICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogZS5wbHlfc3RhdHUsCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgdGhpcy51cGxkX0hpc3RvcnkoZSk7CgogICAgICAgIH0sCgogICAgICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIAoKICAgICAgICB1cGxkX0hpc3RvcnkoZSkgewoKCiAgICAgICAgICAgIC8vIGlmKCBlLnRtcF9pZHggIT0nJyAmJiBlLmxlZnRfdGltZSAhPSAnJyAmJiBlLnBseV9zdGF0dSAhPScnICkKICAgICAgICAgICAgLy8gewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgLy8g57O757WxLuioreWumuizh+aWmQogICAgICAgICAgICAgICAgcG9zOiBlLnBvcywKICAgICAgICAgICAgICAgIHNubzogZS5zbm8sCiAgICAgICAgICAgICAgICBzbm9faWR4OiBlLnNub19pZHgsCiAgICAgICAgICAgICAgICAvLyDkuLvopoHororli5Xos4fmlpkKICAgICAgICAgICAgICAgIHRtcF9pZHg6IGUudG1wX2lkeCwKICAgICAgICAgICAgICAgIGxlZnRfdGltZTogZS5sZWZ0X3RpbWUsCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6IGUucGx5X3N0YXR1LAogICAgICAgICAgICAgICAgLy8gbWVtbzplLm1lbW8sICAgCiAgICAgICAgICAgICAgICBjcmF0VGltZTogdGhpcy5kYXlqcyhEYXRlLm5vdygpKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgSGlzdG9yeURhdGFTZXJ2aWNlLmNyZWF0ZShkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewoKCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRpdGxlOiAn6LOH5paZ5paw5aKe5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRleHQ6IGUubGVmdF90aW1lKyAn6KuLIOWcqOmAsuihjCDnorroqo3kuIDkuIvllrLvvZ4nLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAoKICAgICAgICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB1cGxkX0hpc3RvcnlfbWRmKGUpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIC8vIOezu+e1sS7oqK3lrpros4fmlpkKICAgICAgICAgICAgICAgIHBvczogZS5wb3MsCiAgICAgICAgICAgICAgICBzbm86IGUuc25vLAogICAgICAgICAgICAgICAgc25vX2lkeDogZS5zbm9faWR4LAogICAgICAgICAgICAgICAgLy8g5Li76KaB6K6K5YuV6LOH5paZCiAgICAgICAgICAgICAgICB0bXBfaWR4OiBlLnRtcF9pZHgsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IGUubGVmdF90aW1lLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiAn5o+b6Z225L2NJywKICAgICAgICAgICAgICAgIC8vIG1lbW86ZS5tZW1vLCAgIAogICAgICAgICAgICAgICAgY3JhdFRpbWU6IHRoaXMuZGF5anMoRGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgSGlzdG9yeURhdGFTZXJ2aWNlLmNyZWF0ZShkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfos4fmlpnmlrDlop7miJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn6KuLIOWcqOmAsuihjCDnorroqo3kuIDkuIvllrLvvZ4nLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHVwbGRfQ2xhZXIoZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgbWVtbzogIiIsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6ICIiLAogICAgICAgICAgICAgICAgdG1wX2lkeDogIiIsCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICIiLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgc2F2ZV9Ca2luZ05vdGUoKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyDns7vntbEu6Kit5a6a6LOH5paZCiAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogdGhpcy5Ca0xzdF9Ob3cucHJlX3RtcF9pZHgsCiAgICAgICAgICAgICAgICBwcmVfbWJfcGhvbmU6IHRoaXMuQmtMc3RfTm93LnByZV9tYl9waG9uZSwKICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6IHRoaXMuQmtMc3RfTm93LnByZV9sZWZ0X3RpbWUsCgogICAgICAgICAgICAgICAgcGx5X2FtdDogdGhpcy5Ca0xzdF9Ob3cucGx5X2FtdCwKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogdGhpcy5Ca0xzdF9Ob3cucGx5X3N0YXR1LAogICAgICAgICAgICAgICAgcHJlX1NlYXQ6IFtdLAoKICAgICAgICAgICAgICAgIGNyYXRUaW1lOiB0aGlzLmRheWpzKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBCa2luZ05vdGVEYXRhU2VydmljZS5jcmVhdGUoZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+izh+aWmeaWsOWinuaIkOWKnycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICflt7LmiJDlip8g5bu656uL6aCQ6KiCIO+9nicsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB1cGxkX3ByZV9TZWF0KGUpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIC8vIOezu+e1sS7oqK3lrpros4fmlpkKICAgICAgICAgICAgICAgIHByZV9TZWF0OiBlLnByZV9TZWF0LAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgQmtpbmdOb3RlRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5L2N5a2Q6aCQ5a6aLuaIkOWKnyEnLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiA4MDAKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgIH0sCiAgICAgICAgdXBkYXRlQmtpbmdOb3RlKGUpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIC8vIOezu+e1sS7oqK3lrpros4fmlpkKICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiBlLnByZV90bXBfaWR4LAogICAgICAgICAgICAgICAgcHJlX21iX3Bob25lOiBlLnByZV9tYl9waG9uZSwKICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6IGUucHJlX2xlZnRfdGltZSwKICAgICAgICAgICAgICAgIHBseV9hbXQ6IGUucGx5X2FtdCwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIEJraW5nTm90ZURhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+abtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEnLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMjAwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgoKICAgICAgICBkbHRfcHJlQmtpbmcoZSwgc3RyKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyDns7vntbEu6Kit5a6a6LOH5paZCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6IHN0ciwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIEJraW5nTm90ZURhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKn+Wft+ihjCEnLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMjAwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIGV4dGVuZFBheUNoayhlKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+e6jOaZgiDnubPosrvnorroqo0gJywKICAgICAgICAgICAgICAgIHRleHQ6ICLmlZnnt7Tlt7LoqaLllY/vvIzoq4vmq4Pmqq/ljZTliqnmlLbosrsiLAogICAgICAgICAgICAgICAgaWNvbjogJ3F1ZXN0aW9uJywKICAgICAgICAgICAgICAgIHNob3dEZW55QnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn57qMICAwLjUg5bCP5pmCJywKICAgICAgICAgICAgICAgIGRlbnlCdXR0b25UZXh0OiBg57qMIDEg5bCP5pmCYCwKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtoggIScKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAvKiBSZWFkIG1vcmUgYWJvdXQgaXNDb25maXJtZWQsIGlzRGVuaWVkIGJlbG93ICovCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CgogICAgICAgICAgICAgICAgICAgIHRoaXMubGVmdF9NZGYoMSwgZSkKICAgICAgICAgICAgICAgICAgICAvLyBTd2FsLmZpcmUoJ1NhdmVkIScsICcnLCAnc3VjY2VzcycpCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5pc0RlbmllZCkgewoKICAgICAgICAgICAgICAgICAgICB0aGlzLmxlZnRfTWRmKDIsIGUpCiAgICAgICAgICAgICAgICAgICAgLy8gU3dhbC5maXJlKCdDaGFuZ2VzIGFyZSBub3Qgc2F2ZWQnLCAnJywgJ2luZm8nKQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuaXNEaXNtaXNzZWQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICfmiJHopoHnuozmmYInLAogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pyq5a6M5oiQ57mz6LK7IScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfoq4sg5Zyo6YCy6KGMIOeiuuiqjeS4gOS4i+WWsu+9nicsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEyMDAKICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGJjaF9jaGdfQ0hLaW4oYSwgYiwgZSkgewogICAgICAgICAgICAvLyBTd2FsLmZpcmUoCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICfmuIXpmaTlroznlaIhJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgJ+ebruWJjS4nLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgLy8gICAgICAgICApCgogICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdGhpcy50dXRvcmlhbHMubGVuZ3RoOyBpaSsrKSB7CiAgICAgICAgICAgICAgICBsZXQgeCA9IGEgKyAnOycgKyBiCiAgICAgICAgICAgICAgICAvLyBhbGVydCh0aGlzLnR1dG9yaWFsc1tpaV0ubWVtbyArJ3ZzJyt4KTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnR1dG9yaWFsc1tpaV0ubWVtbyA9PSB4KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGdfQ0hLaW4odGhpcy50dXRvcmlhbHNbaWldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gCiAgICAgICAgICAgIHRoaXMuZGx0X3ByZUJraW5nKGUsICflt7LlronmjpLkuIrnt5onKQoKICAgICAgICB9LAogICAgICAgIGNoZ19DSEtpbihlKSB7CiAgICAgICAgICAgIHZhciBzdHJBcnkgPSBlLm1lbW8uc3BsaXQoJzsnKTsKICAgICAgICAgICAgdmFyIHN0ckFyeTIgPSBzdHJBcnlbMV0uc3BsaXQoJzonKTsKCgogICAgICAgICAgICBlLmxlZnRfdGltZSA9IHBhcnNlSW50KHN0ckFyeTJbMF0pICsgMSArICI6IiArIHN0ckFyeTJbMV07CgogICAgICAgICAgICBlLnRtcF9pZHggPSBzdHJBcnlbMF07CgogICAgICAgICAgICBlLm1lbW8gPSAiIjsKICAgICAgICAgICAgLy8g6YCy6KGMIOS/ruaUuSAKICAgICAgICAgICAgdGhpcy51cGxkX0J5Q0hLaW4oZSk7CiAgICAgICAgfSwKCgogICAgICAgIHByZV9DSEtpbigpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnU2VsZWN0IGZpZWxkIHZhbGlkYXRpb24nLAogICAgICAgICAgICAgICAgaW5wdXQ6ICdzZWxlY3QnLAogICAgICAgICAgICAgICAgaW5wdXRPcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgYXBwbGVzOiAnQXBwbGVzJywKICAgICAgICAgICAgICAgICAgICBiYW5hbmFzOiAnQmFuYW5hcycsCiAgICAgICAgICAgICAgICAgICAgZ3JhcGVzOiAnR3JhcGVzJywKICAgICAgICAgICAgICAgICAgICBvcmFuZ2VzOiAnT3JhbmdlcycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBpbnB1dFBsYWNlaG9sZGVyOiAnU2VsZWN0IGEgZnJ1aXQnLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHByZV9zZWF0U1RpbmcocHJlX3RtcF9pZHgsIHByZV9sZWZ0X3RpbWUpIHsKICAgICAgICAgICAgdGhpcy5iY2hfbWVtbyA9IHByZV90bXBfaWR4ICsgJzsnICsgcHJlX2xlZnRfdGltZQoKICAgICAgICB9LAoKCgogICAgICAgIE1kZkxmVGltZV8wNShlKSB7CgogICAgICAgICAgICAvLyB2YXIgYSA9IGRheWpzLmR1cmF0aW9uKGUubGVmdF90aW1lLCAnaGg6bW0nKTsKICAgICAgICAgICAgLy8gdmFyIGIgPSBkYXlqcy5kdXJhdGlvbigzMCwgJ2hoOm1tJyk7CgogICAgICAgICAgICAvLyBjb25zdCBkYXRhID0geyAKICAgICAgICAgICAgLy8gICAgICBsZWZ0X3RpbWU6YS5hZGQoYikubWludXRlcygpLCAKICAgICAgICAgICAgLy8gfTsKCiAgICAgICAgICAgIC8vIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAvLyAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAvLyAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDos4fmlpnvvIzkuIrlgrPmiJDlip8hIjsKICAgICAgICAgICAgLy8gICAgIH0pCiAgICAgICAgICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgLy8gICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIE1kZkxmVGltZV8xMChlKSB7CiAgICAgICAgICAgIC8vICB2YXIgYSA9IGRheWpzLmR1cmF0aW9uKGUubGVmdF90aW1lLCAnaGg6bW0nKTsKICAgICAgICAgICAgLy8gdmFyIGIgPSBkYXlqcy5kdXJhdGlvbigxLCAnaGgnKTsKCiAgICAgICAgICAgIC8vIGNvbnN0IGRhdGEgPSB7IAogICAgICAgICAgICAvLyAgICAgIGxlZnRfdGltZTphLmFkZChiKS5ob3VycygpLCAKICAgICAgICAgICAgLy8gfTsKCiAgICAgICAgICAgIC8vIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAvLyAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAvLyAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDos4fmlpnvvIzkuIrlgrPmiJDlip8hIjsKICAgICAgICAgICAgLy8gICAgIH0pCiAgICAgICAgICAgIC8vICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgLy8gICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHBtdF9vbkRhdGFDaGFuZ2UoaXRlbXMpIHsKCiAgICAgICAgICAgIGxldCBfdGFuc0NBVE0gPSBbXTsKICAgICAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGtleSA9IGl0ZW0ua2V5OwogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBpdGVtLnZhbCgpOwogICAgICAgICAgICAgICAgX3RhbnNDQVRNLnB1c2goewoKICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSwKCiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLAogICAgICAgICAgICAgICAgICAgIHBob25lOiBkYXRhLnBob25lLAogICAgICAgICAgICAgICAgICAgIC8vLyDpgJnpgorpnIDopoHlho3lvoDkuIvoo73kvZwgLi4uIOe0r+S6huWFiOedoe+8jOWGjeWuieaOkuWQpwoKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMucG10TGlzdHMgPSBfdGFuc0NBVE07CiAgICAgICAgfSwKCiAgICAgICAgQmtpbmdOb3Rlb25EYXRhQ2hhbmdlKGl0ZW1zKSB7CgogICAgICAgICAgICBsZXQgX3R1dG9yaWFscyA9IFtdOwogICAgICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQga2V5ID0gaXRlbS5rZXk7CiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGl0ZW0udmFsKCk7CiAgICAgICAgICAgICAgICBfdHV0b3JpYWxzLnB1c2goewogICAgICAgICAgICAgICAgICAgIGtleToga2V5LAoKICAgICAgICAgICAgICAgICAgICAvLyBwb3M6IGRhdGEucG9zLAogICAgICAgICAgICAgICAgICAgIC8vIHNubzogZGF0YS5zbm8sCiAgICAgICAgICAgICAgICAgICAgLy8gc25vX2lkeDogZGF0YS5zbm9faWR4LAogICAgICAgICAgICAgICAgICAgIC8vIHNub19pZDogZGF0YS5zbm9faWQsCgogICAgICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiBkYXRhLnByZV90bXBfaWR4LAogICAgICAgICAgICAgICAgICAgIHByZV9tYl9waG9uZTogZGF0YS5wcmVfbWJfcGhvbmUsCiAgICAgICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTogZGF0YS5wcmVfbGVmdF90aW1lLAoKICAgICAgICAgICAgICAgICAgICBwbHlfYW10OiBkYXRhLnBseV9hbXQsCiAgICAgICAgICAgICAgICAgICAgcGx5X3N0YXR1OiBkYXRhLnBseV9zdGF0dSwKICAgICAgICAgICAgICAgICAgICBwcmVfU2VhdDogZGF0YS5wcmVfU2VhdCwKICAgICAgICAgICAgICAgICAgICBzdENOVDogW10sCiAgICAgICAgICAgICAgICAgICAgc3RlZDogMCwKCiAgICAgICAgICAgICAgICAgICAgLy8gbWVtb18xOiBkYXRhLm1lbW9fMSwKICAgICAgICAgICAgICAgICAgICAvLyBtZW1vXzI6IGRhdGEubWVtb18yLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdGhpcy5Ca0xpc3RzID0gX3R1dG9yaWFsczsKCgogICAgICAgICAgICAvLyAKCiAgICAgICAgICAgIC8vIHRoaXMuY2ZnKCk7CiAgICAgICAgfSwKCiAgICAgICAgb25EYXRhQ2hhbmdlKGl0ZW1zKSB7CgogICAgICAgICAgICBsZXQgX3R1dG9yaWFscyA9IFtdOwogICAgICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQga2V5ID0gaXRlbS5rZXk7CiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGl0ZW0udmFsKCk7CiAgICAgICAgICAgICAgICBfdHV0b3JpYWxzLnB1c2goewogICAgICAgICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgICAgICAgIHBvczogZGF0YS5wb3MsCiAgICAgICAgICAgICAgICAgICAgc25vOiBkYXRhLnNubywKICAgICAgICAgICAgICAgICAgICBzbm9faWR4OiBkYXRhLnNub19pZHgsCiAgICAgICAgICAgICAgICAgICAgc25vX2lkOiBkYXRhLnNub19pZCwKCiAgICAgICAgICAgICAgICAgICAgdG1wX2lkeDogZGF0YS50bXBfaWR4LAogICAgICAgICAgICAgICAgICAgIGxlZnRfdGltZTogZGF0YS5sZWZ0X3RpbWUsCiAgICAgICAgICAgICAgICAgICAgbWVtbzogZGF0YS5tZW1vLAogICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogZGF0YS5wbHlfc3RhdHUsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB0aGlzLnR1dG9yaWFscyA9IF90dXRvcmlhbHM7CgogICAgICAgICAgICAvLyB0aGlzLmNmZygpOwogICAgICAgIH0sCgogICAgICAgIC8vIGNmZyhlKXsKCiAgICAgICAgLy8gICAgIGlmKCBlLnBvcyA9PSAn5YyXJyAmJiBlLmxlZnRfdGltZSAhPScnICkKICAgICAgICAvLyAgICAgewogICAgICAgIC8vICAgICAgICAgdGhpcy5leGlzdHNfTm93WzFdPSBwYXJzZUludCh0aGlzLmV4aXN0c19Ob3dbMF0pKzEgOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIGVsc2UgaWYoIGUucG9zID09ICfljZcnICYmIGUubGVmdF90aW1lICE9JycgKQogICAgICAgIC8vICAgICB7CiAgICAgICAgLy8gICAgICAgICB0aGlzLmV4aXN0c19Ob3dbMV09IHBhcnNlSW50KHRoaXMuZXhpc3RzX05vd1sxXSkrMSA7CiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyB9LAoKCiAgICAgICAgcmVmcmVzaExpc3QoKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAtMTsKICAgICAgICB9LAogICAgICAgIGNmZygpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY29weVJpZ2h0X05fYXV0byA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfVCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfTiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfTSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIHRoaXMuYmNoX2xlZnRfdGltZSA9ICIiOwogICAgICAgICAgICAgICAgdGhpcy5iY2hfdG1wX2lkeCA9ICIiOwogICAgICAgICAgICAgICAgdGhpcy5hdXRvX3RtcF9pZHggPSAiIjsKICAgICAgICAgICAgfQoKICAgICAgICB9LAoKICAgICAgICBzZXRBY3RpdmVUdXRvcmlhbCh0dXRvcmlhbCwgaW5kZXgpIHsKCiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsID0gdHV0b3JpYWw7CiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7CgogICAgICAgICAgICBpZiAodGhpcy5jb3B5UmlnaHRfTl9hdXRvICE9IGZhbHNlKSB7CgogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIHRoaXMuY29weVJpZ2h0X1QgPSB0cnVlOwogICAgICAgICAgICAgICAgLy8gdGhpcy5iY2hfbGVmdF90aW1lPXRoaXMuY3VycmVudFR1dG9yaWFsLmxlZnRfdGltZSA7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbC5sZWZ0X3RpbWUgPSB0aGlzLmJjaF9sZWZ0X3RpbWU7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbC5wbHlfc3RhdHUgPSAn6aaW5qyhJzsKICAgICAgICAgICAgICAgIC8vCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbC50bXBfaWR4ID0gdGhpcy5hdXRvX3RtcF9pZHg7CiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0X2NvcHkrKzsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0X2NvcHkgJSAyID09IDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmF1dG9fdG1wX2lkeCA9IHBhcnNlSW50KHRoaXMuYXV0b190bXBfaWR4KSArIDE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmJjaF91cGR0YSgpOwogICAgICAgICAgICAgICAgLy8gdGhpcy5tZXNzYWdlID0gIuikh+ijveabtOaWsCDmiJDlip8hIjsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIGlmICh0aGlzLmNvcHlSaWdodF9OICE9IGZhbHNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbC50bXBfaWR4ID0gdGhpcy5iY2hfdG1wX2lkeDsKICAgICAgICAgICAgICAgIHRoaXMuYmNoX3VwZHRhKCk7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi6KSH6KO95pu05pawIOaIkOWKnyEiOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodGhpcy5jb3B5UmlnaHRfVCAhPSBmYWxzZSkgewogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwubGVmdF90aW1lID0gdGhpcy5iY2hfbGVmdF90aW1lOwogICAgICAgICAgICAgICAgdGhpcy5iY2hfdXBkdGEoKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMubWVzc2FnZSA9ICLopIfoo73mm7TmlrAg5oiQ5YqfISI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuY29weVJpZ2h0X00gIT0gZmFsc2UgJiYgdGhpcy5zaG91bGRQdXQgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy51cGxkcGxheUdwKHR1dG9yaWFsKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMuQmtMaXN0c1t0aGlzLkxzdFhdLnByZV9TZWF0LnB1c2godHV0b3JpYWwpOyAKICAgICAgICAgICAgfQoKCgoKICAgICAgICAgICAgLy8gaWYgKHRoaXMuY29weVJpZ2h0X00gIT0gZmFsc2UgJiYgdGhpcy5zaG91bGRQdXQgPT0gdHJ1ZSkgewogICAgICAgICAgICAvLyAgICAgdGhpcy5Ca0xpc3RzW3RoaXMuTHN0WF0ucHJlX1NlYXQucHVzaCh0dXRvcmlhbCk7IAoKICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMudXBsZHBsYXlHcCh0dXRvcmlhbCk7CgogICAgICAgICAgICAvLyAgICAgLy8gLSAtIC0gLSAtIC0gIAogICAgICAgICAgICAvLyAgICAgdGhpcy5zaG91bGRQdXQgPSBmYWxzZTsgCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIGlmICh0aGlzLnNob3VsZFB1dCA9PSBmYWxzZSkgeyAKICAgICAgICAgICAgLy8gICAgIHRoaXMuc2hvdWxkUHV0ID0gdHJ1ZTsgCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgfSwKCiAgICAgICAgYmNoX3VwZHRhKCkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogdGhpcy5jdXJyZW50VHV0b3JpYWwudG1wX2lkeCwKICAgICAgICAgICAgICAgIGxlZnRfdGltZTogdGhpcy5jdXJyZW50VHV0b3JpYWwubGVmdF90aW1lLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiB0aGlzLmN1cnJlbnRUdXRvcmlhbC5wbHlfc3RhdHUsCiAgICAgICAgICAgICAgICAvLyBtZW1vOiB0aGlzLmN1cnJlbnRUdXRvcmlhbC5tZW1vLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgU2VhdERhdGFTZXJ2aWNlLnVwZGF0ZSh0aGlzLmN1cnJlbnRUdXRvcmlhbC5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOaIkOWKnyEiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCgogICAgICAgIHJlU2V0X3Bvc18wKCkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICAgICAgICAgIHRleHQ6ICLmupblgpnmuIXnkIbos4fmlpkhIiwKICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mmrOS4iiwg6YCy6KGM5riF55CGICEnLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCEnCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPD0gMTAwOyBpbmRleCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVHV0b3JpYWwodGhpcy50dXRvcmlhbHNbaW5kZXhdLCBpbmRleCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVTZXRPbmUodGhpcy50dXRvcmlhbHNbaW5kZXhdLCBpbmRleCk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICfmuIXpmaTlroznlaIhJywKICAgICAgICAgICAgICAgICAgICAgICAgJ+ebruWJjS4nLAogICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgcmVTZXRfcG9zXzEoKSB7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgICAgICAgICAgdGV4dDogIua6luWCmea4heeQhuizh+aWmSEiLAogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6aas5LiKLCDpgLLooYzmuIXnkIYgIScsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIIScKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8PSAzMDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVR1dG9yaWFsKHRoaXMudHV0b3JpYWxzW2luZGV4XSwgaW5kZXgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlU2V0T25lKHRoaXMudHV0b3JpYWxzW2luZGV4XSwgaW5kZXgpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKAogICAgICAgICAgICAgICAgICAgICAgICAn5riF6Zmk5a6M55WiIScsCiAgICAgICAgICAgICAgICAgICAgICAgICfnm67liY0uJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQoKICAgICAgICB9LAoKICAgICAgICByZVNldF9wb3NfMigpIHsKCiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0FyZSB5b3Ugc3VyZT8nLAogICAgICAgICAgICAgICAgdGV4dDogIua6luWCmea4heeQhuizh+aWmSEiLAogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6aas5LiKLCDpgLLooYzmuIXnkIYgIScsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIIScKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAzMTsgaW5kZXggPD0gMTAwOyBpbmRleCsrKSB7CgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVR1dG9yaWFsKHRoaXMudHV0b3JpYWxzW2luZGV4XSwgaW5kZXgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlU2V0T25lKHRoaXMudHV0b3JpYWxzW2luZGV4XSwgaW5kZXgpOwoKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgKICAgICAgICAgICAgICAgICAgICAgICAgJ+a4hemZpOWujOeVoiEnLAogICAgICAgICAgICAgICAgICAgICAgICAn55uu5YmNLicsCiAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgfSwKCiAgICAgICAgcmVTZXRPbmUodHV0b3JpYWwsIGluZGV4KSB7CgogICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbCA9IHR1dG9yaWFsOwogICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4OwoKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwudG1wX2lkeCA9ICIiOwogICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbC5sZWZ0X3RpbWUgPSAiIjsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwubWVtbyA9ICIiOwogICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbC5wbHlfc3RhdHUgPSAiIjsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwucGx5X3R5cGUgPSAiIjsKICAgICAgICAgICAgLy8gdGhpcy5jdXJyZW50VHV0b3JpYWwucG10X0xpc3QgPSAiIjsKCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0bXBfaWR4OiAiIiwKICAgICAgICAgICAgICAgIGxlZnRfdGltZTogIiIsCiAgICAgICAgICAgICAgICBtZW1vOiAiIiwKCiAgICAgICAgICAgICAgICBwbHlfdHlwZTogIiIsCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICIiLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgU2VhdERhdGFTZXJ2aWNlLnVwZGF0ZSh0aGlzLmN1cnJlbnRUdXRvcmlhbC5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOaIkOWKnyEiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgcmVtb3ZlQWxsVHV0b3JpYWxzKCkgewogICAgICAgICAgICBTZWF0RGF0YVNlcnZpY2UuZGVsZXRlQWxsKCkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hMaXN0KCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8vIOeMnOino+Wtl+S4su+8jOiri+i8uOWFpeato+eiuuagvOW8jwogICAgICAgIENoa1RpbWUyZ2V0Q29sb3JfbWRmKHQsIGUpIHsKCiAgICAgICAgICAgIGxldCBjb2xBcnkgPSBbJyM1NDU0NTQnLCAnI0U5MUU2MycsICcjMjE5NkYzJywgJyM1N2NhODUnLCcjQzU2Q0Q2J10KCiAgICAgICAgICAgIGxldCBub3dfSCA9IHBhcnNlSW50KHRoaXMuZGF5anModGhpcy5jVCkuZm9ybWF0KCJISCIpKQogICAgICAgICAgICBsZXQgbm93X00gPSBwYXJzZUludCh0aGlzLmRheWpzKHRoaXMuY1QpLmZvcm1hdCgibW0iKSkKCiAgICAgICAgICAgIAoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChlICE9ICcnKSB7CgogICAgICAgICAgICAgICAgICAgIHZhciBzdHJBcnkyID0gZS5zcGxpdCgnLS0tJylbMV0gCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ckFyeSA9IHN0ckFyeTIuc3BsaXQoJzonKQoKICAgICAgICAgICAgICAgICAgICAvLyBsZXQgYm9va2luZ19IID0gcGFyc2VJbnQoc3RyQXJ5WzBdKQogICAgICAgICAgICAgICAgICAgIGxldCBib29raW5nX0ggPSBwYXJzZUludChzdHJBcnlbMF0pCiAgICAgICAgICAgICAgICAgICAgbGV0IGJvb2tpbmdfTSA9IHBhcnNlSW50KHN0ckFyeVsxXSkKICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vd19IID4gYm9va2luZ19IKSB7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93X00gPj0gYm9va2luZ19NKSAKICAgICAgICAgICAgICAgICAgICAgICAgeyByZXR1cm4gY29sQXJ5WzFdIH0gCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgCiAgICAgICAgICAgICAgICAgICAgICAgIChub3dfTSA8IGJvb2tpbmdfTSAmJiBub3dfSCA+PSBib29raW5nX0gpIAogICAgICAgICAgICAgICAgICAgICAgICB7IHJldHVybiBjb2xBcnlbMV0gfQogICAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93X0ggPT0gYm9va2luZ19IKSAKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3dfTSA+PSBib29raW5nX00pIAogICAgICAgICAgICAgICAgICAgICAgICB7ICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sQXJ5WzFdIH0gCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vd19NIDwgYm9va2luZ19NKSAKICAgICAgICAgICAgICAgICAgICAgICAgeyByZXR1cm4gY29sQXJ5WzJdIH0KCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChub3dfSCA8IGJvb2tpbmdfSCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vd19NID49IGJvb2tpbmdfTSkgCiAgICAgICAgICAgICAgICAgICAgICAgIHsgcmV0dXJuIGNvbEFyeVsyXSB9IAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub3dfTSA8IGJvb2tpbmdfTSkgCiAgICAgICAgICAgICAgICAgICAgICAgIHsgcmV0dXJuIGNvbEFyeVsyXSB9CiAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICBlbHNlIAogICAgICAgICAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xBcnlbMF0gCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIHJldHVybiBjb2xBcnlbMV07CiAgICAgICAgICAgIH0gCiAgICAgICAgICAgIGVsc2UgaWYgKGUgPT0gJycpIHsgCiAgICAgICAgICAgICAgICByZXR1cm4gY29sQXJ5WzNdOyAvLyDntqDoibIKICAgICAgICAgICAgfSAKICAgICAgICAgICAgfSAKICAgICAgICAgICAgY2F0Y2ggeyByZXR1cm4gY29sQXJ5WzBdIH0gCiAgICAgICAgfSwKCiAgICAgICAgQ2hrVGltZTJnZXRDb2xvcihsZWZ0X3RpbWUpIHsKCiAgICAgICAgICAgIGxldCBub3dfSCA9IHBhcnNlSW50KHRoaXMuZGF5anModGhpcy5jVCkuZm9ybWF0KCJISCIpKQogICAgICAgICAgICBsZXQgbm93X00gPSBwYXJzZUludCh0aGlzLmRheWpzKHRoaXMuY1QpLmZvcm1hdCgibW0iKSkKICAgICAgICAgICAgbGV0IGNvbEFyeSA9IFsnIzU0NTQ1NCcsICcjRTkxRTYzJywgJyMyMTk2RjMnXQoKICAgICAgICAgICAgdmFyIHN0ckFyeSA9IGxlZnRfdGltZS5zcGxpdCgnOicpCgogICAgICAgICAgICBsZXQgYm9va2luZ19IID0gcGFyc2VJbnQoc3RyQXJ5WzBdKQogICAgICAgICAgICBsZXQgYm9va2luZ19NID0gcGFyc2VJbnQoc3RyQXJ5WzFdKQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmIChsZWZ0X3RpbWUgPT0gIiIpIHsgcmV0dXJuIGNvbEFyeVswXSB9IGVsc2UgaWYgKG5vd19IID4gYm9va2luZ19IKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5vd19NID49IGJvb2tpbmdfTSkgeyByZXR1cm4gY29sQXJ5WzFdIH0gZWxzZSBpZiAobm93X00gPCBib29raW5nX00gJiYgbm93X0ggPj0gYm9va2luZ19IKSB7IHJldHVybiBjb2xBcnlbMV0gfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChub3dfSCA9PSBib29raW5nX0gpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobm93X00gPj0gYm9va2luZ19NKSB7IHJldHVybiBjb2xBcnlbMV0gfSBlbHNlIGlmIChub3dfTSA8IGJvb2tpbmdfTSkgeyByZXR1cm4gY29sQXJ5WzJdIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm93X0ggPCBib29raW5nX0gpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobm93X00gPj0gYm9va2luZ19NKSB7IHJldHVybiBjb2xBcnlbMl0gfSBlbHNlIGlmIChub3dfTSA8IGJvb2tpbmdfTSkgeyByZXR1cm4gY29sQXJ5WzJdIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7IHJldHVybiBjb2xBcnlbM10gfQogICAgICAgICAgICB9IGNhdGNoIHsgcmV0dXJuIGNvbEFyeVszXSB9CiAgICAgICAgfSwKICAgICAgICB1cGRhdGVDdXJyZW50VGltZSgpIHsgdGhpcy5jVCA9IERhdGUubm93KCk7IH0sCgogICAgICAgIGdldEZpbGVfbmFtZSgpIHsKICAgICAgICAgICAgbGV0IEwgPSAn6Z225L2N5pS255uK57SA6YyEXyc7CiAgICAgICAgICAgIGxldCBrID0gdGhpcy5kYXlqcyhEYXRlLm5vdygpKS5mb3JtYXQoIk1N5pyIRETml6VfSEjpu55tbeWIhiIpOwogICAgICAgICAgICBsZXQgSiA9ICcuY3N2JzsKICAgICAgICAgICAgdGhpcy5maWxlTmFtZSA9IEwgKyBrICsgSjsKICAgICAgICB9LAoKCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhfdHV0b3JpYWxzLnRpdGxlKTsgIAogICAgICAgIC8vIEJraW5nTm90ZURhdGFTZXJ2aWNlLmdldEFsbCgpLm9uKCJ2YWx1ZSIsIHRoaXMuQmtpbmdOb3Rlb25EYXRhQ2hhbmdlKTsKICAgICAgICBTZWF0RGF0YVNlcnZpY2UuZ2V0QWxsKCkub24oInZhbHVlIiwgdGhpcy5vbkRhdGFDaGFuZ2UpOwogICAgICAgIC8vIFBtdERhdGFTZXJ2aWNlLmdldEFsbCgpLm9uKCJ2YWx1ZSIsIHRoaXMucG10X29uRGF0YUNoYW5nZSk7CiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMudXBkYXRlQ3VycmVudFRpbWUsIDEwMDApOwogICAgfSwKICAgIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgU2VhdERhdGFTZXJ2aWNlLmdldEFsbCgpLm9mZigidmFsdWUiLCB0aGlzLm9uRGF0YUNoYW5nZSk7CiAgICB9LAoKCn07Cg=="},{"version":3,"sources":["bdadd7_List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgfA;AACA;;;;AAIA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"bdadd7_List.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\" flex justify-center  \">\n    \n        <div class=\"w-3/12 ml-4  h-screen \">\n    \n            <div class=\" justify-center w-full \">\n                <div class=\"mx-1\">\n                    <v-overlay :value=\"overlay\" :opacity=\"opc\" class=\"h-auto\">\n                        <div class=\"grid grid-cols-5 gap-0 pt-10\">\n                            <div class=\"col-span-5 pl-5\">\n    \n    \n                            </div>\n                            <div class=\"col-span-3 pl-5\">\n    \n                                <span class=\"text-blue-500 bg-white px-4 p-3 m-3 rounded-full text-3xl font-black\" v-if=\"currentTutorial !== null \">將 {{currentTutorial.sno }}-{{currentTutorial.sno_idx }} 替換至 </span>\n                                <span v-show=\"copyMore == false\" class=\"text-red-500 bg-white px-4 p-3 m-3 rounded-full text-3xl font-black\">{{toHere.sno}}-{{toHere.sno_idx}}</span>\n                                <!-- 這邊是全部{{ toHere_more }}\n                                        <br>\n                                        第一批次 {{ toHere_more12 }} \n                                        <hr>\n                                        第二批次 {{ toHere_more34 }} -->\n                            </div>\n    \n                            <div class=\"col-span-2 flex\">\n    \n                                <v-checkbox class=\"mx-5 py-6\" v-model=\"copyMore\" :label=\"`移動.多靶位`\">\n                                </v-checkbox>\n                                <v-btn color=\"#D32F2F\" @click=\"clear_chgPos()\" class=\"m-1\">\n                                    取消\n                                </v-btn>\n    \n                                <v-btn v-show=\"copyMore == false\" color=\"#1976D2\" dark @click=\"changPos(toHere.key)\" class=\"m-1\">\n                                    送出\n                                </v-btn>\n    \n    \n                                <v-btn v-show=\"copyMore == true &&  preCC == false\" color=\"#16a34a\" dark @click=\"pre_BeClear()\" class=\"m-1\">\n                                    清理 .移動靶位\n                                </v-btn>\n    \n                                <v-btn v-show=\"preCC == true \" color=\"#4f46e5\" dark @click=\"changPos_more()\" class=\"m-1\">\n                                    修改 .多靶位\n                                </v-btn>\n    \n    \n    \n                            </div>\n    \n                            <div class=\"col-span-5  flex \">\n                                <div class=\"w-1/5 bg-green-600 rounded-xl py-3\">\n                                    <span class=\"ml-16\" v-show=\"copyMore == false\"> 使用中的靶位 </span>\n                                    <span class=\"ml-16\" v-show=\"copyMore == true\"> 步驟(1).先清理靶位 </span>\n                                    <v-chip-group column multiple v-model=\"beClear\" class=\"mx-10 \">\n                                        <v-chip active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" v-if=\"tutorial.ply_statu != '' | tutorial.left_time != ''\" :key=\"index\" :value=\"tutorial\" :color=\"red\" filter>\n                                            {{ tutorial.sno }}-{{tutorial.sno_idx }}，{{tutorial.left_time }} 離\n                                        </v-chip>\n                                    </v-chip-group>\n                                </div>\n    \n                                <div class=\"w-4/5\">\n    \n    \n                                    <div v-show=\"copyMore == false\" class=\"bg-red-400 rounded-xl px-5 py-3\">\n    \n                                        <span class=\" ml-16\"> 這兒空著呢！ </span>\n                                        <v-chip-group column v-model=\"toHere\" class=\"mx-10\">\n                                            <v-chip active-class=\"bg-green-800 text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.ply_statu == '' &&  tutorial.left_time == ''\">\n                                                {{ tutorial.sno }}-{{tutorial.sno_idx }}，{{tutorial.left_time }} 離\n                                            </v-chip>\n                                        </v-chip-group>\n                                    </div>\n    \n                                    <div class=\"bg-yellow-400 rounded-xl px-5 py-3\" v-show=\"copyMore == true\">\n                                        <span class=\"ml-16 text-gray-900 \"> 步驟(2).選擇 多個更換的靶位，接著按下綠色按鈕。 </span>\n                                        <div class=\"flex w-full\">\n                                            <div class=\"w-1/2\">\n                                                <v-chip-group v-model=\"toHere_more12\" class=\"\" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 1 | tutorial.sno == 2 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more34\" class=\"\" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 3 | tutorial.sno == 4 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more56\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 5 | tutorial.sno == 6 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more78\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 7 | tutorial.sno == 8 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more910\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 9 | tutorial.sno == 10 && tutorial.left_time == ''  \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more11\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 11 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n                                            </div>\n    \n                                            <div class=\"w-1/2\">\n                                                <v-chip-group v-model=\"toHere_more1213\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 12 | tutorial.sno == 13 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more1415\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 15 | tutorial.sno == 14 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more1716\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 17 | tutorial.sno == 16 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more1918\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 19 | tutorial.sno == 18 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more2021\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 21 | tutorial.sno == 20 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more2223\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 22 | tutorial.sno == 23 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n    \n                                                <v-chip-group v-model=\"toHere_more2425\" class=\" \" column multiple>\n                                                    <v-chip small active-class=\"bg-blue-800   text-white text-x\" v-for=\"(tutorial, index) in tutorials\" :key=\"index\" :value=\"tutorial\" v-if=\"tutorial.sno == 24 | tutorial.sno == 25 && tutorial.left_time == '' \"> {{ tutorial.sno }}-{{ tutorial.sno_idx }}\n                                                    </v-chip>\n                                                </v-chip-group>\n                                            </div>\n    \n                                        </div>\n    \n                                    </div>\n                                </div>\n                            </div>\n    \n                        </div>\n    \n                    </v-overlay>\n                </div>\n    \n                <div class=\"grid grid-cols-4 gap-1\">\n    \n                    <div class=\"col-span-5 text-gray-900 bg-gray-200 rounded-2xl my-1 p-3 text-xs\">\n                        <span class=\"\"> 目前上線人數： </span>\n                        <br> 北:餘 <span class=\"text-base text-gray-900 font-black\">  {{ 30 - cfg_Pos_1 }} </span> 空位, <span class=\"text-base text-gray-900 font-black\">  {{ cfg_Pos_1 }} </span> 位使用中, <span class=\"text-base text-gray-900 font-black\">  {{ cfg_Pos_3 }} </span>                    位超時\n                        <br> 南:餘 <span class=\"text-base text-gray-900 font-black\">  {{ 30 - cfg_Pos_2 }} </span> 空位, <span class=\"text-base text-gray-900 font-black\">  {{ cfg_Pos_2 }} </span> 位使用中, <span class=\"text-base text-gray-900 font-black\">  {{ cfg_Pos_4 }} </span>                    位超時\n                    </div>\n    \n                    <div class=\"col-span-5 grid grid-cols-4 gap-0 bg-gray-200 rounded-l-2xl my-1 px-1\">\n    \n                        <!-- <v-checkbox v-model=\"copyRight_T\" class=\"text-xs col-span-1\" :label=\"`批次設定`\"></v-checkbox>\n                        <v-text-field clearable solo dense v-model=\"bch_left_time\" \n                        class=\"text-xs my-2 mx-1 col-span-3\" label=\"請設定離場時間\" placeholder=\"\">\n                        </v-text-field> -->\n    \n    \n                        <v-checkbox v-model=\"copyRight_N\" class=\"text-xs col-span-1\" :label=\"`批次設定`\"></v-checkbox>\n                        <v-text-field clearable solo dense v-model=\"bch_tmp_idx\" class=\"text-xs my-2 mx-1 col-span-3\" label=\"複製牌號/ 備註\" placeholder=\"\">\n                        </v-text-field>\n    \n                        <!-- <input class=\"  bg-white appearance-none border rounded col-span-3 py-1 px-3 \n                                        text-gray-700 leading-tight focus:outline-none \n                                        focus:shadow-outline\" type=\"text\"  \n                                        v-model=\"bch_tmp_idx\" \n                                        placeholder=\"複製牌號/ 備註\"> -->\n    \n                        <!-- <hr class=\"col-span-5\"> -->\n    \n                        <v-checkbox v-model=\"copyRight_N_auto\" class=\"text-xs col-span-1\" :label=\"`自動遞增`\" @change=\"cfg()\">\n                        </v-checkbox>\n    \n                        <v-text-field clearable solo dense v-model=\"auto_tmp_idx\" class=\"text-xs my-2 mx-1 col-span-1\" label=\"號碼\" placeholder=\"\">\n                        </v-text-field>\n    \n                        <v-text-field clearable solo dense v-show=\"copyRight_N_auto == true \" v-model=\"bch_left_time\" class=\"text-xs my-2 mx-1 col-span-2\" label=\"離場時間\" placeholder=\"\">\n                        </v-text-field>\n                    </div>\n    \n                    <!-- <div class=\"col-span-5 bg-gray-200 rounded-l-2xl py-3 px-1\">\n                                <div class=\"flex mt-30\">\n                                    <input class=\" bg-white appearance-none border rounded-3xl w-2/3 py-2 px-3 mb-3 \n                                            text-gray-700 leading-tight focus:outline-none \n                                            focus:shadow-outline\" type=\"text\" \n                                            @change=\" \" \n                                    v-model=\"BkLst_Now.pre_tmp_idx\" placeholder=\"牌號/ 顧客暱稱\">\n    \n                                    <v-btn   color=\"#E91E63\"\n                                            class=\"w-1/3 my-1 px-1\" \n                                            small dark dense rounded\n                                            @click=\"save_BkingNote()\"> \n                                            建立預約 </v-btn> \n                                </div> \n                                <div class=\"flex mt-30\">\n    \n                                    <v-text-field small class=\"mx-3 w-1/4\" label=\"入場.報到.時間\" \n                                                v-model=\" BkLst_Now.pre_left_time \" @change=\"\" dense>\n                                    </v-text-field> \n    \n                                    <v-text-field small class=\"mx-3 w-1/4\" label=\"人數\" \n                                                v-model=\" BkLst_Now.ply_amt \" @change=\"\" dense>\n                                    </v-text-field> \n    \n                                    <v-text-field small class=\"mx-3 w-1/3\" label=\"手機\" \n                                                v-model=\" BkLst_Now.pre_mb_phone \" @change=\"\" dense>\n                                    </v-text-field>  \n                                </div>  \n                            </div>  -->\n    \n                    <div class=\"col-span-5 flex\">\n                        <div class=\"w-1/3\">\n                            <v-checkbox text v-model=\"dialog\" @click=\"removeST\" label=\"靶位清理\"></v-checkbox>\n                            <v-row>\n                                <v-btn class=\"my-1\" v-show=\"dialog\" solo @click=\"reSet_pos_0\">全場(01 ~ 20)</v-btn>\n                                <v-btn class=\"my-1\" v-show=\"dialog\" solo @click=\"reSet_pos_1\">北場(01 ~ 11)</v-btn>\n                                <v-btn class=\"my-1\" v-show=\"dialog\" solo @click=\"reSet_pos_2\">南場(12 ~ 18)</v-btn>\n                            </v-row>\n                        </div>\n    \n                        <!-- <div class=\"w-1/3 text-xs\">\n \n                             <v-checkbox v-model=\"shouldPut\" class=\"text-xs w-full\" @click=\"chk_preSt()\" :label=\"`預備靶位`\"></v-checkbox>\n                        </div>\n                        <div class=\"w-1/3 text-xs\">\n                            \n                           \n                            <v-checkbox v-model=\"copyRight_M\" class=\"text-xs w-full\" :label=\"`換預約玩`\"></v-checkbox>\n                        </div> -->\n\n                        <div class=\"w-2/3 my-3 flex-row text-s\">\n                            \n                            <v-chip class=\"px-2\" small dark color='#E91E63' > 超時  </v-chip>\n                            <v-chip class=\"px-2\" small dark color='#57ca85' > 空閑中 </v-chip>\n                              \n                            <v-chip class=\"px-2\" small dark color='#2196F3' > 使用中 </v-chip>\n                            <v-chip class=\"px-2\" small dark color='#545454' > 格式錯誤 </v-chip>\n    \n                            <!-- <v-checkbox v-model=\"copyRight_M\" class=\"text-xs w-full\" :label=\"`換預約玩`\"></v-checkbox> -->\n                        </div>\n                    </div>\n                    <!-- <span v-show=\"shouldPut == true\" \n                                     class=\"col-span-5 text-gray-900 bg-yellow-400 py-2 px-2 font-black text-s\"> \n                                     正在安排 {{ BkLists[LstX].pre_left_time }}，{{ BkLists[LstX].pre_tmp_idx}} 的位子 </span> -->\n    \n    \n                </div>\n            </div>\n        </div>\n    \n        <div class=\"w-11/12  \">\n            <v-card v-scroll.self=\"onScroll\" class=\"overflow-y-auto\" max-height=\"1080\">\n    \n    \n                <v-tabs v-model=\"tab\" active-class=\"bg-gray-900 text-white\" fixed-tabs>\n                    <v-tab key='k1' href='#k1' v-if=\"!hide\">\n                        中央 _北場\n                    </v-tab>\n    \n                    <v-tab key='k2' href='#k2'>\n                        中央 _南場\n                    </v-tab>\n    \n                    <v-tab key='k4' href='#k4' v-if=\"!hide\">\n                        北北東 _場\n                    </v-tab>\n                </v-tabs>\n                <v-tabs-items v-model=\"tab\">\n    \n                    <v-tab-item key='k1' value='k1'>\n                        <div>\n                            <v-list-item-group color=\"primary\" class=\"grid grid-cols-6 gap-0  \">\n                                <v-list-item v-for=\"(tutorial, index) in tutorials\" :key=\"index\" v-if=\"tutorial.pos =='北'\" @click=\"setActiveTutorial(tutorial, index)\" class=\"p-1\">\n                                    <v-list-item-content class=\" col-span-1 pt-1.5 pb-0.5 my-1 flex flex-row-reverse text-xs border-2 rounded-sm \" :class=\"{ [`bg-${color[parseInt(tutorial.sno)]}-100 border-${color[parseInt(tutorial.sno)]}-300`]: 1 }\" @click=\"setActiveTutorial(tutorial, index)\">\n    \n                                        <div class=\"col-span-1 flex pl-1\">\n                                            <v-chip class=\" w-auto \" :color=\"ChkTime2getColor_mdf(tutorial.left_time,tutorial.tmp_idx)\" @click=\"chgPos(tutorial)\">\n                                                <a class=\" font-bold text-white\">{{ tutorial.sno }}-{{ tutorial.sno_idx }} </a>\n                                          <!-- <a class=\" font-bold text-white text-xs\"> {{ tutorial.tmp_idx.split('---')[1] +\"<<\" }}</a> -->\n    \n                                           </v-chip>\n\n                                            \n                                            <!-- <v-text-field small class=\"w-1/3 mx-3\" label=\"離場時間\" v-model=\" tutorial.left_time \" @change=\"upldleft_time(tutorial)\" dense></v-text-field> -->\n    \n                                            <!-- <div class=\"flex\">  -->\n    \n                                            <v-chip v-show=\"copyRight_M == false  && tutorial.memo != '' \" small dark class=\"flex-auto bg-red-500 my-2 p-2 font-black text-red-100 text-s\" color=\"#E91E63\"> 預\n                                            </v-chip>\n    \n                                            <v-chip-group class=\"pl-2\" v-model=\"tutorial.ply_statu\" @change=\"upldStatu(tutorial)\" column>\n                                                <v-chip class=\"px-2\" v-show=\"tutorial.ply_statu != '續.已繳'\" filter small outlined value=\"首次\"> 首 </v-chip>\n                                                <v-chip class=\"px-2\" filter small outlined value=\"免講習\"> 免 </v-chip>\n                                                <v-chip class=\"px-2\" filter small outlined value=\"上課\"> 課 </v-chip>\n                                                <v-chip class=\"px-2\" v-show=\"tutorial.ply_statu == '續.已繳'\" filter small outlined value=\"續.已繳\"> 續</v-chip>\n                                            </v-chip-group>\n                                            <!-- </div>  -->\n    \n                                            <v-btn class=\"\" x-small v-show=\"dialog\" @click=\"upld_Claer(tutorial)\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n                                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                                        </svg>\n                                            </v-btn>\n                                            <v-btn class=\"\" x-small v-show=\"ChkTime2getColor_mdf(tutorial.left_time,tutorial.tmp_idx) == '#E91E63' && dialog ==false \" @click=\"upld_Claer(tutorial)\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n                                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                                        </svg>\n                                            </v-btn>\n                                        </div>\n                                        <div class=\"col-span-1 flex\">\n    \n                                            <input class=\" bg-white appearance-none border rounded w-full py-2 px-3 \n                                                                    text-gray-700 leading-tight focus:outline-none \n                                                                    focus:shadow-outline\" type=\"text\" \n                                                                    @change=\"upldtmp_idx(tutorial)\" \n                                                                    v-model=\"tutorial.tmp_idx\" \n                                                                    placeholder=\"格式：牌號---00:00\">\n    \n                                            <v-btn v-show=\"tutorial.ply_statu == '我要續時'\" class=\"mx-1\" color=\"#4f46e5\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續時.繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '續 0.5' \" class=\"mx-1\" color=\"#4f46e5\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續0.5繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '續 1.0' \" class=\"mx-1\" color=\"#4f46e5\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續1.0繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '問過不續' \" class=\"mx-1\" color=\"#475569\" small filter dark solo value=\"問過不續 \"> 問過不續 </v-btn>\n    \n                                        </div>\n                                        \n    \n                                        <div v-show=\"copyRight_M == true \" class=\"col-span-1 flex\">\n                                            <v-text-field small dense clearable class=\"w-2/3 mx-3\" \n                                                    label=\"下時段安排\" @change=\"upldplayGp(tutorial)\" v-model=\"tutorial.memo\">\n                                            </v-text-field>\n    \n                                            <v-btn color=\"#E91E63\" \n                                                   class=\"w-auto my-2 mr-1\" x-small dark solo \n                                                   v-show=\"copyRight_M  == true && shouldPut == false\" \n                                                   value=\"我要續時\" @click=\"chg_CHKin(tutorial)\"> 換人 </v-btn>\n                                        </div>\n    \n                                    </v-list-item-content>\n                                </v-list-item>\n    \n                            </v-list-item-group>\n                        </div>\n                    </v-tab-item>\n    \n                    <v-tab-item key='k2' value='k2'>\n                        <div>\n                            <v-list-item-group color=\"primary\" class=\"grid grid-cols-6 gap-0  \">\n                                <v-list-item v-for=\"(tutorial, index) in tutorials\" :key=\"index\" v-if=\"tutorial.pos =='南'\" @click=\"setActiveTutorial(tutorial, index)\" class=\"p-1\">\n                                     <v-list-item-content class=\" col-span-1 pt-1.5 pb-0.5 my-1 flex flex-row-reverse text-xs border-2 rounded-sm \" :class=\"{ [`bg-${color2[parseInt(tutorial.sno)]}-100 border-${color2[parseInt(tutorial.sno)]}-300`]: 1 }\" @click=\"setActiveTutorial(tutorial, index)\">\n    \n                                        <div class=\"col-span-1 flex pl-1\">\n                                            <v-chip class=\" w-auto \" :color=\"ChkTime2getColor_mdf(tutorial.left_time,tutorial.tmp_idx)\" @click=\"chgPos(tutorial)\">\n                                                <a class=\" font-bold text-white\">{{ tutorial.sno }}-{{ tutorial.sno_idx }} </a>\n                                          <!-- <a class=\" font-bold text-white text-xs\"> {{ tutorial.tmp_idx.split('---')[1] +\"<<\" }}</a> -->\n    \n                                           </v-chip>\n\n                                            \n                                            <!-- <v-text-field small class=\"w-1/3 mx-3\" label=\"離場時間\" v-model=\" tutorial.left_time \" @change=\"upldleft_time(tutorial)\" dense></v-text-field> -->\n    \n                                            <!-- <div class=\"flex\">  -->\n    \n                                            <v-chip v-show=\"copyRight_M == false  && tutorial.memo != '' \" small dark class=\"flex-auto bg-red-500 my-2 p-2 font-black text-red-100 text-s\" color=\"#E91E63\"> 預\n                                            </v-chip>\n    \n                                            <v-chip-group class=\"pl-2\" v-model=\"tutorial.ply_statu\" @change=\"upldStatu(tutorial)\" column>\n                                                <v-chip class=\"px-2\" v-show=\"tutorial.ply_statu != '續.已繳'\" filter small outlined value=\"首次\"> 首 </v-chip>\n                                                <v-chip class=\"px-2\" filter small outlined value=\"免講習\"> 免 </v-chip>\n                                                <v-chip class=\"px-2\" filter small outlined value=\"上課\"> 課 </v-chip>\n                                                <v-chip class=\"px-2\" v-show=\"tutorial.ply_statu == '續.已繳'\" filter small outlined value=\"續.已繳\"> 續</v-chip>\n                                            </v-chip-group>\n                                            <!-- </div>  -->\n    \n                                            <v-btn class=\"\" x-small v-show=\"dialog\" @click=\"upld_Claer(tutorial)\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n                                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                                        </svg>\n                                            </v-btn>\n                                            <v-btn class=\"\" x-small v-show=\"ChkTime2getColor_mdf(tutorial.left_time,tutorial.tmp_idx) == '#E91E63' && dialog ==false \" @click=\"upld_Claer(tutorial)\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n                                                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                                        </svg>\n                                            </v-btn>\n                                        </div>\n                                        <div class=\"col-span-1 flex\">\n    \n                                            <input class=\" bg-white appearance-none border rounded w-full py-2 px-3 \n                                                                    text-gray-700 leading-tight focus:outline-none \n                                                                    focus:shadow-outline\" type=\"text\" \n                                                                    @change=\"upldtmp_idx(tutorial)\" \n                                                                    v-model=\"tutorial.tmp_idx\" \n                                                                    placeholder=\"格式：牌號---00:00\">\n    \n                                            <v-btn v-show=\"tutorial.ply_statu == '我要續時'\" class=\"mx-1\" color=\"#4f46e5\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續時.繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '續 0.5' \" class=\"mx-1\" color=\"#4f46e5\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續0.5繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '續 1.0' \" class=\"mx-1\" color=\"#4f46e5\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續1.0繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '問過不續' \" class=\"mx-1\" color=\"#475569\" small filter dark solo value=\"問過不續 \"> 問過不續 </v-btn>\n    \n                                        </div>\n                                        \n    \n                                        <div v-show=\"copyRight_M == true \" class=\"col-span-1 flex\">\n                                            <v-text-field small dense clearable class=\"w-2/3 mx-3\" \n                                                    label=\"下時段安排\" @change=\"upldplayGp(tutorial)\" v-model=\"tutorial.memo\">\n                                            </v-text-field>\n    \n                                            <v-btn color=\"#E91E63\" \n                                                   class=\"w-auto my-2 mr-1\" x-small dark solo \n                                                   v-show=\"copyRight_M  == true && shouldPut == false\" \n                                                   value=\"我要續時\" @click=\"chg_CHKin(tutorial)\"> 換人 </v-btn>\n                                        </div>\n    \n                                    </v-list-item-content>\n                                </v-list-item>\n    \n                            </v-list-item-group>\n    \n                        </div>\n                    </v-tab-item>\n    \n                    <v-tab-item key='k3' value='k3'>\n                        <div>\n                            <!-- {{ tutorial }} -->\n                            <v-list-item-group color=\"primary\" class=\"grid grid-cols-6 gap-0  \">\n                                <v-list-item v-for=\"(tutorial, index) in tutorials\" :key=\"index\" v-if=\"tutorial.pos =='南'\" @click=\"setActiveTutorial(tutorial, index)\" class=\"p-1\">\n                                    <v-list-item-content class=\" col-span-1 pt-1.5 pb-0.5 my-1 flex flex-row-reverse text-xs border-2 rounded-sm \" :class=\"{ [`bg-${color2[parseInt(tutorial.sno)]}-100 border-${color2[parseInt(tutorial.sno)]}-300`]: 2 }\" @click=\"setActiveTutorial(tutorial, index)\">\n    \n                                        <!-- order-last -->\n                                        <div class=\"col-span-1 flex pl-1\">\n                                            <v-chip class=\" w-auto \" :color=\"ChkTime2getColor(tutorial.left_time)\" @click=\"chgPos(tutorial)\">\n                                                <a class=\" font-bold text-white\">{{ tutorial.sno }}-{{ tutorial.sno_idx }} </a>\n                                            </v-chip>\n    \n                                            <v-text-field small class=\"w-1/3 mx-3\" label=\"離場時間\" v-model=\" tutorial.left_time \" @change=\"upldleft_time(tutorial)\" dense></v-text-field>\n    \n                                            <v-btn class=\"\" x-small v-show=\"dialog\" @click=\"upld_Claer(tutorial)\">\n                                                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n                                                                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                                                </svg>\n                                            </v-btn>\n                                        </div>\n                                        <div class=\"col-span-1 flex\">\n    \n                                            <!-- <v-text-field solo class=\"col-span-1 mx-10\" label=\"牌號\" v-model=\" tutorial.tmp_idx \" @change=\"upldtmp_idx(tutorial)\" dense></v-text-field> -->\n    \n                                            <input class=\" bg-white appearance-none border rounded w-full py-2 px-3 \n                                                                          text-gray-700 leading-tight focus:outline-none \n                                                                          focus:shadow-outline\" type=\"text\" @change=\"upldtmp_idx(tutorial)\" v-model=\"tutorial.tmp_idx\" placeholder=\"牌號/ 顧客暱稱\">\n    \n                                            <v-btn v-show=\"tutorial.ply_statu == '我要續時'\" color=\"#4f46e5\" class=\"mx-1\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續時.繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '續 0.5' \" color=\"#4f46e5\" class=\"mx-1\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續0.5繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '續 1.0' \" color=\"#4f46e5\" class=\"mx-1\" small filter dark solo value=\"我要續時\" @click=\"extendPayChk(tutorial)\"> 續1.0繳費 </v-btn>\n                                            <v-btn v-show=\"tutorial.ply_statu == '問過不續' \" class=\"mx-1\" color=\"#475569\" small filter dark solo value=\"問過不續  \"> 問過不續 </v-btn>\n                                        </div>\n                                        <v-text-field class=\"col-span-1 mr-3\" v-show=\"use_BKingGp\" label=\"客人備註\" v-model=\" tutorial.memo \" @change=\"upldplayGp(tutorial)\" dense></v-text-field>\n    \n    \n                                        <v-chip-group v-model=\"tutorial.ply_statu\" @change=\"upldStatu(tutorial)\" column class=\"\">\n                                            <v-chip class=\"px-2\" filter small outlined value=\"首次\"> 首 </v-chip>\n                                            <v-chip class=\"px-2\" filter small outlined value=\"免講習\"> 免 </v-chip>\n                                            <v-chip class=\"px-2\" filter small outlined value=\"上課\"> 課 </v-chip>\n                                            <v-chip class=\"px-2\" v-show=\"tutorial.ply_statu == '續.已繳'\" filter small outlined value=\"續.已繳\"> 續 </v-chip>\n                                        </v-chip-group>\n    \n                                    </v-list-item-content>\n                                </v-list-item>\n    \n                            </v-list-item-group>\n    \n                        </div>\n                    </v-tab-item>\n                </v-tabs-items>\n            </v-card>\n        </div>\n    \n    \n    \n    </div>\n</template>\n \n\n<script>\nimport TutorialDetails from \"./bkadd5_Mdf\";\nimport TutorialDataService from \"../services/SeatPrepareService\";\n\n\n\nimport BkingNoteDataService from \"../services/BkingNoteDataService\";\n\nimport SeatDataService from \"../services/SeatPrepareService\";\n\nimport HistoryDataService from \"../services/HistoryDataService\";\nimport dayjs from 'dayjs';\n\n\nimport PmtDataService from \"../services/PmtService\";\nimport Vue from 'vue'\nimport JsonCSV from 'vue-json-csv'\nVue.component('downloadCsv', JsonCSV)\n\nexport default {\n    name: \"tutorials-list\",\n    components: { TutorialDetails },\n\n\n    data() {\n        return {\n            // - - - - - \n            currentTime: Date.now(),\n            cT: \"\",\n            cuT: \"\",\n            plySTATU: \"\",\n            amenities: [],\n            exists_Now: [0, 0, 0, 0, 0, 0],\n            // - - - - - \n            預排靶位tch1: true,\n            預排靶位tch2: false,\n            opc: 0.8,\n            color: ['red', 'red', 'red', 'yellow', 'yellow', 'green', 'green', 'gray', 'gray', 'blue', 'blue', 'red', 'red', 'blue', 'blue',\n                'green', 'green', 'red', 'red', 'green', 'green', 'red', 'red', 'yellow', 'yellow', 'blue', 'blue', 'green', 'green',\n                'red', 'red', 'yellow', 'yellow', 'green', 'green', 'red', 'red', 'yellow', 'yellow'\n            ],\n\n            color2: ['red', 'red', 'red', 'yellow', 'yellow', 'green', 'green', 'gray', 'gray', 'blue', 'blue', 'yellow', 'yellow', 'yellow', 'blue', 'blue',\n                'green', 'green', 'red', 'red', 'gray', 'gray', 'red', 'red', 'yellow', 'yellow', 'blue', 'blue', 'green', 'green',\n                'red', 'red', 'yellow', 'yellow', 'green', 'green', 'red', 'red', 'yellow', 'yellow'\n            ],\n\n\n            ex11: ['red'],\n            ex: false,\n            // - - - - - - - - - - - - - - -\n            ExTndpanel: [],\n            sheet: false,\n            pre_idx: \"\",\n            LstX: [0],\n            shouldPut: false,\n\n            BkLst_Now: {\n                pre_tmp_idx: '',\n                pre_mb_phone: '',\n                pre_left_time: '',\n\n                ply_amt: '',\n                ply_statu: '預約',\n                pre_Seat: ['0'],\n            },\n\n            BkLists_Draft: [{\n                    pre_tmp_idx: '劉水席',\n                    pre_mb_phone: '0923444555',\n                    pre_left_time: '13:00',\n                    ply_amt: 1,\n                    pre_Seat: [],\n                },\n                {\n                    pre_tmp_idx: '吳小媚(2大1小)',\n                    pre_mb_phone: '0923444555',\n                    pre_left_time: '13:00',\n\n                    ply_amt: 3,\n                    ply_statu: '預約',\n                    pre_Seat: [],\n                },\n                {\n                    pre_tmp_idx: '廖大砲',\n                    pre_mb_phone: '0923444345',\n                    pre_left_time: '12:00',\n                    ply_amt: 2,\n                    ply_statu: '預約',\n                    pre_Seat: [],\n                },\n                {\n                    pre_tmp_idx: '董員外(全明星藝人)',\n                    pre_mb_phone: '0929944555',\n                    pre_left_time: '14:00',\n                    ply_amt: 4,\n                    ply_statu: '預約',\n                    pre_Seat: [],\n                },\n                {\n                    pre_tmp_idx: '言承旭',\n                    pre_mb_phone: '09287644555',\n                    pre_left_time: '16:00',\n                    ply_amt: 6,\n                    ply_statu: '預約',\n                    pre_Seat: [],\n                },\n            ],\n\n            locations: ['Australia', 'Barbados', 'Chile', 'Denmark', 'Ecuador', 'France'],\n\n            // - - - - - - - - - - - - - - -\n\n            dialog: false,\n            tab: \"\",\n            tabp: \"\",\n            ckbx: \"\",\n            copyRight_N: false,\n            copyRight_T: false,\n            copyRight_M: false,\n            copyRight_N_auto: false,\n\n            // - - - - - - - - - - - - - - - \n            dev_TooL_show: false,\n            Dev_Tool_0: false,\n            Dev_Tool_1: false,\n            Dev_Tool_2: false,\n            Dev_Tool_3: false,\n\n            bch_left_time: \"\",\n            bch_tmp_idx: \"\",\n            bch_memo: \"\",\n            auto_tmp_idx: \"\",\n\n            show: false,\n            tutorials: [],\n            currentTutorial: null,\n            currentIndex: -1,\n\n            // - - - -  - - - -  - - - -  - - - -\n            use_BKingGp: false,\n\n            // ply_statu_List:['首次','免講習','保留席','續.未繳費','續0.5','續1.0'],\n            // - - - -  - - - -  - - - -  - - - -  \n            PmtLists: [],\n\n            p: ['key', 'name', 'phone', 'ply_amt', 'plyd'],\n\n            labels: {\n                key: '流水編號',\n                phone: '手機',\n\n                build_date: '日期',\n                ply_amt: '收入金額（＋）',\n                mb_id: '會員編號',\n                mb_name: '客戶',\n                pd_ID: '商品編號',\n                pd_name: '產品名稱',\n\n                payCash: '現金',\n                payLinPay: 'Linepay',\n                payCTCard: '刷卡機',\n                payNetBank: '網路(線上)',\n                payGovTik: '動滋卷',\n\n                memo: '備註',\n                bls_CNT: '差額',\n                bls_CNT_reson: '差額原因',\n\n                aCNT_sC: '小分類',\n                pcs_price: '單價',\n                aCNT_name: '會計科目名稱',\n                aCNT_c_ID: '會計科目代號',\n                aCNT_c_name: '科目名稱',\n\n                bld_name: '建立者',\n            },\n            // fields: [ 'name','ply_amt','key','phone','plyd'],\n            fields: ['name', 'phone', 'ply_amt', 'key', 'build_date', 'payCash', 'payNetBank', 'payCTCard', 'payGovTik', 'payLinPay', 'memo', 'bls_CNT', 'bls_CNT_reson', 'aCNT_sC', 'pcs_price', 'aCNT_name', 'aCNT_c_ID', 'aCNT_c_name'],\n            // 修改_簡化版本  \n            // 日期','原因','收入金額（＋）','會員編號','客戶','商品編號','產品名稱','銷售數量','小計','現金','網路(線上)','刷卡機','匯款','動滋卷','Linepay','備註','差額','差額原因','付款方式','小分類','單價','會計科目名稱','會計科目代號','科目名稱','建立者','修改時間', \n            // 原版本\n            // 日期','原因','日期班別','收入金額（＋）','會員編號','客戶','商品編號','產品名稱','銷售數量','小計','現金','網路(線上)','刷卡機','匯款','動滋卷','Linepay','運動卷','熊好卷','迪卡儂卷','台灣pay','發票號碼','備註','差額','差額原因','付款方式','小分類','單價','收入登錄','會計科目名稱','會計科目代號','科目名稱','學員報名課程代號','建立者','修改時間','5倍卷'\n            // - - - -  - - - -  - - - -  - - - - \n            // - - - -  - - - -  - - - -  - - - - \n            fileName: 'UUU',\n            absolute: true,\n            overlay: false,\n            overlay2: false,\n            copyMore: false,\n            preCC: false,\n            toHere: \"\",\n            toHere_more: [],\n            beClear: [],\n\n            toHere_mor_tmp_12: [],\n            toHere_mor_tmp_34: [],\n            toHere_mor_tmp_56: [],\n            toHere_mor_tmp_78: [],\n            toHere_mor_tmp_910: [],\n            toHere_mor_tmp_11: [],\n            toHere_mor_tmp_1213: [],\n            toHere_mor_tmp_1415: [],\n            toHere_mor_tmp_1617: [],\n            toHere_mor_tmp_1819: [],\n            toHere_mor_tmp_2021: [],\n            toHere_mor_tmp_2223: [],\n            toHere_mor_tmp_2425: [],\n\n            start_copy: 0,\n\n        };\n    },\n    computed: {\n        toHere_more: function() {\n            return this.toHere_more.filter(c => c.sentTime.indexOf(this.searchs) !== -1)\n        },\n\n        cfg_Pos_1: function() {\n            return this.tutorials.filter(c => c.tmp_idx != '' && c.pos == '北').length\n        },\n\n        cfg_Pos_2: function() {\n            return this.tutorials.filter(c => c.tmp_idx != '' && c.pos == '南').length\n        },\n\n        cfg_Pos_3: function() {\n            return this.tutorials.filter(c => c.tmp_idx != '' && c.pos == '北' && this.ChkTime2getColor_mdf(c.left_time,c.tmp_idx) == '#E91E63').length\n        },\n\n        cfg_Pos_4: function() {\n            return this.tutorials.filter(c => c.tmp_idx != '' && c.pos == '南' && this.ChkTime2getColor_mdf(c.left_time,c.tmp_idx) == '#E91E63').length\n        },\n\n        stCNT_1: function(e) {\n            return this.tutorials.filter(c => c.memo == e).length\n        },\n\n        // bkList_rvs: function() {\n        //     return this.BkLists.reverse()\n        // },\n\n    },\n    methods: {\n        clear_chgPos() {\n            this.toHere = \"\";\n            this.toHere_more = [];\n\n            this.toHere_more12 = [];\n            this.toHere_more34 = [];\n            this.toHere_more56 = [];\n            this.toHere_more78 = [];\n\n\n            this.overlay = false;\n            this.copyMore = false;\n\n\n        },\n        chgPos(e) {\n            this.overlay = !this.overlay\n\n            // alert(e.key);\n        },\n\n        changPos(key) {\n            const data = {\n                tmp_idx: this.currentTutorial.tmp_idx,\n                left_time: this.currentTutorial.left_time,\n                // memo: this.currentTutorial.memo,\n                ply_statu: this.currentTutorial.ply_statu,\n            };\n            const OLD = {\n                tmp_idx: \"\",\n                left_time: \"\",\n                // memo:\"\",\n                ply_statu: \"\",\n            };\n\n            TutorialDataService.update(key, data)\n                .then(() => {})\n                .catch((e) => {\n                    console.log(e);\n                });\n\n            TutorialDataService.update(this.currentTutorial.key, OLD)\n                .then(() => {\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'success',\n                        title: '修改完畢!',\n                        text: '靶位已進行 調整',\n                        showConfirmButton: false,\n                        timer: 1200\n                    })\n\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n            this.upld_History_mdf(this.currentTutorial);\n            this.overlay = false;\n        },\n        changPos_mdf(ary) {\n            for (let i = 0; i <= ary.length - 1; i++) {\n                this.changPos(ary[i].key);\n            }\n            for (let i = 0; i <= this.toHere_more34.length - 1; i++) {\n                this.changPos(this.toHere_more34[i].key);\n            }\n            for (let i = 0; i <= this.toHere_more56.length - 1; i++) {\n                this.changPos(this.toHere_more56[i].key);\n            }\n\n\n            this.overlay = false;\n            this.clear_chgPos();\n        },\n        pre_BeClear() {\n            //  this.changPos_more();\n            this.preCC = true;\n\n            for (let i = 0; i <= this.beClear.length; i++) { this.changPos_BeClear(this.beClear[i].key) }\n\n\n        },\n        chk_preSt() {\n            if (this.shouldPut == true) {\n                this.copyRight_M = true;\n            } else {\n                this.copyRight_M = false;\n            }\n        },\n\n\n\n        changPos_BeClear(h) {\n\n            const data = {\n                tmp_idx: \"\",\n                left_time: \"\",\n                // memo:\"\",\n                ply_statu: \"\",\n            };\n\n            TutorialDataService.update(h, data)\n                .then(() => {})\n                .catch((e) => {\n                    console.log(e);\n                });\n\n        },\n\n        changPos_more() {\n\n            this.preCC = false;\n\n            if (this.toHere_more12.length != 0) { for (let i = 0; i <= this.toHere_more12.length - 1; i++) { this.changPos(this.toHere_more12[i].key); } }\n            if (this.toHere_more34.length != 0) { for (let i = 0; i <= this.toHere_more34.length - 1; i++) { this.changPos(this.toHere_more34[i].key); } }\n            if (this.toHere_more56.length != 0) { for (let i = 0; i <= this.toHere_more56.length - 1; i++) { this.changPos(this.toHere_more56[i].key); } }\n            if (this.toHere_more78.length != 0) { for (let i = 0; i <= this.toHere_more78.length - 1; i++) { this.changPos(this.toHere_more78[i].key); } }\n            if (this.toHere_more910.length != 0) { for (let i = 0; i <= this.toHere_more910.length - 1; i++) { this.changPos(this.toHere_more910[i].key); } }\n\n            if (this.toHere_more11.length != 0) { for (let i = 0; i <= this.toHere_more11.length - 1; i++) { this.changPos(this.toHere_more11[i].key); } }\n            if (this.toHere_more1213.length != 0) { for (let i = 0; i <= this.toHere_more1213.length - 1; i++) { this.changPos(this.toHere_more1213[i].key); } }\n            if (this.toHere_more1415.length != 0) { for (let i = 0; i <= this.toHere_more1415.length - 1; i++) { this.changPos(this.toHere_more1415[i].key); } }\n            if (this.toHere_more1617.length != 0) { for (let i = 0; i <= this.toHere_more1617.length - 1; i++) { this.changPos(this.toHere_more1617[i].key); } }\n\n            if (this.toHere_more1819.length != 0) { for (let i = 0; i <= this.toHere_more1819.length - 1; i++) { this.changPos(this.toHere_more1819[i].key); } }\n            if (this.toHere_more2021.length != 0) { for (let i = 0; i <= this.toHere_more2021.length - 1; i++) { this.changPos(this.toHere_more2021[i].key); } }\n            if (this.toHere_more2223.length != 0) { for (let i = 0; i <= this.toHere_more2223.length - 1; i++) { this.changPos(this.toHere_more2223[i].key); } }\n            if (this.toHere_more2425.length != 0) { for (let i = 0; i <= this.toHere_more2425.length - 1; i++) { this.changPos(this.toHere_more2425[i].key); } }\n\n            this.overlay = false;\n            // this.pre_BeClear();\n\n            // for(let i = 0; i <= this.beClear.length; i++) { this.changPos_BeClear(this.beClear[i].key)  }\n\n\n\n            this.clear_chgPos();\n\n        },\n\n        removeST() {\n            this.bch_memo = \"\";\n            this.bch_left_time = \"\";\n            this.copyRight_M = false;\n            this.copyRight_T = false;\n        },\n\n        left_Mdf(detal, e) {\n            var strAry = e.left_time.split(\":\");\n\n            if (detal == 1) {\n\n                if (detal == 1) {\n                    if (parseInt(strAry[1]) == 30) {\n                        e.left_time = parseInt(strAry[0]) + 1 + \":00\";\n                    } else if (parseInt(strAry[1]) >= 30) {\n                        e.left_time =\n                            parseInt(strAry[0]) + 1 + \":\" + (parseInt(strAry[1]) - 30);\n                    } else if (parseInt(strAry[1]) < 30) {\n                        e.left_time =\n                            strAry[0] + \":\" + (parseInt(strAry[1]) + 30);\n                    }\n                }\n\n                const data = {\n                    left_time: e.left_time,\n                    ply_statu: '續.已繳',\n                };\n\n                TutorialDataService.update(e.key, data)\n                    .then(() => {\n                        this.message = \"更新資料，上傳成功!\";\n                    })\n                    .catch((e) => {\n                        console.log(e);\n                    });\n\n                Swal.fire({\n                    position: 'top-end',\n                    icon: 'success',\n                    title: '修改完畢!',\n                    text: '請記得.確認收費',\n                    showConfirmButton: false,\n                    timer: 1200\n                })\n\n            } else if (detal == 2) {\n                if (detal == 2) {\n                    e.left_time =\n                        parseInt(strAry[0]) + 1 + \":\" + strAry[1];\n                }\n\n                const data = {\n                    left_time: e.left_time,\n                    ply_statu: '續.已繳',\n                };\n\n                TutorialDataService.update(e.key, data)\n                    .then(() => {\n                        this.message = \"更新資料，上傳成功!\";\n                    })\n                    .catch((e) => {\n                        console.log(e);\n                    });\n\n                Swal.fire({\n                    position: 'top-end',\n                    icon: 'success',\n                    title: '修改完畢!',\n                    text: '請記得.確認收費',\n                    showConfirmButton: false,\n                    timer: 1200\n                })\n            }\n        },\n        dlt_preSt(e) {\n            // Swal.fire({\n            //             position: 'top-end',\n            //             icon: 'errors',\n            //             title: '刪除成功',\n            //             text: '請 在進行 確認一下喲～',\n            //             showConfirmButton: false,\n            //         })\n            const data = {\n\n                memo: \"\",\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'error',\n                        title: '解除.預排位置',\n                        // text: '請 在進行 確認一下喲～',\n                        showConfirmButton: false,\n                        timer: 1200\n                    })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        updateTutorial(e) {\n            const data = {\n                tmp_idx: e.tmp_idx,\n                left_time: e.left_time,\n                memo: e.memo,\n                ply_statu: e.ply_statu,\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        upld_ByCHKin(e) {\n            const data = {\n                tmp_idx: e.tmp_idx,\n                left_time: e.left_time,\n                memo: e.memo,\n                ply_statu: '首次',\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        upldtmp_idx(e) {\n            const data = {\n                tmp_idx: e.tmp_idx,\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n            this.upld_History(e);\n        },\n\n        upldleft_time(e) {\n            const data = {\n                left_time: e.left_time,\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n            this.upld_History(e);\n        },\n\n        upldplayGp(e) {\n            const data = {\n                // memo: e.memo,\n                memo: this.BkLists[this.LstX].pre_tmp_idx + ';' + this.BkLists[this.LstX].pre_left_time\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    //  Swal.fire({\n                    //         position: 'top-end',\n                    //         icon: 'success',\n                    //         title: '下時段.新增.成功!', \n                    //         showConfirmButton: false, \n                    //         timer: 800\n                    // })\n\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n            // this.upld_pre_Seatthis(this.BkLists[this.LstX].key) ;   \n\n        },\n        upldStatu(e) {\n\n            if (e.ply_statu == \"\" | e.ply_statu == null | e.ply_statu == '') {\n                const dat = {\n                    ply_statu: \"\",\n                };\n\n                TutorialDataService.update(e.key, dat)\n                    .then(() => {\n                        this.message = \"更新資料，上傳成功!\";\n                    })\n                    .catch((e) => {\n                        console.log(e);\n                    });\n\n\n            } else {\n                const data = {\n                    ply_statu: e.ply_statu,\n                };\n\n                TutorialDataService.update(e.key, data)\n                    .then(() => {\n                        this.message = \"更新資料，上傳成功!\";\n                    })\n                    .catch((e) => {\n                        console.log(e);\n                    });\n            }\n\n\n            this.upld_History(e);\n\n        },\n\n        // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - \n\n        upld_History(e) {\n\n\n            // if( e.tmp_idx !='' && e.left_time != '' && e.ply_statu !='' )\n            // {\n            const data = {\n                // 系統.設定資料\n                pos: e.pos,\n                sno: e.sno,\n                sno_idx: e.sno_idx,\n                // 主要變動資料\n                tmp_idx: e.tmp_idx,\n                left_time: e.left_time,\n                ply_statu: e.ply_statu,\n                // memo:e.memo,   \n                cratTime: this.dayjs(Date.now()).toISOString(),\n            };\n\n            HistoryDataService.create(data)\n                .then(() => {\n\n\n                    //      Swal.fire({\n                    //         position: 'top-end',\n                    //         icon: 'warning',\n                    //         title: '資料新增成功',\n                    //         text: e.left_time+ '請 在進行 確認一下喲～',\n                    //         showConfirmButton: false,\n\n                    // })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        upld_History_mdf(e) {\n            const data = {\n                // 系統.設定資料\n                pos: e.pos,\n                sno: e.sno,\n                sno_idx: e.sno_idx,\n                // 主要變動資料\n                tmp_idx: e.tmp_idx,\n                left_time: e.left_time,\n                ply_statu: '換靶位',\n                // memo:e.memo,   \n                cratTime: this.dayjs(Date.now()).toISOString(),\n            };\n            HistoryDataService.create(data)\n                .then(() => {\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'warning',\n                        title: '資料新增成功',\n                        text: '請 在進行 確認一下喲～',\n                        showConfirmButton: false,\n                    })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        upld_Claer(e) {\n            const data = {\n                memo: \"\",\n                left_time: \"\",\n                tmp_idx: \"\",\n                ply_statu: \"\",\n            };\n\n            TutorialDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        save_BkingNote() {\n            const data = {\n                // 系統.設定資料\n                pre_tmp_idx: this.BkLst_Now.pre_tmp_idx,\n                pre_mb_phone: this.BkLst_Now.pre_mb_phone,\n                pre_left_time: this.BkLst_Now.pre_left_time,\n\n                ply_amt: this.BkLst_Now.ply_amt,\n                ply_statu: this.BkLst_Now.ply_statu,\n                pre_Seat: [],\n\n                cratTime: this.dayjs(Date.now()).toISOString(),\n            };\n\n            BkingNoteDataService.create(data)\n                .then(() => {\n\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'warning',\n                        title: '資料新增成功',\n                        text: '已成功 建立預訂 ～',\n                        showConfirmButton: false,\n                    })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        upld_pre_Seat(e) {\n            const data = {\n                // 系統.設定資料\n                pre_Seat: e.pre_Seat,\n            };\n\n            BkingNoteDataService.update(e.key, data)\n                .then(() => {\n\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'success',\n                        title: '位子預定.成功!',\n                        showConfirmButton: false,\n                        timer: 800\n                    })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n\n        },\n        updateBkingNote(e) {\n            const data = {\n                // 系統.設定資料\n                pre_tmp_idx: e.pre_tmp_idx,\n                pre_mb_phone: e.pre_mb_phone,\n                pre_left_time: e.pre_left_time,\n                ply_amt: e.ply_amt,\n            };\n\n            BkingNoteDataService.update(e.key, data)\n                .then(() => {\n\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'success',\n                        title: '更新資料，上傳成功!',\n                        showConfirmButton: false,\n                        timer: 1200\n                    })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n\n        dlt_preBking(e, str) {\n            const data = {\n                // 系統.設定資料\n                ply_statu: str,\n            };\n\n            BkingNoteDataService.update(e.key, data)\n                .then(() => {\n\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'success',\n                        title: '成功執行!',\n                        showConfirmButton: false,\n                        timer: 1200\n                    })\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        extendPayChk(e) {\n            Swal.fire({\n                title: '續時 繳費確認 ',\n                text: \"教練已詢問，請櫃檯協助收費\",\n                icon: 'question',\n                showDenyButton: true,\n                showCancelButton: true,\n                confirmButtonText: '續  0.5 小時',\n                denyButtonText: `續 1 小時`,\n                cancelButtonText: '取消 !'\n            }).then((result) => {\n                /* Read more about isConfirmed, isDenied below */\n                if (result.isConfirmed) {\n\n                    this.left_Mdf(1, e)\n                    // Swal.fire('Saved!', '', 'success')\n                } else if (result.isDenied) {\n\n                    this.left_Mdf(2, e)\n                    // Swal.fire('Changes are not saved', '', 'info')\n                } else if (result.isDismissed) {\n                    const data = {\n                        ply_statu: '我要續時',\n                    };\n\n                    TutorialDataService.update(e.key, data)\n                        .then(() => {\n                            this.message = \"更新資料，上傳成功!\";\n                        })\n                        .catch((e) => {\n                            console.log(e);\n                        });\n\n                    Swal.fire({\n                        position: 'top-end',\n                        icon: 'warning',\n                        title: '未完成繳費!',\n                        text: '請 在進行 確認一下喲～',\n                        showConfirmButton: false,\n                        timer: 1200\n                    })\n\n                }\n            })\n        },\n        bch_chg_CHKin(a, b, e) {\n            // Swal.fire(\n            //             '清除完畢!',\n            //             '目前.',\n            //             'success'\n            //         )\n\n            for (let ii = 0; ii < this.tutorials.length; ii++) {\n                let x = a + ';' + b\n                // alert(this.tutorials[ii].memo +'vs'+x);\n                if (this.tutorials[ii].memo == x) {\n                    this.chg_CHKin(this.tutorials[ii]);\n                }\n            }\n\n            // \n            this.dlt_preBking(e, '已安排上線')\n\n        },\n        chg_CHKin(e) {\n            var strAry = e.memo.split(';');\n            var strAry2 = strAry[1].split(':');\n\n\n            e.left_time = parseInt(strAry2[0]) + 1 + \":\" + strAry2[1];\n\n            e.tmp_idx = strAry[0];\n\n            e.memo = \"\";\n            // 進行 修改 \n            this.upld_ByCHKin(e);\n        },\n\n\n        pre_CHKin() {\n            Swal.fire({\n                title: 'Select field validation',\n                input: 'select',\n                inputOptions: {\n                    apples: 'Apples',\n                    bananas: 'Bananas',\n                    grapes: 'Grapes',\n                    oranges: 'Oranges'\n                },\n                inputPlaceholder: 'Select a fruit',\n                showCancelButton: true,\n            })\n        },\n        pre_seatSTing(pre_tmp_idx, pre_left_time) {\n            this.bch_memo = pre_tmp_idx + ';' + pre_left_time\n\n        },\n\n\n\n        MdfLfTime_05(e) {\n\n            // var a = dayjs.duration(e.left_time, 'hh:mm');\n            // var b = dayjs.duration(30, 'hh:mm');\n\n            // const data = { \n            //      left_time:a.add(b).minutes(), \n            // };\n\n            // TutorialDataService.update(e.key, data)\n            //     .then(() => {\n            //         this.message = \"更新資料，上傳成功!\";\n            //     })\n            //     .catch((e) => {\n            //         console.log(e);\n            //     });\n        },\n\n        MdfLfTime_10(e) {\n            //  var a = dayjs.duration(e.left_time, 'hh:mm');\n            // var b = dayjs.duration(1, 'hh');\n\n            // const data = { \n            //      left_time:a.add(b).hours(), \n            // };\n\n            // TutorialDataService.update(e.key, data)\n            //     .then(() => {\n            //         this.message = \"更新資料，上傳成功!\";\n            //     })\n            //     .catch((e) => {\n            //         console.log(e);\n            //     });\n        },\n\n        pmt_onDataChange(items) {\n\n            let _tansCATM = [];\n            items.forEach((item) => {\n                let key = item.key;\n                let data = item.val();\n                _tansCATM.push({\n\n                    key: key,\n\n                    name: data.name,\n                    phone: data.phone,\n                    /// 這邊需要再往下製作 ... 累了先睡，再安排吧\n\n                });\n            });\n\n            this.pmtLists = _tansCATM;\n        },\n\n        BkingNoteonDataChange(items) {\n\n            let _tutorials = [];\n            items.forEach((item) => {\n                let key = item.key;\n                let data = item.val();\n                _tutorials.push({\n                    key: key,\n\n                    // pos: data.pos,\n                    // sno: data.sno,\n                    // sno_idx: data.sno_idx,\n                    // sno_id: data.sno_id,\n\n                    pre_tmp_idx: data.pre_tmp_idx,\n                    pre_mb_phone: data.pre_mb_phone,\n                    pre_left_time: data.pre_left_time,\n\n                    ply_amt: data.ply_amt,\n                    ply_statu: data.ply_statu,\n                    pre_Seat: data.pre_Seat,\n                    stCNT: [],\n                    sted: 0,\n\n                    // memo_1: data.memo_1,\n                    // memo_2: data.memo_2,\n                });\n            });\n\n            this.BkLists = _tutorials;\n\n\n            // \n\n            // this.cfg();\n        },\n\n        onDataChange(items) {\n\n            let _tutorials = [];\n            items.forEach((item) => {\n                let key = item.key;\n                let data = item.val();\n                _tutorials.push({\n                    key: key,\n                    pos: data.pos,\n                    sno: data.sno,\n                    sno_idx: data.sno_idx,\n                    sno_id: data.sno_id,\n\n                    tmp_idx: data.tmp_idx,\n                    left_time: data.left_time,\n                    memo: data.memo,\n                    ply_statu: data.ply_statu,\n                });\n            });\n\n            this.tutorials = _tutorials;\n\n            // this.cfg();\n        },\n\n        // cfg(e){\n\n        //     if( e.pos == '北' && e.left_time !='' )\n        //     {\n        //         this.exists_Now[1]= parseInt(this.exists_Now[0])+1 ;\n        //     }\n        //     else if( e.pos == '南' && e.left_time !='' )\n        //     {\n        //         this.exists_Now[1]= parseInt(this.exists_Now[1])+1 ;\n        //     }\n        // },\n\n\n        refreshList() {\n            this.currentTutorial = null;\n            this.currentIndex = -1;\n        },\n        cfg() {\n            if (this.copyRight_N_auto == false) {\n                this.copyRight_T = false;\n                this.copyRight_N = false;\n                this.copyRight_M = false;\n\n                this.bch_left_time = \"\";\n                this.bch_tmp_idx = \"\";\n                this.auto_tmp_idx = \"\";\n            }\n\n        },\n\n        setActiveTutorial(tutorial, index) {\n\n            this.currentTutorial = tutorial;\n            this.currentIndex = index;\n\n            if (this.copyRight_N_auto != false) {\n\n                //\n                this.copyRight_T = true;\n                // this.bch_left_time=this.currentTutorial.left_time ;\n                this.currentTutorial.left_time = this.bch_left_time;\n                this.currentTutorial.ply_statu = '首次';\n                //\n                this.currentTutorial.tmp_idx = this.auto_tmp_idx;\n                this.start_copy++;\n                if (this.start_copy % 2 == 0) {\n                    this.auto_tmp_idx = parseInt(this.auto_tmp_idx) + 1;\n                }\n                this.bch_updta();\n                // this.message = \"複製更新 成功!\";\n            }\n\n\n            if (this.copyRight_N != false) {\n                this.currentTutorial.tmp_idx = this.bch_tmp_idx;\n                this.bch_updta();\n                this.message = \"複製更新 成功!\";\n            }\n\n            if (this.copyRight_T != false) {\n                this.currentTutorial.left_time = this.bch_left_time;\n                this.bch_updta();\n                // this.message = \"複製更新 成功!\";\n            }\n            if (this.copyRight_M != false && this.shouldPut == true) {\n                this.upldplayGp(tutorial);\n                // this.BkLists[this.LstX].pre_Seat.push(tutorial); \n            }\n\n\n\n\n            // if (this.copyRight_M != false && this.shouldPut == true) {\n            //     this.BkLists[this.LstX].pre_Seat.push(tutorial); \n\n            //     // this.upldplayGp(tutorial);\n\n            //     // - - - - - -  \n            //     this.shouldPut = false; \n            // }\n\n            // if (this.shouldPut == false) { \n            //     this.shouldPut = true; \n            // }\n\n        },\n\n        bch_updta() {\n            const data = {\n                tmp_idx: this.currentTutorial.tmp_idx,\n                left_time: this.currentTutorial.left_time,\n                ply_statu: this.currentTutorial.ply_statu,\n                // memo: this.currentTutorial.memo,\n            };\n\n            SeatDataService.update(this.currentTutorial.key, data)\n                .then(() => {\n                    this.message = \"更新成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n\n        reSet_pos_0() {\n            Swal.fire({\n                title: 'Are you sure?',\n                text: \"準備清理資料!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: '馬上, 進行清理 !',\n                cancelButtonText: '取消!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    for (let index = 0; index <= 100; index++) {\n                        this.setActiveTutorial(this.tutorials[index], index);\n                        this.reSetOne(this.tutorials[index], index);\n                    }\n\n                    Swal.fire(\n                        '清除完畢!',\n                        '目前.',\n                        'success'\n                    )\n                }\n            })\n        },\n\n        reSet_pos_1() {\n            Swal.fire({\n                title: 'Are you sure?',\n                text: \"準備清理資料!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: '馬上, 進行清理 !',\n                cancelButtonText: '取消!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    for (let index = 0; index <= 30; index++) {\n                        this.setActiveTutorial(this.tutorials[index], index);\n                        this.reSetOne(this.tutorials[index], index);\n                    }\n\n                    Swal.fire(\n                        '清除完畢!',\n                        '目前.',\n                        'success'\n                    )\n                }\n            })\n\n        },\n\n        reSet_pos_2() {\n\n            Swal.fire({\n                title: 'Are you sure?',\n                text: \"準備清理資料!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: '馬上, 進行清理 !',\n                cancelButtonText: '取消!'\n            }).then((result) => {\n                if (result.isConfirmed) {\n                    for (let index = 31; index <= 100; index++) {\n\n                        this.setActiveTutorial(this.tutorials[index], index);\n                        this.reSetOne(this.tutorials[index], index);\n\n                    }\n\n                    Swal.fire(\n                        '清除完畢!',\n                        '目前.',\n                        'success'\n                    )\n                }\n            })\n\n        },\n\n        reSetOne(tutorial, index) {\n\n            this.currentTutorial = tutorial;\n            this.currentIndex = index;\n\n            this.currentTutorial.tmp_idx = \"\";\n            this.currentTutorial.left_time = \"\";\n            this.currentTutorial.memo = \"\";\n            this.currentTutorial.ply_statu = \"\";\n            this.currentTutorial.ply_type = \"\";\n            // this.currentTutorial.pmt_List = \"\";\n\n            const data = {\n                tmp_idx: \"\",\n                left_time: \"\",\n                memo: \"\",\n\n                ply_type: \"\",\n                ply_statu: \"\",\n            };\n\n            SeatDataService.update(this.currentTutorial.key, data)\n                .then(() => {\n                    this.message = \"更新成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        removeAllTutorials() {\n            SeatDataService.deleteAll()\n                .then(() => {\n                    this.refreshList();\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        // 猜解字串，請輸入正確格式\n        ChkTime2getColor_mdf(t, e) {\n\n            let colAry = ['#545454', '#E91E63', '#2196F3', '#57ca85','#C56CD6']\n\n            let now_H = parseInt(this.dayjs(this.cT).format(\"HH\"))\n            let now_M = parseInt(this.dayjs(this.cT).format(\"mm\"))\n\n            \n\n            try {\n                if (e != '') {\n\n                    var strAry2 = e.split('---')[1] \n                    var strAry = strAry2.split(':')\n\n                    // let booking_H = parseInt(strAry[0])\n                    let booking_H = parseInt(strAry[0])\n                    let booking_M = parseInt(strAry[1])\n                    \n\n                    if (now_H > booking_H) {\n\n                        if (now_M >= booking_M) \n                        { return colAry[1] } \n                        else if \n                        (now_M < booking_M && now_H >= booking_H) \n                        { return colAry[1] }\n                    } \n                    else if (now_H == booking_H) \n                    {\n                        if (now_M >= booking_M) \n                        {   \n                            return colAry[1] } \n                        else if (now_M < booking_M) \n                        { return colAry[2] }\n\n                    } else if (now_H < booking_H)\n                    {\n                         \n                        if (now_M >= booking_M) \n                        { return colAry[2] } \n                        else if (now_M < booking_M) \n                        { return colAry[2] }\n                         \n                        \n                    } \n                    else \n                    { \n                        return colAry[0] \n                    }\n\n                // return colAry[1];\n            } \n            else if (e == '') { \n                return colAry[3]; // 綠色\n            } \n            } \n            catch { return colAry[0] } \n        },\n\n        ChkTime2getColor(left_time) {\n\n            let now_H = parseInt(this.dayjs(this.cT).format(\"HH\"))\n            let now_M = parseInt(this.dayjs(this.cT).format(\"mm\"))\n            let colAry = ['#545454', '#E91E63', '#2196F3']\n\n            var strAry = left_time.split(':')\n\n            let booking_H = parseInt(strAry[0])\n            let booking_M = parseInt(strAry[1])\n\n            try {\n                if (left_time == \"\") { return colAry[0] } else if (now_H > booking_H) {\n                    if (now_M >= booking_M) { return colAry[1] } else if (now_M < booking_M && now_H >= booking_H) { return colAry[1] }\n                } else if (now_H == booking_H) {\n                    if (now_M >= booking_M) { return colAry[1] } else if (now_M < booking_M) { return colAry[2] }\n                } else if (now_H < booking_H) {\n                    if (now_M >= booking_M) { return colAry[2] } else if (now_M < booking_M) { return colAry[2] }\n                } else { return colAry[3] }\n            } catch { return colAry[3] }\n        },\n        updateCurrentTime() { this.cT = Date.now(); },\n\n        getFile_name() {\n            let L = '靶位收益紀錄_';\n            let k = this.dayjs(Date.now()).format(\"MM月DD日_HH點mm分\");\n            let J = '.csv';\n            this.fileName = L + k + J;\n        },\n\n\n    },\n    mounted() {\n        // console.log(_tutorials.title);  \n        // BkingNoteDataService.getAll().on(\"value\", this.BkingNoteonDataChange);\n        SeatDataService.getAll().on(\"value\", this.onDataChange);\n        // PmtDataService.getAll().on(\"value\", this.pmt_onDataChange);\n        this.interval = setInterval(this.updateCurrentTime, 1000);\n    },\n    beforeDestroy() {\n        SeatDataService.getAll().off(\"value\", this.onDataChange);\n    },\n\n\n};\n</script>\n \n\n<style>\n.list {\n    text-align: left;\n    max-width: 750px;\n    margin: auto;\n    /* color: #545454; */\n}\n</style>\n"]}]}