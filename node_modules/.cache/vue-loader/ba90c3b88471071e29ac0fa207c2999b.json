{"remainingRequest":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/components/bdadd6_List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/components/bdadd6_List.vue","mtime":1657322451920},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUdXRvcmlhbERldGFpbHMgZnJvbSAiLi9ia2FkZDVfTWRmIjsKaW1wb3J0IFR1dG9yaWFsRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvU2VhdFByZXBhcmVTZXJ2aWNlIjsKCgoKaW1wb3J0IEJraW5nTm90ZURhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0JraW5nTm90ZURhdGFTZXJ2aWNlIjsKCmltcG9ydCBTZWF0RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvU2VhdFByZXBhcmVTZXJ2aWNlIjsKCmltcG9ydCBIaXN0b3J5RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvSGlzdG9yeURhdGFTZXJ2aWNlIjsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKCgppbXBvcnQgUG10RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvUG10U2VydmljZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgSnNvbkNTViBmcm9tICd2dWUtanNvbi1jc3YnClZ1ZS5jb21wb25lbnQoJ2Rvd25sb2FkQ3N2JywgSnNvbkNTVikKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJ0dXRvcmlhbHMtbGlzdCIsCiAgICBjb21wb25lbnRzOiB7IFR1dG9yaWFsRGV0YWlscyB9LAoKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIC0gLSAtIC0gLSAKICAgICAgICAgICAgY3VycmVudFRpbWU6IERhdGUubm93KCksCiAgICAgICAgICAgIGNUOiAiIiwKICAgICAgICAgICAgY3VUOiAiIiwKICAgICAgICAgICAgcGx5U1RBVFU6ICIiLAogICAgICAgICAgICBhbWVuaXRpZXM6IFtdLAogICAgICAgICAgICBleGlzdHNfTm93OiBbMCwgMCwgMCwgMCwgMCwgMF0sCiAgICAgICAgICAgIC8vIC0gLSAtIC0gLSAKICAgICAgICAgICAgc3dpdGNoMTogdHJ1ZSwKICAgICAgICAgICAgc3dpdGNoMjogZmFsc2UsCiAgICAgICAgICAgIG9wYzogMC44LAogICAgICAgICAgICBjb2xvcjogWydyZWQnLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2dyZWVuJywgJ2dyZWVuJywgJ2dyYXknLCAnZ3JheScsICdibHVlJywgJ2JsdWUnLCAncmVkJywgJ3JlZCcsICdibHVlJywgJ2JsdWUnLAogICAgICAgICAgICAgICAgJ2dyZWVuJywgJ2dyZWVuJywgJ3JlZCcsICdyZWQnLCAnZ3JlZW4nLCAnZ3JlZW4nLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2JsdWUnLCAnYmx1ZScsICdncmVlbicsICdncmVlbicsCiAgICAgICAgICAgICAgICAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2dyZWVuJywgJ2dyZWVuJywgJ3JlZCcsICdyZWQnLCAneWVsbG93JywgJ3llbGxvdycKICAgICAgICAgICAgXSwKCiAgICAgICAgICAgIGNvbG9yMjogWydyZWQnLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JywgJ2dyZWVuJywgJ2dyZWVuJywgJ2dyYXknLCAnZ3JheScsICdibHVlJywgJ2JsdWUnLCAneWVsbG93JywgJ3llbGxvdycsICd5ZWxsb3cnLCAnYmx1ZScsICdibHVlJywKICAgICAgICAgICAgICAgICdncmVlbicsICdncmVlbicsICdyZWQnLCAncmVkJywgJ2dyYXknLCAnZ3JheScsICdyZWQnLCAncmVkJywgJ3llbGxvdycsICd5ZWxsb3cnLCAnYmx1ZScsICdibHVlJywgJ2dyZWVuJywgJ2dyZWVuJywKICAgICAgICAgICAgICAgICdyZWQnLCAncmVkJywgJ3llbGxvdycsICd5ZWxsb3cnLCAnZ3JlZW4nLCAnZ3JlZW4nLCAncmVkJywgJ3JlZCcsICd5ZWxsb3cnLCAneWVsbG93JwogICAgICAgICAgICBdLAoKCiAgICAgICAgICAgIGV4MTE6IFsncmVkJ10sCiAgICAgICAgICAgIGV4OiBmYWxzZSwKICAgICAgICAgICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0KICAgICAgICAgICAgRXhUbmRwYW5lbDpbXSwKICAgICAgICAgICAgc2hlZXQ6IGZhbHNlLAogICAgICAgICAgICBwcmVfaWR4OiIiLAogICAgICAgICAgICBMc3RYOlswXSwKICAgICAgICAgICAgc2hvdWxkUHV0OmZhbHNlLAoKICAgICAgICAgICAgQmtMc3RfTm93OnsKICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiAnJywKICAgICAgICAgICAgICAgIHByZV9tYl9waG9uZTogICcnLAogICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTogJycsCgogICAgICAgICAgICAgICAgcGx5X2FtdDonJywgCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICfpoJDntIQnLAogICAgICAgICAgICAgICAgcHJlX1NlYXQ6WycwJ10sICAKICAgICAgICAgICAgfSwKICAgICAgICAgICAKICAgICAgICAgICBCa0xpc3RzX0RyYWZ0OiBbICAgIAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogJ+WKieawtOW4rScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfbWJfcGhvbmU6ICcwOTIzNDQ0NTU1JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6JzEzOjAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBseV9hbXQ6MSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfU2VhdDpbXSwgCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiAn5ZCz5bCP5aqaKDLlpKcx5bCPKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfbWJfcGhvbmU6ICcwOTIzNDQ0NTU1JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV9sZWZ0X3RpbWU6JzEzOjAwJywKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHlfYW10OjMsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx5X3N0YXR1OifpoJDntIQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlX1NlYXQ6W10sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiAn5buW5aSn56CyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV9tYl9waG9uZTogJzA5MjM0NDQzNDUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTonMTI6MDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx5X2FtdDoyLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTon6aCQ57SEJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV9TZWF0OltdLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogJ+iRo+WToeWklijlhajmmI7mmJ/ol53kuropJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV9tYl9waG9uZTogJzA5Mjk5NDQ1NTUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTonMTQ6MDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx5X2FtdDo0LCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTon6aCQ57SEJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZV9TZWF0OltdLAogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogJ+iogOaJv+aXrScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfbWJfcGhvbmU6ICcwOTI4NzY0NDU1NScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVfbGVmdF90aW1lOicxNjowMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHlfYW10OjYsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx5X3N0YXR1OifpoJDntIQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlX1NlYXQ6W10sCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIAogICAgICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIAogICAgICAgICAgICBsb2NhdGlvbnM6IFsnQXVzdHJhbGlhJywgJ0JhcmJhZG9zJywgJ0NoaWxlJywgJ0Rlbm1hcmsnLCAnRWN1YWRvcicsICdGcmFuY2UnXSwKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtCgogICAgICAgICAgICBkaWFsb2c6IGZhbHNlLAogICAgICAgICAgICB0YWI6ICIiLAogICAgICAgICAgICB0YWJwOiAiIiwKICAgICAgICAgICAgY2tieDogIiIsCiAgICAgICAgICAgIGNvcHlSaWdodF9OOiBmYWxzZSwKICAgICAgICAgICAgY29weVJpZ2h0X1Q6IGZhbHNlLAogICAgICAgICAgICBjb3B5UmlnaHRfTTogZmFsc2UsCiAgICAgICAgICAgIGNvcHlSaWdodF9OX2F1dG86IGZhbHNlLAoKICAgICAgICAgICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gCiAgICAgICAgICAgIGRldl9Ub29MX3Nob3c6IGZhbHNlLAogICAgICAgICAgICBEZXZfVG9vbF8wOiBmYWxzZSwKICAgICAgICAgICAgRGV2X1Rvb2xfMTogZmFsc2UsCiAgICAgICAgICAgIERldl9Ub29sXzI6IGZhbHNlLAogICAgICAgICAgICBEZXZfVG9vbF8zOiBmYWxzZSwKCiAgICAgICAgICAgIGJjaF9sZWZ0X3RpbWU6ICIiLAogICAgICAgICAgICBiY2hfdG1wX2lkeDogIiIsCiAgICAgICAgICAgIGJjaF9tZW1vOiAiIiwKICAgICAgICAgICAgYXV0b190bXBfaWR4OiAiIiwKCiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICB0dXRvcmlhbHM6IFtdLAogICAgICAgICAgICBjdXJyZW50VHV0b3JpYWw6IG51bGwsCiAgICAgICAgICAgIGN1cnJlbnRJbmRleDogLTEsCgogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtCiAgICAgICAgICAgIHVzZV9CS2luZ0dwOiBmYWxzZSwKCiAgICAgICAgICAgIC8vIHBseV9zdGF0dV9MaXN0Olsn6aaW5qyhJywn5YWN6Kyb57+SJywn5L+d55WZ5bitJywn57qMLuacque5s+iyuycsJ+e6jDAuNScsJ+e6jDEuMCddLAogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAKICAgICAgICAgICAgUG10TGlzdHM6IFtdLAoKICAgICAgICAgICAgcDogWydrZXknLCAnbmFtZScsICdwaG9uZScsICdwbHlfYW10JywgJ3BseWQnXSwKCiAgICAgICAgICAgIGxhYmVsczogewogICAgICAgICAgICAgICAga2V5OiAn5rWB5rC057eo6JmfJywKICAgICAgICAgICAgICAgIHBob25lOiAn5omL5qmfJywKCiAgICAgICAgICAgICAgICBidWlsZF9kYXRlOiAn5pel5pyfJywKICAgICAgICAgICAgICAgIHBseV9hbXQ6ICfmlLblhaXph5HpoY3vvIjvvIvvvIknLAogICAgICAgICAgICAgICAgbWJfaWQ6ICfmnIPlk6Hnt6jomZ8nLAogICAgICAgICAgICAgICAgbWJfbmFtZTogJ+WuouaIticsCiAgICAgICAgICAgICAgICBwZF9JRDogJ+WVhuWTgee3qOiZnycsCiAgICAgICAgICAgICAgICBwZF9uYW1lOiAn55Si5ZOB5ZCN56ixJywKCiAgICAgICAgICAgICAgICBwYXlDYXNoOiAn54++6YeRJywKICAgICAgICAgICAgICAgIHBheUxpblBheTogJ0xpbmVwYXknLAogICAgICAgICAgICAgICAgcGF5Q1RDYXJkOiAn5Yi35Y2h5qmfJywKICAgICAgICAgICAgICAgIHBheU5ldEJhbms6ICfntrLot68o57ea5LiKKScsCiAgICAgICAgICAgICAgICBwYXlHb3ZUaWs6ICfli5Xmu4vljbcnLAoKICAgICAgICAgICAgICAgIG1lbW86ICflgpnoqLsnLAogICAgICAgICAgICAgICAgYmxzX0NOVDogJ+W3rumhjScsCiAgICAgICAgICAgICAgICBibHNfQ05UX3Jlc29uOiAn5beu6aGN5Y6f5ZugJywKCiAgICAgICAgICAgICAgICBhQ05UX3NDOiAn5bCP5YiG6aGeJywKICAgICAgICAgICAgICAgIHBjc19wcmljZTogJ+WWruWDuScsCiAgICAgICAgICAgICAgICBhQ05UX25hbWU6ICfmnIPoqIjnp5Hnm67lkI3nqLEnLAogICAgICAgICAgICAgICAgYUNOVF9jX0lEOiAn5pyD6KiI56eR55uu5Luj6JmfJywKICAgICAgICAgICAgICAgIGFDTlRfY19uYW1lOiAn56eR55uu5ZCN56ixJywKCiAgICAgICAgICAgICAgICBibGRfbmFtZTogJ+W7uueri+iAhScsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIGZpZWxkczogWyAnbmFtZScsJ3BseV9hbXQnLCdrZXknLCdwaG9uZScsJ3BseWQnXSwKICAgICAgICAgICAgZmllbGRzOiBbJ25hbWUnLCAncGhvbmUnLCAncGx5X2FtdCcsICdrZXknLCAnYnVpbGRfZGF0ZScsICdwYXlDYXNoJywgJ3BheU5ldEJhbmsnLCAncGF5Q1RDYXJkJywgJ3BheUdvdlRpaycsICdwYXlMaW5QYXknLCAnbWVtbycsICdibHNfQ05UJywgJ2Jsc19DTlRfcmVzb24nLCAnYUNOVF9zQycsICdwY3NfcHJpY2UnLCAnYUNOVF9uYW1lJywgJ2FDTlRfY19JRCcsICdhQ05UX2NfbmFtZSddLAogICAgICAgICAgICAvLyDkv67mlLlf57Ch5YyW54mI5pysICAKICAgICAgICAgICAgLy8g5pel5pyfJywn5Y6f5ZugJywn5pS25YWl6YeR6aGN77yI77yL77yJJywn5pyD5ZOh57eo6JmfJywn5a6i5oi2Jywn5ZWG5ZOB57eo6JmfJywn55Si5ZOB5ZCN56ixJywn6Yq35ZSu5pW46YePJywn5bCP6KiIJywn54++6YeRJywn57ay6LevKOe3muS4iiknLCfliLfljaHmqZ8nLCfljK/mrL4nLCfli5Xmu4vljbcnLCdMaW5lcGF5Jywn5YKZ6Ki7Jywn5beu6aGNJywn5beu6aGN5Y6f5ZugJywn5LuY5qy+5pa55byPJywn5bCP5YiG6aGeJywn5Zau5YO5Jywn5pyD6KiI56eR55uu5ZCN56ixJywn5pyD6KiI56eR55uu5Luj6JmfJywn56eR55uu5ZCN56ixJywn5bu656uL6ICFJywn5L+u5pS55pmC6ZaTJywgCiAgICAgICAgICAgIC8vIOWOn+eJiOacrAogICAgICAgICAgICAvLyDml6XmnJ8nLCfljp/lm6AnLCfml6XmnJ/nj63liKUnLCfmlLblhaXph5HpoY3vvIjvvIvvvIknLCfmnIPlk6Hnt6jomZ8nLCflrqLmiLYnLCfllYblk4Hnt6jomZ8nLCfnlKLlk4HlkI3nqLEnLCfpirfllK7mlbjph48nLCflsI/oqIgnLCfnj77ph5EnLCfntrLot68o57ea5LiKKScsJ+WIt+WNoeapnycsJ+WMr+asvicsJ+WLlea7i+WNtycsJ0xpbmVwYXknLCfpgYvli5XljbcnLCfnhorlpb3ljbcnLCfov6rljaHlhILljbcnLCflj7DngaNwYXknLCfnmbznpajomZ/norwnLCflgpnoqLsnLCflt67poY0nLCflt67poY3ljp/lm6AnLCfku5jmrL7mlrnlvI8nLCflsI/liIbpoZ4nLCfllq7lg7knLCfmlLblhaXnmbvpjIQnLCfmnIPoqIjnp5Hnm67lkI3nqLEnLCfmnIPoqIjnp5Hnm67ku6PomZ8nLCfnp5Hnm67lkI3nqLEnLCflrbjlk6HloLHlkI3oqrLnqIvku6PomZ8nLCflu7rnq4vogIUnLCfkv67mlLnmmYLplpMnLCc15YCN5Y23JwogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtIAogICAgICAgICAgICAvLyAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtICAtIC0gLSAtIAogICAgICAgICAgICBmaWxlTmFtZTogJ1VVVScsCiAgICAgICAgICAgIGFic29sdXRlOiB0cnVlLAogICAgICAgICAgICBvdmVybGF5OiBmYWxzZSwKICAgICAgICAgICAgb3ZlcmxheTI6IGZhbHNlLAogICAgICAgICAgICBjb3B5TW9yZTogZmFsc2UsCiAgICAgICAgICAgIHByZUNDOiBmYWxzZSwKICAgICAgICAgICAgdG9IZXJlOiAiIiwKICAgICAgICAgICAgdG9IZXJlX21vcmU6IFtdLAogICAgICAgICAgICBiZUNsZWFyOiBbXSwgCgogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF8xMjogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzM0OiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfNTY6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF83ODogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzkxMDogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzExOiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMTIxMzogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzE0MTU6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF8xNjE3OiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMTgxOTogW10sCiAgICAgICAgICAgIHRvSGVyZV9tb3JfdG1wXzIwMjE6IFtdLAogICAgICAgICAgICB0b0hlcmVfbW9yX3RtcF8yMjIzOiBbXSwKICAgICAgICAgICAgdG9IZXJlX21vcl90bXBfMjQyNTogW10sIAoKICAgICAgICAgICAgc3RhcnRfY29weTogMCwKCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHRvSGVyZV9tb3JlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9IZXJlX21vcmUuZmlsdGVyKGMgPT4gYy5zZW50VGltZS5pbmRleE9mKHRoaXMuc2VhcmNocykgIT09IC0xKQogICAgICAgIH0sIAoKICAgICAgICBjZmdfUG9zXzE6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50dXRvcmlhbHMuZmlsdGVyKGMgPT4gYy5sZWZ0X3RpbWUgIT0gJycgJiYgYy5wb3MgPT0gJ+WMlycpLmxlbmd0aAogICAgICAgIH0sCgogICAgICAgIGNmZ19Qb3NfMjogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnR1dG9yaWFscy5maWx0ZXIoYyA9PiBjLmxlZnRfdGltZSAhPSAnJyAmJiBjLnBvcyA9PSAn5Y2XJykubGVuZ3RoCiAgICAgICAgfSwKCiAgICAgICAgY2ZnX1Bvc18zOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudHV0b3JpYWxzLmZpbHRlcihjID0+IGMubGVmdF90aW1lICE9ICcnICYmIGMucG9zID09ICfljJcnICYmIHRoaXMuQ2hrVGltZTJnZXRDb2xvcihjLmxlZnRfdGltZSkgPT0gJyNFOTFFNjMnKS5sZW5ndGgKICAgICAgICB9LAoKICAgICAgICBjZmdfUG9zXzQ6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50dXRvcmlhbHMuZmlsdGVyKGMgPT4gYy5sZWZ0X3RpbWUgIT0gJycgJiYgYy5wb3MgPT0gJ+WNlycgJiYgdGhpcy5DaGtUaW1lMmdldENvbG9yKGMubGVmdF90aW1lKSA9PSAnI0U5MUU2MycpLmxlbmd0aAogICAgICAgIH0sCgogICAgICAgIHN0Q05UXzE6IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudHV0b3JpYWxzLmZpbHRlcihjID0+IGMubWVtbyA9PSBlICkubGVuZ3RoCiAgICAgICAgfSwKCiAgICAgICAgLy8gYmtMaXN0X3J2czogZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLkJrTGlzdHMucmV2ZXJzZSgpCiAgICAgICAgLy8gfSwKIAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBjbGVhcl9jaGdQb3MoKSB7CiAgICAgICAgICAgIHRoaXMudG9IZXJlID0gIiI7CiAgICAgICAgICAgIHRoaXMudG9IZXJlX21vcmUgPSBbXTsKCiAgICAgICAgICAgIHRoaXMudG9IZXJlX21vcmUxMiA9IFtdOwogICAgICAgICAgICB0aGlzLnRvSGVyZV9tb3JlMzQgPSBbXTsKICAgICAgICAgICAgdGhpcy50b0hlcmVfbW9yZTU2ID0gW107CiAgICAgICAgICAgIHRoaXMudG9IZXJlX21vcmU3OCA9IFtdOwoKCiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNvcHlNb3JlID0gZmFsc2U7CgoKICAgICAgICB9LAogICAgICAgIGNoZ1BvcyhlKSB7CiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9ICF0aGlzLm92ZXJsYXkKCiAgICAgICAgICAgIC8vIGFsZXJ0KGUua2V5KTsKICAgICAgICB9LAoKICAgICAgICBjaGFuZ1BvcyhrZXkpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIHRtcF9pZHg6IHRoaXMuY3VycmVudFR1dG9yaWFsLnRtcF9pZHgsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IHRoaXMuY3VycmVudFR1dG9yaWFsLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIC8vIG1lbW86IHRoaXMuY3VycmVudFR1dG9yaWFsLm1lbW8sCiAgICAgICAgICAgICAgICBwbHlfc3RhdHU6IHRoaXMuY3VycmVudFR1dG9yaWFsLnBseV9zdGF0dSwKICAgICAgICAgICAgfTsKICAgICAgICAgICAgY29uc3QgT0xEID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogIiIsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6ICIiLAogICAgICAgICAgICAgICAgLy8gbWVtbzoiIiwKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogIiIsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShrZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7fSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZSh0aGlzLmN1cnJlbnRUdXRvcmlhbC5rZXksIE9MRCkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5L+u5pS55a6M55WiIScsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfpnbbkvY3lt7LpgLLooYwg6Kq/5pW0JywKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTIwMAogICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBsZF9IaXN0b3J5X21kZih0aGlzLmN1cnJlbnRUdXRvcmlhbCk7CiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2hhbmdQb3NfbWRmKGFyeSkgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBhcnkubGVuZ3RoIC0gMTsgaSsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nUG9zKGFyeVtpXS5rZXkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUzNC5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTM0W2ldLmtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTU2Lmxlbmd0aCAtIDE7IGkrKykgewogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlNTZbaV0ua2V5KTsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmNsZWFyX2NoZ1BvcygpOwogICAgICAgIH0sCiAgICAgICAgcHJlX0JlQ2xlYXIoKSB7CiAgICAgICAgICAgIC8vICB0aGlzLmNoYW5nUG9zX21vcmUoKTsKICAgICAgICAgICAgdGhpcy5wcmVDQyA9IHRydWU7CgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLmJlQ2xlYXIubGVuZ3RoOyBpKyspIHsgdGhpcy5jaGFuZ1Bvc19CZUNsZWFyKHRoaXMuYmVDbGVhcltpXS5rZXkpIH0KCgogICAgICAgIH0sCiAgICAgICAgY2hrX3ByZVN0KCkKICAgICAgICB7CiAgICAgICAgICAgIGlmKCB0aGlzLnNob3VsZFB1dCA9PSB0cnVlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aGlzLmNvcHlSaWdodF9NID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMuY29weVJpZ2h0X00gPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIAoKICAgICAgICBjaGFuZ1Bvc19CZUNsZWFyKGgpIHsKCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0bXBfaWR4OiAiIiwKICAgICAgICAgICAgICAgIGxlZnRfdGltZTogIiIsCiAgICAgICAgICAgICAgICAvLyBtZW1vOiIiLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiAiIiwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGgsIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7fSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgIH0sCgogICAgICAgIGNoYW5nUG9zX21vcmUoKSB7CgogICAgICAgICAgICB0aGlzLnByZUNDID0gZmFsc2U7CgogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTEyLmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUxMi5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlMTJbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMzQubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTM0Lmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUzNFtpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmU1Ni5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlNTYubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTU2W2ldLmtleSk7IH0gfQogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTc4Lmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmU3OC5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlNzhbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlOTEwLmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmU5MTAubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTkxMFtpXS5rZXkpOyB9IH0KCiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMTEubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTExLmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUxMVtpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUxMjEzLmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUxMjEzLmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUxMjEzW2ldLmtleSk7IH0gfQogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTE0MTUubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTE0MTUubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTE0MTVbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMTYxNy5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMTYxNy5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlMTYxN1tpXS5rZXkpOyB9IH0KCiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMTgxOS5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMTgxOS5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlMTgxOVtpXS5rZXkpOyB9IH0KICAgICAgICAgICAgaWYgKHRoaXMudG9IZXJlX21vcmUyMDIxLmxlbmd0aCAhPSAwKSB7IGZvciAobGV0IGkgPSAwOyBpIDw9IHRoaXMudG9IZXJlX21vcmUyMDIxLmxlbmd0aCAtIDE7IGkrKykgeyB0aGlzLmNoYW5nUG9zKHRoaXMudG9IZXJlX21vcmUyMDIxW2ldLmtleSk7IH0gfQogICAgICAgICAgICBpZiAodGhpcy50b0hlcmVfbW9yZTIyMjMubGVuZ3RoICE9IDApIHsgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy50b0hlcmVfbW9yZTIyMjMubGVuZ3RoIC0gMTsgaSsrKSB7IHRoaXMuY2hhbmdQb3ModGhpcy50b0hlcmVfbW9yZTIyMjNbaV0ua2V5KTsgfSB9CiAgICAgICAgICAgIGlmICh0aGlzLnRvSGVyZV9tb3JlMjQyNS5sZW5ndGggIT0gMCkgeyBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLnRvSGVyZV9tb3JlMjQyNS5sZW5ndGggLSAxOyBpKyspIHsgdGhpcy5jaGFuZ1Bvcyh0aGlzLnRvSGVyZV9tb3JlMjQyNVtpXS5rZXkpOyB9IH0KCiAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgICAgICAvLyB0aGlzLnByZV9CZUNsZWFyKCk7CgogICAgICAgICAgICAvLyBmb3IobGV0IGkgPSAwOyBpIDw9IHRoaXMuYmVDbGVhci5sZW5ndGg7IGkrKykgeyB0aGlzLmNoYW5nUG9zX0JlQ2xlYXIodGhpcy5iZUNsZWFyW2ldLmtleSkgIH0KCgoKICAgICAgICAgICAgdGhpcy5jbGVhcl9jaGdQb3MoKTsKCiAgICAgICAgfSwKCiAgICAgICAgcmVtb3ZlU1QoKSB7CiAgICAgICAgICAgIHRoaXMuYmNoX21lbW8gPSAiIjsKICAgICAgICAgICAgdGhpcy5iY2hfbGVmdF90aW1lID0gIiI7CiAgICAgICAgICAgIHRoaXMuY29weVJpZ2h0X00gPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfVCA9IGZhbHNlOwogICAgICAgIH0sCgogICAgICAgIGxlZnRfTWRmKGRldGFsLCBlKSB7CiAgICAgICAgICAgIHZhciBzdHJBcnkgPSBlLmxlZnRfdGltZS5zcGxpdCgiOiIpOwoKICAgICAgICAgICAgaWYgKGRldGFsID09IDEpIHsKCiAgICAgICAgICAgICAgICBpZiAoZGV0YWwgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChzdHJBcnlbMV0pID09IDMwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUubGVmdF90aW1lID0gcGFyc2VJbnQoc3RyQXJ5WzBdKSArIDEgKyAiOjAwIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KHN0ckFyeVsxXSkgPj0gMzApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5sZWZ0X3RpbWUgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoc3RyQXJ5WzBdKSArIDEgKyAiOiIgKyAocGFyc2VJbnQoc3RyQXJ5WzFdKSAtIDMwKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlSW50KHN0ckFyeVsxXSkgPCAzMCkgewogICAgICAgICAgICAgICAgICAgICAgICBlLmxlZnRfdGltZSA9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJBcnlbMF0gKyAiOiIgKyAocGFyc2VJbnQoc3RyQXJ5WzFdKSArIDMwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IGUubGVmdF90aW1lLAogICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+e6jC7lt7LnubMnLAogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDos4fmlpnvvIzkuIrlgrPmiJDlip8hIjsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5L+u5pS55a6M55WiIScsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+iri+iomOW+ly7norroqo3mlLbosrsnLAogICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTIwMAogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGV0YWwgPT0gMikgewogICAgICAgICAgICAgICAgaWYgKGRldGFsID09IDIpIHsKICAgICAgICAgICAgICAgICAgICBlLmxlZnRfdGltZSA9CiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KHN0ckFyeVswXSkgKyAxICsgIjoiICsgc3RyQXJ5WzFdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6ICfnuowu5bey57mzJywKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S/ruaUueWujOeVoiEnLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICfoq4voqJjlvpcu56K66KqN5pS26LK7JywKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEyMDAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRsdF9wcmVTdChlKXsKICAgICAgICAgICAgLy8gU3dhbC5maXJlKHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWNvbjogJ2Vycm9ycycsCiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRpdGxlOiAn5Yiq6Zmk5oiQ5YqfJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgdGV4dDogJ+iriyDlnKjpgLLooYwg56K66KqN5LiA5LiL5Zay772eJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAvLyAgICAgICAgIH0pCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG1lbW86ICIiLCAKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6Kej6ZmkLumgkOaOkuS9jee9ricsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRleHQ6ICfoq4sg5Zyo6YCy6KGMIOeiuuiqjeS4gOS4i+WWsu+9nicsCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDEyMDAKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwgCiAgICAgICAgdXBkYXRlVHV0b3JpYWwoZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogZS50bXBfaWR4LAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIG1lbW86IGUubWVtbywKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogZS5wbHlfc3RhdHUsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICB1cGxkX0J5Q0hLaW4oZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogZS50bXBfaWR4LAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIG1lbW86IGUubWVtbywKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+mmluasoScsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICB1cGxkdG1wX2lkeChlKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICB0bXBfaWR4OiBlLnRtcF9pZHgsCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBUdXRvcmlhbERhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy51cGxkX0hpc3RvcnkoZSk7CiAgICAgICAgfSwKCiAgICAgICAgdXBsZGxlZnRfdGltZShlKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IGUubGVmdF90aW1lLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMudXBsZF9IaXN0b3J5KGUpOwogICAgICAgIH0sCgogICAgICAgIHVwbGRwbGF5R3AoZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgLy8gbWVtbzogZS5tZW1vLAogICAgICAgICAgICAgICAgbWVtbzp0aGlzLkJrTGlzdHNbdGhpcy5Mc3RYXS5wcmVfdG1wX2lkeCsnOycrdGhpcy5Ca0xpc3RzW3RoaXMuTHN0WF0ucHJlX2xlZnRfdGltZQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6ICfkuIvmmYLmrrUu5paw5aKeLuaIkOWKnyEnLCAKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiBmYWxzZSwgCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aW1lcjogODAwCiAgICAgICAgICAgICAgICAgICAgLy8gfSkKCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsgCiAgICAgICAgICAgIC8vIHRoaXMudXBsZF9wcmVfU2VhdHRoaXModGhpcy5Ca0xpc3RzW3RoaXMuTHN0WF0ua2V5KSA7ICAgCgogICAgICAgIH0sCiAgICAgICAgdXBsZFN0YXR1KGUpIHsKCiAgICAgICAgICAgIGlmIChlLnBseV9zdGF0dSA9PSAiIiB8IGUucGx5X3N0YXR1ID09IG51bGwgfCBlLnBseV9zdGF0dSA9PSAnJykgewogICAgICAgICAgICAgICAgY29uc3QgZGF0ID0gewogICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogIiIsCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXQpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgcGx5X3N0YXR1OiBlLnBseV9zdGF0dSwKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAi5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfISI7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICB0aGlzLnVwbGRfSGlzdG9yeShlKTsKCiAgICAgICAgfSwKCiAgICAgICAgLy8gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gLSAtIC0gCgogICAgICAgIHVwbGRfSGlzdG9yeShlKSB7CgoKICAgICAgICAgICAgLy8gaWYoIGUudG1wX2lkeCAhPScnICYmIGUubGVmdF90aW1lICE9ICcnICYmIGUucGx5X3N0YXR1ICE9JycgKQogICAgICAgICAgICAvLyB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyDns7vntbEu6Kit5a6a6LOH5paZCiAgICAgICAgICAgICAgICBwb3M6IGUucG9zLAogICAgICAgICAgICAgICAgc25vOiBlLnNubywKICAgICAgICAgICAgICAgIHNub19pZHg6IGUuc25vX2lkeCwKICAgICAgICAgICAgICAgIC8vIOS4u+imgeiuiuWLleizh+aWmQogICAgICAgICAgICAgICAgdG1wX2lkeDogZS50bXBfaWR4LAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogZS5wbHlfc3RhdHUsCiAgICAgICAgICAgICAgICAvLyBtZW1vOmUubWVtbywgICAKICAgICAgICAgICAgICAgIGNyYXRUaW1lOiB0aGlzLmRheWpzKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBIaXN0b3J5RGF0YVNlcnZpY2UuY3JlYXRlKGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CgoKICAgICAgICAgICAgICAgICAgICAvLyAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBwb3NpdGlvbjogJ3RvcC1lbmQnLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6ICfos4fmlpnmlrDlop7miJDlip8nLAogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGV4dDogZS5sZWZ0X3RpbWUrICfoq4sg5Zyo6YCy6KGMIOeiuuiqjeS4gOS4i+WWsu+9nicsCiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCgogICAgICAgICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsgCiAgICAgICAgfSwKICAgICAgICB1cGxkX0hpc3RvcnlfbWRmKGUpIHsgCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyDns7vntbEu6Kit5a6a6LOH5paZCiAgICAgICAgICAgICAgICBwb3M6IGUucG9zLAogICAgICAgICAgICAgICAgc25vOiBlLnNubywKICAgICAgICAgICAgICAgIHNub19pZHg6IGUuc25vX2lkeCwKICAgICAgICAgICAgICAgIC8vIOS4u+imgeiuiuWLleizh+aWmQogICAgICAgICAgICAgICAgdG1wX2lkeDogZS50bXBfaWR4LAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiBlLmxlZnRfdGltZSwKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+aPm+mdtuS9jScsCiAgICAgICAgICAgICAgICAvLyBtZW1vOmUubWVtbywgICAKICAgICAgICAgICAgICAgIGNyYXRUaW1lOiB0aGlzLmRheWpzKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgIH07ICAKICAgICAgICAgICAgSGlzdG9yeURhdGFTZXJ2aWNlLmNyZWF0ZShkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfos4fmlpnmlrDlop7miJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn6KuLIOWcqOmAsuihjCDnorroqo3kuIDkuIvllrLvvZ4nLAogICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOyAKICAgICAgICB9LAoKICAgICAgICB1cGxkX0NsYWVyKGUpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIG1lbW86ICIiLAogICAgICAgICAgICAgICAgbGVmdF90aW1lOiAiIiwKICAgICAgICAgICAgICAgIHRtcF9pZHg6ICIiLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiAiIiwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIFR1dG9yaWFsRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDos4fmlpnvvIzkuIrlgrPmiJDlip8hIjsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHNhdmVfQmtpbmdOb3RlKCkgeyAgCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAvLyDns7vntbEu6Kit5a6a6LOH5paZCiAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogdGhpcy5Ca0xzdF9Ob3cucHJlX3RtcF9pZHgsCiAgICAgICAgICAgICAgICBwcmVfbWJfcGhvbmU6dGhpcy5Ca0xzdF9Ob3cucHJlX21iX3Bob25lLAogICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTogdGhpcy5Ca0xzdF9Ob3cucHJlX2xlZnRfdGltZSwKCiAgICAgICAgICAgICAgICBwbHlfYW10OiB0aGlzLkJrTHN0X05vdy5wbHlfYW10LCAKICAgICAgICAgICAgICAgIHBseV9zdGF0dTogdGhpcy5Ca0xzdF9Ob3cucGx5X3N0YXR1LCAKICAgICAgICAgICAgICAgIHByZV9TZWF0OltdLAoKICAgICAgICAgICAgICAgIGNyYXRUaW1lOiB0aGlzLmRheWpzKERhdGUubm93KCkpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBCa2luZ05vdGVEYXRhU2VydmljZS5jcmVhdGUoZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgCgogICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+izh+aWmeaWsOWinuaIkOWKnycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5bey5oiQ5YqfIOW7uueri+mgkOiogiDvvZ4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLCAKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7IAogICAgICAgIH0sCiAgICAgICAgdXBsZF9wcmVfU2VhdChlKXsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIC8vIOezu+e1sS7oqK3lrpros4fmlpkKICAgICAgICAgICAgICAgIHByZV9TZWF0OiBlLnByZV9TZWF0LCAKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIEJraW5nTm90ZURhdGFTZXJ2aWNlLnVwZGF0ZShlLmtleSwgZGF0YSkKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgCgogICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S9jeWtkOmgkOWumi7miJDlip8hJywgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogZmFsc2UsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXI6IDgwMAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsgCgogICAgICAgIH0sIAogICAgICAgIHVwZGF0ZUJraW5nTm90ZShlKSB7ICAKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIC8vIOezu+e1sS7oqK3lrpros4fmlpkKICAgICAgICAgICAgICAgIHByZV90bXBfaWR4OiBlLnByZV90bXBfaWR4LAogICAgICAgICAgICAgICAgcHJlX21iX3Bob25lOmUucHJlX21iX3Bob25lLAogICAgICAgICAgICAgICAgcHJlX2xlZnRfdGltZTogZS5wcmVfbGVmdF90aW1lLCAKICAgICAgICAgICAgICAgIHBseV9hbXQ6IGUucGx5X2FtdCwgIAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgQmtpbmdOb3RlRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyAKCiAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pu05paw6LOH5paZ77yM5LiK5YKz5oiQ5YqfIScsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMjAwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOyAKICAgICAgICB9LAogCgogICAgICAgIGRsdF9wcmVCa2luZyhlLHN0cil7IAogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgLy8g57O757WxLuioreWumuizh+aWmQogICAgICAgICAgICAgICAgcGx5X3N0YXR1OnN0ciwgIAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgQmtpbmdOb3RlRGF0YVNlcnZpY2UudXBkYXRlKGUua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyAKCiAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtZW5kJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5oiQ5Yqf5Z+36KGMIScsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyOiAxMjAwCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOyAgCiAgICAgICAgfSwKCiAgICAgICAgZXh0ZW5kUGF5Q2hrKGUpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn57qM5pmCIOe5s+iyu+eiuuiqjSAnLAogICAgICAgICAgICAgICAgdGV4dDogIuaVmee3tOW3suipouWVj++8jOiri+arg+aqr+WNlOWKqeaUtuiyuyIsCiAgICAgICAgICAgICAgICBpY29uOiAncXVlc3Rpb24nLAogICAgICAgICAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnuowgIDAuNSDlsI/mmYInLAogICAgICAgICAgICAgICAgZGVueUJ1dHRvblRleHQ6IGDnuowgMSDlsI/mmYJgLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCAhJwogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIC8qIFJlYWQgbW9yZSBhYm91dCBpc0NvbmZpcm1lZCwgaXNEZW5pZWQgYmVsb3cgKi8KICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWZ0X01kZigxLCBlKQogICAgICAgICAgICAgICAgICAgIC8vIFN3YWwuZmlyZSgnU2F2ZWQhJywgJycsICdzdWNjZXNzJykKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmlzRGVuaWVkKSB7CgogICAgICAgICAgICAgICAgICAgIHRoaXMubGVmdF9NZGYoMiwgZSkKICAgICAgICAgICAgICAgICAgICAvLyBTd2FsLmZpcmUoJ0NoYW5nZXMgYXJlIG5vdCBzYXZlZCcsICcnLCAnaW5mbycpCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5pc0Rpc21pc3NlZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBseV9zdGF0dTogJ+aIkeimgee6jOaZgicsCiAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDos4fmlpnvvIzkuIrlgrPmiJDlip8hIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLWVuZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmnKrlrozmiJDnubPosrshJywKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+iriyDlnKjpgLLooYwg56K66KqN5LiA5LiL5Zay772eJywKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB0aW1lcjogMTIwMAogICAgICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYmNoX2NoZ19DSEtpbihhLGIsZSkKICAgICAgICB7CiAgICAgICAgICAgIC8vIFN3YWwuZmlyZSgKICAgICAgICAgICAgLy8gICAgICAgICAgICAgJ+a4hemZpOWujOeVoiEnLAogICAgICAgICAgICAvLyAgICAgICAgICAgICAn55uu5YmNLicsCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgICAvLyAgICAgICAgICkKCiAgICAgICAgICAgIGZvcihsZXQgaWk9MCA7IGlpIDwgdGhpcy50dXRvcmlhbHMubGVuZ3RoIDsgaWkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbGV0IHggPSBhICsnOycrYgogICAgICAgICAgICAgICAgLy8gYWxlcnQodGhpcy50dXRvcmlhbHNbaWldLm1lbW8gKyd2cycreCk7CiAgICAgICAgICAgICAgICBpZiggdGhpcy50dXRvcmlhbHNbaWldLm1lbW8gPT0geCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZ19DSEtpbih0aGlzLnR1dG9yaWFsc1tpaV0gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gCiAgICAgICAgICAgIHRoaXMuZGx0X3ByZUJraW5nKGUsJ+W3suWuieaOkuS4iue3micpCiAgICAgICAgICAgICAKICAgICAgICB9LAogICAgICAgIGNoZ19DSEtpbihlKXsgCiAgICAgICAgICAgIHZhciBzdHJBcnkgPSBlLm1lbW8gLnNwbGl0KCc7Jyk7CiAgICAgICAgICAgIHZhciBzdHJBcnkyID0gc3RyQXJ5WzFdLnNwbGl0KCc6Jyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgZS5sZWZ0X3RpbWUgPSBwYXJzZUludChzdHJBcnkyWzBdKSArIDEgKyI6Iisgc3RyQXJ5MlsxXTsKIAogICAgICAgICAgICBlLnRtcF9pZHggPSBzdHJBcnlbMF07CgogICAgICAgICAgICBlLm1lbW89IiI7CiAgICAgICAgICAgIC8vIOmAsuihjCDkv67mlLkgCiAgICAgICAgICAgIHRoaXMudXBsZF9CeUNIS2luKGUpOyAgCiAgICAgICAgfSwKCgogICAgICAgIHByZV9DSEtpbigpCiAgICAgICAgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2VsZWN0IGZpZWxkIHZhbGlkYXRpb24nLAogICAgICAgICAgICAgICAgICAgIGlucHV0OiAnc2VsZWN0JywKICAgICAgICAgICAgICAgICAgICBpbnB1dE9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGVzOiAnQXBwbGVzJywKICAgICAgICAgICAgICAgICAgICAgICAgYmFuYW5hczogJ0JhbmFuYXMnLAogICAgICAgICAgICAgICAgICAgICAgICBncmFwZXM6ICdHcmFwZXMnLAogICAgICAgICAgICAgICAgICAgICAgICBvcmFuZ2VzOiAnT3JhbmdlcycKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGlucHV0UGxhY2Vob2xkZXI6ICdTZWxlY3QgYSBmcnVpdCcsCiAgICAgICAgICAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHByZV9zZWF0U1RpbmcocHJlX3RtcF9pZHgscHJlX2xlZnRfdGltZSkgewogICAgICAgICAgICAgdGhpcy5iY2hfbWVtbyA9IHByZV90bXBfaWR4Kyc7JytwcmVfbGVmdF90aW1lCgogICAgICAgIH0sCgoKCiAgICAgICAgTWRmTGZUaW1lXzA1KGUpIHsKCiAgICAgICAgICAgIC8vIHZhciBhID0gZGF5anMuZHVyYXRpb24oZS5sZWZ0X3RpbWUsICdoaDptbScpOwogICAgICAgICAgICAvLyB2YXIgYiA9IGRheWpzLmR1cmF0aW9uKDMwLCAnaGg6bW0nKTsKCiAgICAgICAgICAgIC8vIGNvbnN0IGRhdGEgPSB7IAogICAgICAgICAgICAvLyAgICAgIGxlZnRfdGltZTphLmFkZChiKS5taW51dGVzKCksIAogICAgICAgICAgICAvLyB9OwoKICAgICAgICAgICAgLy8gVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgIC8vICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgTWRmTGZUaW1lXzEwKGUpIHsKICAgICAgICAgICAgLy8gIHZhciBhID0gZGF5anMuZHVyYXRpb24oZS5sZWZ0X3RpbWUsICdoaDptbScpOwogICAgICAgICAgICAvLyB2YXIgYiA9IGRheWpzLmR1cmF0aW9uKDEsICdoaCcpOwoKICAgICAgICAgICAgLy8gY29uc3QgZGF0YSA9IHsgCiAgICAgICAgICAgIC8vICAgICAgbGVmdF90aW1lOmEuYWRkKGIpLmhvdXJzKCksIAogICAgICAgICAgICAvLyB9OwoKICAgICAgICAgICAgLy8gVHV0b3JpYWxEYXRhU2VydmljZS51cGRhdGUoZS5rZXksIGRhdGEpCiAgICAgICAgICAgIC8vICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOizh+aWme+8jOS4iuWCs+aIkOWKnyEiOwogICAgICAgICAgICAvLyAgICAgfSkKICAgICAgICAgICAgLy8gICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgcG10X29uRGF0YUNoYW5nZShpdGVtcykgewoKICAgICAgICAgICAgbGV0IF90YW5zQ0FUTSA9IFtdOwogICAgICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQga2V5ID0gaXRlbS5rZXk7CiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IGl0ZW0udmFsKCk7CiAgICAgICAgICAgICAgICBfdGFuc0NBVE0ucHVzaCh7CgogICAgICAgICAgICAgICAgICAgIGtleToga2V5LAoKICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGRhdGEucGhvbmUsCiAgICAgICAgICAgICAgICAgICAgLy8vIOmAmemCiumcgOimgeWGjeW+gOS4i+ijveS9nCAuLi4g57Sv5LqG5YWI552h77yM5YaN5a6J5o6S5ZCnCgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdGhpcy5wbXRMaXN0cyA9IF90YW5zQ0FUTTsKICAgICAgICB9LAoKICAgICAgICBCa2luZ05vdGVvbkRhdGFDaGFuZ2UoaXRlbXMpIHsKCiAgICAgICAgICAgIGxldCBfdHV0b3JpYWxzID0gW107CiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgIGxldCBrZXkgPSBpdGVtLmtleTsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0gaXRlbS52YWwoKTsKICAgICAgICAgICAgICAgIF90dXRvcmlhbHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gcG9zOiBkYXRhLnBvcywKICAgICAgICAgICAgICAgICAgICAvLyBzbm86IGRhdGEuc25vLAogICAgICAgICAgICAgICAgICAgIC8vIHNub19pZHg6IGRhdGEuc25vX2lkeCwKICAgICAgICAgICAgICAgICAgICAvLyBzbm9faWQ6IGRhdGEuc25vX2lkLAoKICAgICAgICAgICAgICAgICAgICBwcmVfdG1wX2lkeDogZGF0YS5wcmVfdG1wX2lkeCwKICAgICAgICAgICAgICAgICAgICBwcmVfbWJfcGhvbmU6IGRhdGEucHJlX21iX3Bob25lLCAKICAgICAgICAgICAgICAgICAgICBwcmVfbGVmdF90aW1lOiBkYXRhLnByZV9sZWZ0X3RpbWUsCgogICAgICAgICAgICAgICAgICAgIHBseV9hbXQ6IGRhdGEucGx5X2FtdCwgCiAgICAgICAgICAgICAgICAgICAgcGx5X3N0YXR1OiBkYXRhLnBseV9zdGF0dSwKICAgICAgICAgICAgICAgICAgICBwcmVfU2VhdDogZGF0YS5wcmVfU2VhdCwKICAgICAgICAgICAgICAgICAgICBzdENOVDpbXSwKICAgICAgICAgICAgICAgICAgICBzdGVkOjAsCgogICAgICAgICAgICAgICAgICAgIC8vIG1lbW9fMTogZGF0YS5tZW1vXzEsCiAgICAgICAgICAgICAgICAgICAgLy8gbWVtb18yOiBkYXRhLm1lbW9fMiwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRoaXMuQmtMaXN0cyA9IF90dXRvcmlhbHM7CgoKICAgICAgICAgICAgLy8gCgogICAgICAgICAgICAvLyB0aGlzLmNmZygpOwogICAgICAgIH0sCgogICAgICAgIG9uRGF0YUNoYW5nZShpdGVtcykgewoKICAgICAgICAgICAgbGV0IF90dXRvcmlhbHMgPSBbXTsKICAgICAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgbGV0IGtleSA9IGl0ZW0ua2V5OwogICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBpdGVtLnZhbCgpOwogICAgICAgICAgICAgICAgX3R1dG9yaWFscy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgICAgICAgICBwb3M6IGRhdGEucG9zLAogICAgICAgICAgICAgICAgICAgIHNubzogZGF0YS5zbm8sCiAgICAgICAgICAgICAgICAgICAgc25vX2lkeDogZGF0YS5zbm9faWR4LAogICAgICAgICAgICAgICAgICAgIHNub19pZDogZGF0YS5zbm9faWQsCgogICAgICAgICAgICAgICAgICAgIHRtcF9pZHg6IGRhdGEudG1wX2lkeCwKICAgICAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6IGRhdGEubGVmdF90aW1lLAogICAgICAgICAgICAgICAgICAgIG1lbW86IGRhdGEubWVtbywKICAgICAgICAgICAgICAgICAgICBwbHlfc3RhdHU6IGRhdGEucGx5X3N0YXR1LAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdGhpcy50dXRvcmlhbHMgPSBfdHV0b3JpYWxzOwoKICAgICAgICAgICAgLy8gdGhpcy5jZmcoKTsKICAgICAgICB9LAoKICAgICAgICAvLyBjZmcoZSl7CgogICAgICAgIC8vICAgICBpZiggZS5wb3MgPT0gJ+WMlycgJiYgZS5sZWZ0X3RpbWUgIT0nJyApCiAgICAgICAgLy8gICAgIHsKICAgICAgICAvLyAgICAgICAgIHRoaXMuZXhpc3RzX05vd1sxXT0gcGFyc2VJbnQodGhpcy5leGlzdHNfTm93WzBdKSsxIDsKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgICBlbHNlIGlmKCBlLnBvcyA9PSAn5Y2XJyAmJiBlLmxlZnRfdGltZSAhPScnICkKICAgICAgICAvLyAgICAgewogICAgICAgIC8vICAgICAgICAgdGhpcy5leGlzdHNfTm93WzFdPSBwYXJzZUludCh0aGlzLmV4aXN0c19Ob3dbMV0pKzEgOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gfSwKCgogICAgICAgIHJlZnJlc2hMaXN0KCkgewogICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbCA9IG51bGw7CiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gLTE7CiAgICAgICAgfSwKICAgICAgICBjZmcoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvcHlSaWdodF9OX2F1dG8gPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuY29weVJpZ2h0X1QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuY29weVJpZ2h0X04gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuY29weVJpZ2h0X00gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICB0aGlzLmJjaF9sZWZ0X3RpbWUgPSAiIjsKICAgICAgICAgICAgICAgIHRoaXMuYmNoX3RtcF9pZHggPSAiIjsKICAgICAgICAgICAgICAgIHRoaXMuYXV0b190bXBfaWR4ID0gIiI7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCiAgICAgICAgc2V0QWN0aXZlVHV0b3JpYWwodHV0b3JpYWwsIGluZGV4KSB7CgogICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXRvcmlhbCA9IHR1dG9yaWFsOwogICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4OyAKCiAgICAgICAgICAgIGlmICh0aGlzLmNvcHlSaWdodF9OX2F1dG8gIT0gZmFsc2UpIHsKCiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgdGhpcy5jb3B5UmlnaHRfVCA9IHRydWU7CiAgICAgICAgICAgICAgICAvLyB0aGlzLmJjaF9sZWZ0X3RpbWU9dGhpcy5jdXJyZW50VHV0b3JpYWwubGVmdF90aW1lIDsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLmxlZnRfdGltZSA9IHRoaXMuYmNoX2xlZnRfdGltZTsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLnBseV9zdGF0dSA9ICfpppbmrKEnOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLnRtcF9pZHggPSB0aGlzLmF1dG9fdG1wX2lkeDsKICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRfY29weSsrOwogICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRfY29weSAlIDIgPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b190bXBfaWR4ID0gcGFyc2VJbnQodGhpcy5hdXRvX3RtcF9pZHgpICsgMTsKICAgICAgICAgICAgICAgIH0gIAogICAgICAgICAgICAgICAgdGhpcy5iY2hfdXBkdGEoKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMubWVzc2FnZSA9ICLopIfoo73mm7TmlrAg5oiQ5YqfISI7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICBpZiAodGhpcy5jb3B5UmlnaHRfTiAhPSBmYWxzZSkgewogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwudG1wX2lkeCA9IHRoaXMuYmNoX3RtcF9pZHg7CiAgICAgICAgICAgICAgICB0aGlzLmJjaF91cGR0YSgpOwogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuikh+ijveabtOaWsCDmiJDlip8hIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoaXMuY29weVJpZ2h0X1QgIT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLmxlZnRfdGltZSA9IHRoaXMuYmNoX2xlZnRfdGltZTsKICAgICAgICAgICAgICAgIHRoaXMuYmNoX3VwZHRhKCk7CiAgICAgICAgICAgICAgICAvLyB0aGlzLm1lc3NhZ2UgPSAi6KSH6KO95pu05pawIOaIkOWKnyEiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLmNvcHlSaWdodF9NICE9IGZhbHNlICYmIHRoaXMuc2hvdWxkUHV0PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy51cGxkcGxheUdwKHR1dG9yaWFsKTsKICAgICAgICAgICAgICAgIHRoaXMuQmtMaXN0c1t0aGlzLkxzdFhdLnByZV9TZWF0LnB1c2godHV0b3JpYWwpOyAKICAgICAgICAgICAgfQogIAogICAgICAgICAgICAKICAgICAgICAgICAgCgogICAgICAgICAgICAvLyBpZiAodGhpcy5jb3B5UmlnaHRfTSAhPSBmYWxzZSAmJiB0aGlzLnNob3VsZFB1dCA9PSB0cnVlKSB7CiAgICAgICAgICAgIC8vICAgICB0aGlzLkJrTGlzdHNbdGhpcy5Mc3RYXS5wcmVfU2VhdC5wdXNoKHR1dG9yaWFsKTsgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgLy8gICAgIC8vIHRoaXMudXBsZHBsYXlHcCh0dXRvcmlhbCk7CgogICAgICAgICAgICAvLyAgICAgLy8gLSAtIC0gLSAtIC0gIAogICAgICAgICAgICAvLyAgICAgdGhpcy5zaG91bGRQdXQgPSBmYWxzZTsgCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgICAgIC8vIGlmICh0aGlzLnNob3VsZFB1dCA9PSBmYWxzZSkgeyAKICAgICAgICAgICAgLy8gICAgIHRoaXMuc2hvdWxkUHV0ID0gdHJ1ZTsgCiAgICAgICAgICAgIC8vIH0KCiAgICAgICAgfSwKCiAgICAgICAgYmNoX3VwZHRhKCkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogdGhpcy5jdXJyZW50VHV0b3JpYWwudG1wX2lkeCwKICAgICAgICAgICAgICAgIGxlZnRfdGltZTogdGhpcy5jdXJyZW50VHV0b3JpYWwubGVmdF90aW1lLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiB0aGlzLmN1cnJlbnRUdXRvcmlhbC5wbHlfc3RhdHUsCiAgICAgICAgICAgICAgICAvLyBtZW1vOiB0aGlzLmN1cnJlbnRUdXRvcmlhbC5tZW1vLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgU2VhdERhdGFTZXJ2aWNlLnVwZGF0ZSh0aGlzLmN1cnJlbnRUdXRvcmlhbC5rZXksIGRhdGEpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIuabtOaWsOaIkOWKnyEiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSAKICAgICAgICAsCgoKICAgICAgICByZVNldF9wb3NfMCgpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnQXJlIHlvdSBzdXJlPycsCiAgICAgICAgICAgICAgICB0ZXh0OiAi5rqW5YKZ5riF55CG6LOH5paZISIsCiAgICAgICAgICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfppqzkuIosIOmAsuihjOa4heeQhiAhJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtoghJwogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDw9IDEwMDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVR1dG9yaWFsKHRoaXMudHV0b3JpYWxzW2luZGV4XSwgaW5kZXgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlU2V0T25lKHRoaXMudHV0b3JpYWxzW2luZGV4XSwgaW5kZXgpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKAogICAgICAgICAgICAgICAgICAgICAgICAn5riF6Zmk5a6M55WiIScsCiAgICAgICAgICAgICAgICAgICAgICAgICfnm67liY0uJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgICAgIHJlU2V0X3Bvc18xKCkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICAgICAgICAgIHRleHQ6ICLmupblgpnmuIXnkIbos4fmlpkhIiwKICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mmrOS4iiwg6YCy6KGM5riF55CGICEnLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCEnCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPD0gMzA7IGluZGV4KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUdXRvcmlhbCh0aGlzLnR1dG9yaWFsc1tpbmRleF0sIGluZGV4KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZVNldE9uZSh0aGlzLnR1dG9yaWFsc1tpbmRleF0sIGluZGV4KTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgKICAgICAgICAgICAgICAgICAgICAgICAgJ+a4hemZpOWujOeVoiEnLAogICAgICAgICAgICAgICAgICAgICAgICAn55uu5YmNLicsCiAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJwogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKCiAgICAgICAgfSwKCiAgICAgICAgcmVTZXRfcG9zXzIoKSB7CgogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICAgICAgICAgIHRleHQ6ICLmupblgpnmuIXnkIbos4fmlpkhIiwKICAgICAgICAgICAgICAgIGljb246ICd3YXJuaW5nJywKICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mmrOS4iiwg6YCy6KGM5riF55CGICEnLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCEnCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMzE7IGluZGV4IDw9IDEwMDsgaW5kZXgrKykgewoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUdXRvcmlhbCh0aGlzLnR1dG9yaWFsc1tpbmRleF0sIGluZGV4KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZVNldE9uZSh0aGlzLnR1dG9yaWFsc1tpbmRleF0sIGluZGV4KTsKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICfmuIXpmaTlroznlaIhJywKICAgICAgICAgICAgICAgICAgICAgICAgJ+ebruWJjS4nLAogICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCgogICAgICAgIH0sCgogICAgICAgIHJlU2V0T25lKHR1dG9yaWFsLCBpbmRleCkgewoKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwgPSB0dXRvcmlhbDsKICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKCiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLnRtcF9pZHggPSAiIjsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwubGVmdF90aW1lID0gIiI7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLm1lbW8gPSAiIjsKICAgICAgICAgICAgdGhpcy5jdXJyZW50VHV0b3JpYWwucGx5X3N0YXR1ID0gIiI7CiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1dG9yaWFsLnBseV90eXBlID0gIiI7CiAgICAgICAgICAgIC8vIHRoaXMuY3VycmVudFR1dG9yaWFsLnBtdF9MaXN0ID0gIiI7CgogICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgdG1wX2lkeDogIiIsCiAgICAgICAgICAgICAgICBsZWZ0X3RpbWU6ICIiLAogICAgICAgICAgICAgICAgbWVtbzogIiIsCgogICAgICAgICAgICAgICAgcGx5X3R5cGU6ICIiLAogICAgICAgICAgICAgICAgcGx5X3N0YXR1OiAiIiwKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIFNlYXREYXRhU2VydmljZS51cGRhdGUodGhpcy5jdXJyZW50VHV0b3JpYWwua2V5LCBkYXRhKQogICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICLmm7TmlrDmiJDlip8hIjsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHJlbW92ZUFsbFR1dG9yaWFscygpIHsKICAgICAgICAgICAgU2VhdERhdGFTZXJ2aWNlLmRlbGV0ZUFsbCgpCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKIAogICAgICAgIENoa1RpbWUyZ2V0Q29sb3IobGVmdF90aW1lKSB7CgogICAgICAgICAgICBsZXQgbm93X0ggPSBwYXJzZUludCh0aGlzLmRheWpzKHRoaXMuY1QpLmZvcm1hdCgiSEgiKSkKICAgICAgICAgICAgbGV0IG5vd19NID0gcGFyc2VJbnQodGhpcy5kYXlqcyh0aGlzLmNUKS5mb3JtYXQoIm1tIikpCiAgICAgICAgICAgIGxldCBjb2xBcnkgPSBbJyM1NDU0NTQnLCAnI0U5MUU2MycsICcjMjE5NkYzJ10KCiAgICAgICAgICAgIHZhciBzdHJBcnkgPSBsZWZ0X3RpbWUuc3BsaXQoJzonKQoKICAgICAgICAgICAgbGV0IGJvb2tpbmdfSCA9IHBhcnNlSW50KHN0ckFyeVswXSkKICAgICAgICAgICAgbGV0IGJvb2tpbmdfTSA9IHBhcnNlSW50KHN0ckFyeVsxXSkKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAobGVmdF90aW1lID09ICIiKSB7IHJldHVybiBjb2xBcnlbMF0gfSBlbHNlIGlmIChub3dfSCA+IGJvb2tpbmdfSCkgewogICAgICAgICAgICAgICAgICAgIGlmIChub3dfTSA+PSBib29raW5nX00pIHsgcmV0dXJuIGNvbEFyeVsxXSB9IGVsc2UgaWYgKG5vd19NIDwgYm9va2luZ19NICYmIG5vd19IID49IGJvb2tpbmdfSCkgeyByZXR1cm4gY29sQXJ5WzFdIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm93X0ggPT0gYm9va2luZ19IKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5vd19NID49IGJvb2tpbmdfTSkgeyByZXR1cm4gY29sQXJ5WzFdIH0gZWxzZSBpZiAobm93X00gPCBib29raW5nX00pIHsgcmV0dXJuIGNvbEFyeVsyXSB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vd19IIDwgYm9va2luZ19IKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG5vd19NID49IGJvb2tpbmdfTSkgeyByZXR1cm4gY29sQXJ5WzJdIH0gZWxzZSBpZiAobm93X00gPCBib29raW5nX00pIHsgcmV0dXJuIGNvbEFyeVsyXSB9CiAgICAgICAgICAgICAgICB9IGVsc2UgeyByZXR1cm4gY29sQXJ5WzNdIH0KICAgICAgICAgICAgfSBjYXRjaCB7IHJldHVybiBjb2xBcnlbM10gfQogICAgICAgIH0sCiAgICAgICAgdXBkYXRlQ3VycmVudFRpbWUoKSB7IHRoaXMuY1QgPSBEYXRlLm5vdygpOyB9LAoKICAgICAgICBnZXRGaWxlX25hbWUoKSB7CiAgICAgICAgICAgIGxldCBMID0gJ+mdtuS9jeaUtuebiue0gOmMhF8nOwogICAgICAgICAgICBsZXQgayA9IHRoaXMuZGF5anMoRGF0ZS5ub3coKSkuZm9ybWF0KCJNTeaciERE5pelX0hI6buebW3liIYiKTsKICAgICAgICAgICAgbGV0IEogPSAnLmNzdic7CiAgICAgICAgICAgIHRoaXMuZmlsZU5hbWUgPSBMICsgayArIEo7CiAgICAgICAgfSwKCgogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coX3R1dG9yaWFscy50aXRsZSk7ICAKICAgICAgICBCa2luZ05vdGVEYXRhU2VydmljZS5nZXRBbGwoKS5vbigidmFsdWUiLCB0aGlzLkJraW5nTm90ZW9uRGF0YUNoYW5nZSk7CiAgICAgICAgU2VhdERhdGFTZXJ2aWNlLmdldEFsbCgpLm9uKCJ2YWx1ZSIsIHRoaXMub25EYXRhQ2hhbmdlKTsKICAgICAgICAvLyBQbXREYXRhU2VydmljZS5nZXRBbGwoKS5vbigidmFsdWUiLCB0aGlzLnBtdF9vbkRhdGFDaGFuZ2UpOwogICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZUN1cnJlbnRUaW1lLCAxMDAwKTsKICAgIH0sCiAgICBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIFNlYXREYXRhU2VydmljZS5nZXRBbGwoKS5vZmYoInZhbHVlIiwgdGhpcy5vbkRhdGFDaGFuZ2UpOwogICAgfSwKCgp9Owo="},null]}