{"remainingRequest":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/components/bdadd5_History.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/src/components/bdadd5_History.vue","mtime":1656724263593},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/qiushunqun/Desktop/射箭專案/GitHub/17soooo/17soooo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5saXN0IHsKICB0ZXh0LWFsaWduOiBsZWZ0OwogIC8qIG1heC13aWR0aDogNzUwcHg7ICovCiAgbWFyZ2luOiBhdXRvOwp9Cg=="},{"version":3,"sources":["bdadd5_History.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuSA;AACA;AACA;AACA;AACA","file":"bdadd5_History.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\" flex justify-center  \">\n    \n    \n    <div class=\"w-full \">   \n      功能測試中．．． 未完整完成\n        <v-tabs\n            v-model=\"tab\"\n            background-color=\"deep-purple\" \n            grow\n            active-class=\"bg-gray-900 text-white\"\n            class=\"text-gray-500\"\n          > \n            <v-tab key='k1' href='#k1' v-if=\"!hide\" class=\"bg-gray-200  \"  >    \n              記錄清單一覽\n            </v-tab>\n\n            <!-- <v-tab key='k2' href='#k2' class=\"bg-gray-200  \" > \n              中央 _南場\n            </v-tab>\n\n            <v-tab key='k3' href='#k3' v-if=\"!hide\" class=\"bg-gray-200  \" >    \n              北北東 _場  \n            </v-tab>  -->\n            \n          </v-tabs>  \n\n      <v-tabs-items v-model=\"tab\">\n \n\n        <v-tab-item key='k1' value='k1'> \n          <v-list-item-group \n            color=\"primary\" >\n            <v-list-item\n              v-for=\"(tutorial, index) in Rts\"  \n              :key=\"index\"\n              v-if=\"tutorial.left_time !='' && tutorial.tmp_idx !='' && tutorial.status !=''  \"\n            > \n              <v-list-item-content \n                      class=\" text-xs py-2 pl-3 my-1 border-2 rounded-sm  \"\n                      :class=\"{ [`bg-${color[parseInt(tutorial.sno)]}-100 border-${color[parseInt(tutorial.sno)]}-300`]: 1 }\" \n              >\n                <div class=\" flex  w-full\">\n                    <div class=\" flex-auto mx-1\"> {{ tutorial.pos }}_{{ tutorial.sno }}_{{ tutorial.sno_idx }}  </div>\n                    <div class=\"  w-2/6   text-xs font-black\"> \n                      <span class=\" p-1 bg-red-500 rounded-full text-white text-xs font-black\"> {{ tutorial.tmp_idx }} </span>  \n                        , <v-chip \n                          :color=\"ChkTime2getColor(tutorial.left_time)\" dark small >\n                          {{ tutorial.left_time }}離 \n                        </v-chip> \n                    </div>  \n                    <div class=\" w-1/6 text-xs text-blue-500 \">  {{ tutorial.ply_statu }},{{ tutorial.memo }}   </div> \n                    <div class=\"w-2/6 grid justify-items-end\"> \n                      <div class=\"flex-row\">\n                        <v-btn v-show=\"tutorial.left_time != '' && tutorial.ply_statu != '我要續時'\" small  > 紀錄..做廢</v-btn> \n                        <span class=\" p-1 rounded-full text-gray-600 text-xs mr-3\"> 登記時間 {{ dayjs(tutorial.cratTime).format('YYYY-MM-DD, h:mm A') }} </span> \n                       \n                        <!-- <v-btn v-show=\"tutorial.ply_statu == '我要續時' \" small @click=\"upldStatu_Mdf(tutorial,'問過不續')\" > 不續</v-btn> \n                        <v-btn v-show=\"tutorial.ply_statu == '我要續時' \" small @click=\"upldStatu_Mdf(tutorial,'首時')\" > 取消</v-btn>  -->\n                      </div>\n                    </div> \n                  </div>\n              </v-list-item-content>\n \n              \n              \n            </v-list-item>\n          </v-list-item-group>\n        </v-tab-item>\n\n                <v-tab-item key='k2' value='k2' > \n                  \n          <v-list-item-group \n            color=\"primary\" \n            >\n            <v-list-item\n              v-for=\"(tutorial, index) in tutorials\"  \n              :key=\"index\" \n              v-if=\"tutorial.pos =='南'\"\n            > \n                  \n               <v-list-item-content \n                      class=\" text-xs py-2 pl-3 my-1 border-2 rounded-sm  \"\n                      :class=\"{ [`bg-${color[parseInt(tutorial.sno)]}-100 border-${color[parseInt(tutorial.sno)]}-300`]: 1 }\" \n              >\n                <div class=\" flex  w-full\">\n                    <div class=\" flex-auto mx-1\"> {{ tutorial.pos }}_{{ tutorial.sno }}_{{ tutorial.sno_idx }}  </div>\n                    <div class=\"  w-2/6   text-xs font-black\"> \n                      <span class=\" p-1 bg-red-500 rounded-full text-white text-xs font-black\"> {{ tutorial.tmp_idx }} </span>  \n                        , <v-chip \n                          :color=\"ChkTime2getColor(tutorial.left_time)\" dark small >\n                          {{ tutorial.left_time }}離 \n                        </v-chip> \n                    </div>  \n                    <div class=\" w-1/6 text-xs text-blue-500 \">  {{ tutorial.ply_statu }},{{ tutorial.memo }}   </div> \n                    <div class=\"w-2/6 grid justify-items-end\"> \n                      <div class=\"flex-row\">\n                        <v-btn v-show=\"tutorial.left_time != '' && tutorial.ply_statu != '我要續時'\" small  > 紀錄..做廢</v-btn> \n                        <span class=\" p-1 rounded-full text-gray-600 text-xs mr-3\"> 登記時間 {{ dayjs(tutorial.cratTime).format('YYYY-MM-DD, h:mm A') }} </span> \n                       \n                        <!-- <v-btn v-show=\"tutorial.ply_statu == '我要續時' \" small @click=\"upldStatu_Mdf(tutorial,'問過不續')\" > 不續</v-btn> \n                        <v-btn v-show=\"tutorial.ply_statu == '我要續時' \" small @click=\"upldStatu_Mdf(tutorial,'首時')\" > 取消</v-btn>  -->\n                      </div>\n                    </div> \n                  </div>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-tab-item>\n\n\n      </v-tabs-items>\n    </div> \n    \n  </div>\n</template>\n \n\n<script>\n\nimport TutorialDetails from \"./bkadd4_Mdf\";\n \nimport SeatDataService from \"../services/HistoryDataService\";\n \nexport default {\n  name: \"tutorials-list\",\n  components: { TutorialDetails },\n  \n\n  data() {\n    return { \n      tab:\"\",\n      // - - - - \n      color: ['red','red', 'red', 'yellow', 'yellow', 'green', 'green', 'gray', 'gray', 'blue', 'blue', 'red', 'red', 'blue', 'blue',\n                'green', 'green', 'red', 'red', 'green', 'green', 'red', 'red', 'yellow', 'yellow', 'blue', 'blue', 'green', 'green',\n                'red', 'red', 'yellow', 'yellow', 'green', 'green', 'red', 'red', 'yellow', 'yellow'\n            ],\nshow: false,\n      tutorials: [],\n      Rts:[],\n      currentTutorial: null,\n      currentIndex: -1\n    };\n  }, \n  methods: { \n\n    upldStatu(e) {\n            const data = {\n                 ply_statu: '我要續時',\n            };\n\n            SeatDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\n        upldStatu_Mdf(e,x){\n            const data = {\n                 ply_statu: x,\n            };\n\n            SeatDataService.update(e.key, data)\n                .then(() => {\n                    this.message = \"更新資料，上傳成功!\";\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n\nsh(){\n\nalert('gooo');\n},\n\n    onDataChange(items) {\n       \n      let _tutorials = [];  \n\n      items.forEach((item) => {\n        let key = item.key;\n        let data = item.val();\n        _tutorials.push({\n          key: key, \n            pos: data.pos,\n            sno: data.sno,\n            sno_idx: data.sno_idx,\n            tmp_idx: data.tmp_idx,\n            \n            left_time: data.left_time,\n            cratTime:data.cratTime,\n\n            memo: data.memo,\n            slted: data.slted,\n            statu: data.statu,\n            ply_statu: data.ply_statu,\n            \n        });\n      });\n\n      this.tutorials = _tutorials; \n\n      var ReverseArray = [];\n    var length = _tutorials.length;\n    for(var i = length-1;i>=0;i--){\n        ReverseArray.push(_tutorials[i]);\n    }\n\n    this.Rts =  ReverseArray; \n\n    },\n\n    refreshList() {\n      this.currentTutorial = null;\n      this.currentIndex = -1;\n    },\n\n    setActiveTutorial(tutorial, index) {\n      this.currentTutorial = tutorial;\n      this.currentIndex = index;\n    },\n\n    removeAllTutorials() {\n      SeatDataService.deleteAll()\n        .then(() => {\n          this.refreshList();\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n    \n    // - - - - - - - - - - - - - - \n\n    ChkTime2getColor(left_time) { \n\n      let now_H = parseInt(this.dayjs(this.cT).format(\"HH\"))  \n      let now_M = parseInt(this.dayjs(this.cT).format(\"mm\"))  \n      let colAry = ['#d3dce6','#E91E63','#2196F3','#FFFFFF']\n\n      var strAry = left_time.split(':')\n\n      let booking_H = parseInt(strAry[0] )\n      let booking_M = parseInt(strAry[1] ) \n\n      try{  \n        if ( left_time == \"\") { return colAry[0]  }\n          else if ( now_H > booking_H )  \n          { \n            if ( now_M >= booking_M ) { return colAry[1]  }\n            else if( now_M < booking_M && now_H >= booking_H ) { return colAry[1] } \n          }\n          else if( now_H == booking_H  )\n          { \n            if ( now_M >= booking_M ) { return colAry[1]  }\n            else if( now_M < booking_M ) { return colAry[2]  } \n          }\n          else if( now_H < booking_H  )\n          { \n            if ( now_M >= booking_M ) { return colAry[2]  }\n            else if( now_M < booking_M ) { return colAry[2] } \n          } \n          else{ return colAry[3] }\n        }\n      catch\n      { return colAry[3]  } \n          \n      },\n    \n  },\n  mounted() {\n    // console.log(_tutorials.title);  \n     SeatDataService.getAll().on(\"value\", this.onDataChange);  \n  },\n  beforeDestroy() {\n     SeatDataService.getAll().off(\"value\", this.onDataChange);\n  }, \n\n    \n};\n</script>\n\n<style>\n/* .submit-form {\n  max-width: 300px;\n  margin: auto;\n} */\n</style>\n\n\n<style>\n.list {\n  text-align: left;\n  /* max-width: 750px; */\n  margin: auto;\n}\n</style>\n"]}]}